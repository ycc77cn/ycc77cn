function _callSuper(e,t,n){return t=_getPrototypeOf(t),_possibleConstructorReturn(e,_isNativeReflectConstruct()?Reflect.construct(t,n||[],_getPrototypeOf(e).constructor):t.apply(e,n))}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),s=new A(r||[]);return i(a,"_invoke",{value:k(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",m={};function g(){}function y(){}function _(){}var b={};c(b,a,(function(){return this}));var E=Object.getPrototypeOf,T=E&&E(E(L([])));T&&T!==n&&r.call(T,a)&&(b=T);var w=_.prototype=g.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(i,o,a,s){var u=f(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function k(t,n,r){var i=p;return function(o,a){if(i===d)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=C(s,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=d;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?v:h,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(_typeof(t)+" is not iterable")}return y.prototype=_,i(w,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:y,configurable:!0}),y.displayName=c(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},S(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new O(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(w),c(w,u,"Generator"),c(w,a,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}
/*!
 * otel.js v2.0.17.6
 * (c) 2022-2024 dewu-frontend
 * Released under the MIT License.
 */!function(){"use strict";var e=/(d1-)|(d2-)|(t0-)|(t1-)|(t2-)|(pre-)|(cdn-)/,t={rule:/\/([a-zA-Z0-9]*(?!.*(-|_))[0-9][a-zA-Z0-9]*)(?=[^/?]*($|\?))/gm,target:"/**"},n={rule:/\/([a-z\-_]+)?\d{2,20}/g,target:"/$1**"},r=[/app\.dewu/],i=/(chrome|safari|firefox|moz|edge)(?:-extension)?:\/\/(\w+)((?:\/\w+)*\/?)/,o=/w(\d+)h(\d+)/,a=[/thirdwx/,/qlogo/,/x-oss-process.*resize,w/,/x-oss-process.*resize,h/,/x-oss-process.*video.*,w/,/imageView.*w/],s=/\.(jpe?g|png)$/i,u=/\/\/(?:h5static\.dewu\.com|oversea-h5static\.poizon\.com)\/[\w-]+\/([\d.]+)\//,c=/(?:\/[a-zA-Z0-9]+)?;base64,([a-zA-Z0-9+\/=]+)/,l=_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({},"test","https://t1-otel-trace-h5.shizhuang-inc.net"),"prod","https://prd-otel-h5-public.dewu.com"),"hk","https://hkprd-otel-h5-public.poizon.com"),"sg","https://sgprd-otel-h5-public.poizonapp.com"),"sgPlus","https://sgprd-plus-otel-h5-public.poizon.com"),f=["pre","prod","xdw"],p=[/\/[^/?]+\.{1}[^/.]+(\?.*)?$/,"__vite_ping","performance-monitor.shizhuang-inc.com",".log.aliyuncs.com","sentry","mooncake.shizhuang-inc.com","nps-sys.shizhuang-inc.com","nps.shizhuang-inc","/api/traces","/api/logs","/api/metrics","blob:","/testla-lab-service/api/teslalab/h5/data/upload","/sockjs-node/info","du-img.oss-cn-shanghai.aliyuncs.com","/api/deviceInfo"],h=["sociality-h5-ssr","h5-ssr","h5-growth","duapp-wukong-service","duapp-rn-activity-ssr-service","duapp-h5-deal-service","duapp-loan-h5-node","duapp-rn-activity-service","h5-launch-ssr","h5-newbie","h5-newbie-ssr"],d=["Script error.","Unexpected identifier","The request is not allowed by the user agent or the platform in the current context",/timeout of (\d+)ms exceeded/,"Request failed with status code","Request aborted","NotAllowedError:","NotSupportedError:","Unexpected token","ToutiaoJSBridge","Network Error",/Loading chunk (\d+) failed/,"AbortError:"],v=["Jockey is not defined","Can't find variable: Jockey"],m=["loop limit","Failed to fetch","Load failed","Non-Error promise rejection","Request failed","url is empty","x5onSkinSwitch is not defined","Unexpected identifier","ResizeObserver loop completed with undelivered notifications.","Script error.","Minified React error"],g={userInfoAPI:"/api/v1/h5/luna/user/getLoginUser",userID:"data.id",userName:"data.realname"},y={code:-100000001,message:"THE RESPONSE IS EMPTY"},_=/localhost:\d+/.test(location.host.split(".")[0])?"":location.host.split(".")[0],b="ha_region",E="DUOTELUUID",T="OTEL_SESSIONID",w="DUOTELDEBUG",S=["D0","D1","D2","pr","pre","prod","t0","t1","t2","t3","t4","test","xdw"],O=["aigc/shoe/output/","algo/watermark-remover/","creator/2021/","creator/og/","devops/d-ops-chaos-api/","efe/ee-bi-fe/","esm/module/","efe/ctoo-open-blog-admin/","efe/monitor-improve/","efe/ee-message-center/","efe/service/","efe/ee-message-fe/","efe/public-option-system-fe/","efe/iwork-poster-fe/","efe/blog/","efe/iwork-rdc-fe/","efe/iwork/","efe/efe-service/","efe/duapp-tianwang-front/","efe/duapp-wireless-service/","finance/settlement-web/","finance/gauss-web/","finance/noah-web/","finance/loan-web/","growth/h5-growth-jockey/","growth/x-case-platform/","growth/growth-vue/","growth/strategy/","growth/growth-platform-h5/","growth/cupid-front/","growth/sdk-linker/","growth/sevice/","growth/growth-react/","global/poizon-customs3/","growth/dwworld/","global/global/","growth/h5-growth/","huanran/admin-wash-crm/","huanran/web/","kefu/msd_imAdmin/","kefu/kefu-ticket-manage-sensitiveInfo/","kefu/biz-monitor-workbench/","kefu/bot-admin-platform/","kefu/IMAdmin/","kefu/kefu-ticket-quality-workbench/","kefu/kefu-workforce-management/","kefu/monitor-migrate/","kefu/duapp-ticket-platform-service/","kefu/kefu-one-stop-ticket-platform/","kefu/bot-admin/","kefu/kefu-ticket-manage/","kefu/kefu-voc-workbench/","kefu/merchant_front_prod/","kefu/prod_merchant_admin/","kefu/pre_merchant_admin/","kefu/Custom_h5ImApp_prod/","kefu/merchant_front_pre/","kefu/Custom_h5ImApp/","kefu/merchantAdmin/","kefu/merchantFront/","kefu/App_h5ImApp/","kefu/Open_h5ImApp/","kefu/one-stop/","live/mcn-images/","live/images/","live/platform/","live/live-mcn-management/","marketing/venusbackend/","marketing/nvwa-service/","marketing/node-common/","middleware/dewu-ops360-front/","marketing/breakstone/","marketing/venus/","middleware/cloud-duapp-sms-front/","marketing/phoenix-ssr-poizon/","marketing/phoenix-ssr/","marketing/eos/","questionnaire/wenjuan-fe/","questionnaire/wenjuan/","risk/risk-analysis-front/","risk-center/risk-intelligence-h5/","risk/risk-account-security/","radar-galaxy/galaxy/","supply-chain/scm-identify/","sec/waap/","sec/logcollect/","sociality/sensitive/","supply-chain/bms-pro/","supply-chain/lms-self-admin-new/","sociality/ad-platform/","supply-chain/sdc/","stark/stark-nezha/","supply-chain/scm-cost/","search/search-push-platform/","steps/gondor/","supply-chain/identify-web/","supply-chain/ams-feishu/","supply-chain/db-admin-web/","supply-chain/dp-operate/","sociality/mcn-tourist/","stark/alistun-web/","stark/erp-web/","stark/erp-poizonx-web/","supply-chain/identify-management/","stark/dop-web/","supply-chain/bms-admin/","stark/v2-merchant/","search/transaction/","sociality/nft-admin/","sociality/nft-admin-video/","supply-chain/pms/","supply-chain/identify-platform/","steps/stark-componets/","stark/gondor-v3-shop/","sociality/business-platform-file/","sociality/business-platform/","sociality/web/","sociality/video/","search/knowledgeBase/","supply-chain/scm-cdn/","supply-chain/scm-main/","sec/ueba/","sociality/duapp-preview/","supply-chain/algorithm-platform/","sociality/verify/","sociality/script/","stark/stark-web-temp/","sociality/mcn/","sociality/mcn-file/","supply-chain/ams/","supply-chain/tms-admin/","supply-chain/dms-admin/","sociality/stable-external-web3/","supply-chain/identify-talent/","sociality/sociality-external-platform-img/","sociality/external-platform-file/","supply-chain/lms-admin/","sociality/sociality-h5-ssr/","sociality/sociality-external-platform/","sociality/stable-external-web-v2/","supply-chain/self-service-applets-new/","stark/stark-web/","supply-chain/self-service-applets/","supply-chain/driver-applet/","supply-chain/qms-admin/","supply-chain/scm-hive/","supply-chain/srm-admin/","supply-chain/work-order-admin/","supply-chain/identify-miniapp/","supply-chain/identify-h5/","sociality/stable-external-web/","sociality/oss-platform-2/","sociality/oss-platform/","sociality/stark/","sociality/oss/","toufang/materialManage/","toufang/beagle/","trade/pns/","toufang/bussiness/","toufang/material-manage/","trade/gondor/","toufang/ueba-test/","toufang/kol-manage/","toufang/kol-manage-react/","trade/oss-adapter-admin/","toufang/xingqiao/","trade/oss-admin-test/","toufang/ad-serving-manage/","trade/oss-platform/","web/og/mcn/","web/2021/talent/","web/og/talent/"],k=Object.prototype.toString,C=function(e){return k.call(e).slice(8,-1)};function R(e){return function(t){return k.call(t)==="[object ".concat(e,"]")}}var P={isNumber:R("Number"),isString:R("String"),isBoolean:R("Boolean"),isNull:R("Null"),isUndefined:R("Undefined"),isSymbol:R("Symbol"),isFunction:R("Function"),isObject:R("Object"),isArray:R("Array"),isProcess:R("process"),isWindow:R("Window"),isBigInt:function(e){return"bigint"==typeof e},isNaN:function(e){return P.isNumber(e)&&e!=e}},A=function(){return navigator.onLine},L="undefined"!=typeof window&&"undefined"!=typeof document;var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Math.random()*t<=e};var x=function(){if(L)return window}();function N(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function D(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;var M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cn",n=function(e){return"cn"===t?e:"".concat(t).concat(e)};return e?e.toLowerCase().includes("xdw")?n("xdw"):e.toLowerCase().includes("pre")?n("pre"):e.toLowerCase().includes("pr")?n("prod"):n("test"):e},j=function(){var e=Object.values(S).find((function(e){return(location.host+location.pathname).includes(e)}));return M(e)||"t1"},U=function(){var e=localStorage.getItem(E);if(!e){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};e="".concat(t()+t(),"-").concat(t(),"-").concat(t(),"-").concat(t(),"-").concat(t()+t()+t(),"-").concat(Date.now()),localStorage.setItem(E,e)}return e},B=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return"PAGEID_".concat(e()+e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()+e()+e())},H="<anonymous>";function z(e){try{return e&&"function"==typeof e&&e.name||H}catch(e){return H}}function F(){return"undefined"==typeof document||null==document.location?"":document.location.href}function q(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,n,r)}function V(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.removeEventListener(t,n,r)}var Z=function(e,t){try{var n,r=e,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(P.isFunction(o))r=o(e);else{var a=o.rule,s=o.target;r=r.replace(a,s)}}}catch(e){i.e(e)}finally{i.f()}return r}catch(t){return e}};var G=function(e){if(e){var t={},n=e.split("?")[1];return n&&n.split("&").forEach((function(e){var n=e.split("=");t[n[0]]=n[1]})),t}},X=function(e){return _toConsumableArray(new Set(e))},W=function(e,t){if(!e||!t)return!1;if((P.isString(t)||t.source||P.isFunction(t))&&(t=[t]),!P.isArray(t))return console.warn("[otel] invalid rules of ignore config, (list of) String/RegExp/Funcitons are available"),!1;for(var n=[],r=0;r<t.length;r++){var i=t[r];if(P.isString(i))n.push(i.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"));else if(i&&i.source)n.push(i.source);else if(i&&P.isFunction(i))return i(e)}var o=new RegExp(n.join("|"),"i");return!!(n.length&&o.test&&o.test(e))},J=function(e,t){return"object"!==_typeof(e)?"":t.split(".").reduce((function(e,t){return e&&e[t]}),e)},K="DUOTEL Logger",Q=function(){function e(){var t=this;if(_classCallCheck(this,e),this.enabled=(null==x?void 0:x.DUOTELDEBUG)||localStorage.getItem(w)||!1,this._console={},x.console=console||x.console,console||x.console){["log","debug","info","warn","error","assert"].forEach((function(e){e in x.console&&(t._console[e]=x.console[e])}))}}return _createClass(e,[{key:"disable",value:function(){this.enabled=!1}},{key:"bindOptions",value:function(e){this.enabled=(null==x?void 0:x.DUOTELDEBUG)||localStorage.getItem(w)||e}},{key:"enable",value:function(){this.enabled=!0}},{key:"getEnableStatus",value:function(){return this.enabled}},{key:"log",value:function(){var e;if(this.enabled){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=this._console).log.apply(e,["".concat(K,"[Log]:")].concat(n))}}},{key:"warn",value:function(){var e;if(this.enabled){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=this._console).warn.apply(e,["".concat(K,"[Warn]:")].concat(n))}}},{key:"error",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=this._console).error.apply(e,["".concat(K,"[Error]:")].concat(n))}}]),e}(),Y=new Q;var $=function(){if(L){var e=x.navigator.userAgent;return/duapp/.test(e)}return!1},ee=function(){var e=(x.navigator.userAgent||"").toLowerCase(),t=/(Dsphere|duapp)\/[\d._]+/gm.exec(e);return t?_slicedToArray(t,1)[0].toString().replace(/[^0-9|_.]/g,"").replace(/_/g,"."):"-"},te=function(e,t){return!(!/^iwork-/.test(e)||t.includes(e))},ne=function(e,t){for(var n=e.toString().split("."),r=t.toString().split("."),i=0,o=Math.max(n.length,r.length);i<o;i++){var a=n[i],s=r[i];if(void 0!==a&&void 0===s)return 1;if(void 0===a&&void 0===s)return 0;if(void 0===a&&void 0!==s)return-1;if(+a>+s)return 1;if(+a!=+s&&+a<+s)return-1}return 0},re=function(){var e,t=(e=(navigator.userAgent||"").match(/Chrom(?:(e|ium))\/([0-9.]+)/))?e[2]:"";return!t||ne(t,"88.0.4324.104")>=0},ie=function(){return new Promise((function(e){var t=document.querySelector('meta[name="BUILD_VERSION"]');t&&(null==t?void 0:t.content)?e(null==t?void 0:t.content):setTimeout((function(){var t=Array.from(document.querySelectorAll("script")).filter((function(e){return u.test(e.src)})).map((function(e){return e.src.match(u)[1]}))[0];if(t)e(t);else{var n=Array.from(document.querySelectorAll("link")).filter((function(e){return u.test(e.href)})).map((function(e){return e.href.match(u)[1]}))[0];e(n||"")}}),10)}))},oe=function(){return new Promise((function(e){var t=U();try{var n=x.sessionStorage.getItem("DUOTEL_USERID_CACHE");if(n)return void e(n);var r=Y.getEnableStatus();$()&&x.Jockey&&!r?(x.Jockey.on("getPlatformInfoCallback",(function(n){var r;try{var i=(null===(r=null==n?void 0:n.data)||void 0===r?void 0:r.userId)||"";i?(window.sessionStorage.setItem("DUOTEL_USERID_CACHE",i),e(String(i))):e(t)}catch(n){e(t)}})),x.Jockey.send("getPlatformInfo")):e(t)}catch(n){e(t)}}))},ae="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function se(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ue,ce,le={exports:{}};ue=le,ce=le.exports,function(e,t){var n="function",r="undefined",i="object",o="string",a="major",s="model",u="name",c="type",l="vendor",f="version",p="architecture",h="console",d="mobile",v="tablet",m="smarttv",g="wearable",y="embedded",_="Amazon",b="Apple",E="ASUS",T="BlackBerry",w="Browser",S="Chrome",O="Firefox",k="Google",C="Huawei",R="LG",P="Microsoft",A="Motorola",L="Opera",I="Samsung",x="Sharp",N="Sony",D="Xiaomi",M="Zebra",j="Facebook",U="Chromium OS",B="Mac OS",H=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},z=function(e,t){return _typeof(e)===o&&-1!==F(t).indexOf(F(e))},F=function(e){return e.toLowerCase()},q=function(e,t){if(_typeof(e)===o)return e=e.replace(/^\s\s*/,""),_typeof(t)===r?e:e.substring(0,350)},V=function(e,r){for(var o,a,s,u,c,l,f=0;f<r.length&&!c;){var p=r[f],h=r[f+1];for(o=a=0;o<p.length&&!c&&p[o];)if(c=p[o++].exec(e))for(s=0;s<h.length;s++)l=c[++a],_typeof(u=h[s])===i&&u.length>0?2===u.length?_typeof(u[1])==n?this[u[0]]=u[1].call(this,l):this[u[0]]=u[1]:3===u.length?_typeof(u[1])!==n||u[1].exec&&u[1].test?this[u[0]]=l?l.replace(u[1],u[2]):t:this[u[0]]=l?u[1].call(this,l,u[2]):t:4===u.length&&(this[u[0]]=l?u[3].call(this,l.replace(u[1],u[2])):t):this[u]=l||t;f+=2}},Z=function(e,n){for(var r in n)if(_typeof(n[r])===i&&n[r].length>0){for(var o=0;o<n[r].length;o++)if(z(n[r][o],e))return"?"===r?t:r}else if(z(n[r],e))return"?"===r?t:r;return e},G={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,f],[/opios[\/ ]+([\w\.]+)/i],[f,[u,L+" Mini"]],[/\bopr\/([\w\.]+)/i],[f,[u,L]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[u,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[u,"UC"+w]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[f,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[u,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[f,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+w],f],[/\bfocus\/([\w\.]+)/i],[f,[u,O+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[u,L+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[u,L+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[u,"MIUI "+w]],[/fxios\/([-\w\.]+)/i],[f,[u,O]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 "+w]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 "+w],f],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[u,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,j],f],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[u,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[u,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[f,[u,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[u,S+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,S+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[u,"Android "+w]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[f,Z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[u,O+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[u,f],[/(cobalt)\/([\w\.]+)/i],[u,[f,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,F]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows (ce|mobile); ppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[p,/ower/,"",F]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,F]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[s,[l,I],[c,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[s,[l,I],[c,d]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[s,[l,b],[c,d]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[s,[l,b],[c,v]],[/(macintosh);/i],[s,[l,b]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[s,[l,x],[c,d]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[s,[l,C],[c,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[s,[l,C],[c,d]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[s,/_/g," "],[l,D],[c,d]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[s,/_/g," "],[l,D],[c,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[s,[l,"OPPO"],[c,d]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[s,[l,"Vivo"],[c,d]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[s,[l,"Realme"],[c,d]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[s,[l,A],[c,d]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[s,[l,A],[c,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[s,[l,R],[c,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[s,[l,R],[c,d]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[s,[l,"Lenovo"],[c,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[s,/_/g," "],[l,"Nokia"],[c,d]],[/(pixel c)\b/i],[s,[l,k],[c,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[s,[l,k],[c,d]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[s,[l,N],[c,d]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[s,"Xperia Tablet"],[l,N],[c,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[s,[l,"OnePlus"],[c,d]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[s,[l,_],[c,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[s,/(.+)/g,"Fire Phone $1"],[l,_],[c,d]],[/(playbook);[-\w\),; ]+(rim)/i],[s,l,[c,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[s,[l,T],[c,d]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[s,[l,E],[c,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[s,[l,E],[c,d]],[/(nexus 9)/i],[s,[l,"HTC"],[c,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[l,[s,/_/g," "],[c,d]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[s,[l,"Acer"],[c,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[s,[l,"Meizu"],[c,d]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[l,s,[c,d]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[l,s,[c,v]],[/(surface duo)/i],[s,[l,P],[c,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[s,[l,"Fairphone"],[c,d]],[/(u304aa)/i],[s,[l,"AT&T"],[c,d]],[/\bsie-(\w*)/i],[s,[l,"Siemens"],[c,d]],[/\b(rct\w+) b/i],[s,[l,"RCA"],[c,v]],[/\b(venue[\d ]{2,7}) b/i],[s,[l,"Dell"],[c,v]],[/\b(q(?:mv|ta)\w+) b/i],[s,[l,"Verizon"],[c,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[s,[l,"Barnes & Noble"],[c,v]],[/\b(tm\d{3}\w+) b/i],[s,[l,"NuVision"],[c,v]],[/\b(k88) b/i],[s,[l,"ZTE"],[c,v]],[/\b(nx\d{3}j) b/i],[s,[l,"ZTE"],[c,d]],[/\b(gen\d{3}) b.+49h/i],[s,[l,"Swiss"],[c,d]],[/\b(zur\d{3}) b/i],[s,[l,"Swiss"],[c,v]],[/\b((zeki)?tb.*\b) b/i],[s,[l,"Zeki"],[c,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[l,"Dragon Touch"],s,[c,v]],[/\b(ns-?\w{0,9}) b/i],[s,[l,"Insignia"],[c,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[s,[l,"NextBook"],[c,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[l,"Voice"],s,[c,d]],[/\b(lvtel\-)?(v1[12]) b/i],[[l,"LvTel"],s,[c,d]],[/\b(ph-1) /i],[s,[l,"Essential"],[c,d]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[s,[l,"Envizen"],[c,v]],[/\b(trio[-\w\. ]+) b/i],[s,[l,"MachSpeed"],[c,v]],[/\btu_(1491) b/i],[s,[l,"Rotor"],[c,v]],[/(shield[\w ]+) b/i],[s,[l,"Nvidia"],[c,v]],[/(sprint) (\w+)/i],[l,s,[c,d]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[l,P],[c,d]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[s,[l,M],[c,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[s,[l,M],[c,d]],[/smart-tv.+(samsung)/i],[l,[c,m]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[l,I],[c,m]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[l,R],[c,m]],[/(apple) ?tv/i],[l,[s,b+" TV"],[c,m]],[/crkey/i],[[s,S+"cast"],[l,k],[c,m]],[/droid.+aft(\w)( bui|\))/i],[s,[l,_],[c,m]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[s,[l,x],[c,m]],[/(bravia[\w ]+)( bui|\))/i],[s,[l,N],[c,m]],[/(mitv-\w{5}) bui/i],[s,[l,D],[c,m]],[/Hbbtv.*(technisat) (.*);/i],[l,s,[c,m]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[l,q],[s,q],[c,m]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[c,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[l,s,[c,h]],[/droid.+; (shield) bui/i],[s,[l,"Nvidia"],[c,h]],[/(playstation [345portablevi]+)/i],[s,[l,N],[c,h]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[s,[l,P],[c,h]],[/((pebble))app/i],[l,s,[c,g]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[s,[l,b],[c,g]],[/droid.+; (glass) \d/i],[s,[l,k],[c,g]],[/droid.+; (wt63?0{2,3})\)/i],[s,[l,M],[c,g]],[/(quest( 2| pro)?)/i],[s,[l,j],[c,g]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[l,[c,y]],[/(aeobc)\b/i],[s,[l,_],[c,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[s,[c,d]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[s,[c,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[c,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[c,d]],[/(android[-\w\. ]{0,9});.+buil/i],[s,[l,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[u,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[u,[f,Z,G]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[u,"Windows"],[f,Z,G]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,B],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,f],[/\(bb(10);/i],[f,[u,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[u,O+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[u,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[f,[u,"watchOS"]],[/crkey\/([\d\.]+)/i],[f,[u,S+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[u,U],f],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,f],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[u,f]]},W=function h(m,g){if(_typeof(m)===i&&(g=m,m=t),!(this instanceof h))return new h(m,g).getResult();var y=_typeof(e)!==r&&e.navigator?e.navigator:t,_=m||(y&&y.userAgent?y.userAgent:""),b=y&&y.userAgentData?y.userAgentData:t,E=g?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(X,g):X,T=y&&y.userAgent==_;return this.getBrowser=function(){var e={};return e[u]=t,e[f]=t,V.call(e,_,E.browser),e[a]=function(e){return _typeof(e)===o?e.replace(/[^\d\.]/g,"").split(".")[0]:t}(e[f]),T&&y&&y.brave&&_typeof(y.brave.isBrave)==n&&(e[u]="Brave"),e},this.getCPU=function(){var e={};return e[p]=t,V.call(e,_,E.cpu),e},this.getDevice=function(){var e={};return e[l]=t,e[s]=t,e[c]=t,V.call(e,_,E.device),T&&!e[c]&&b&&b.mobile&&(e[c]=d),T&&"Macintosh"==e[s]&&y&&_typeof(y.standalone)!==r&&y.maxTouchPoints&&y.maxTouchPoints>2&&(e[s]="iPad",e[c]=v),e},this.getEngine=function(){var e={};return e[u]=t,e[f]=t,V.call(e,_,E.engine),e},this.getOS=function(){var e={};return e[u]=t,e[f]=t,V.call(e,_,E.os),T&&!e[u]&&b&&"Unknown"!=b.platform&&(e[u]=b.platform.replace(/chrome os/i,U).replace(/macos/i,B)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return _},this.setUA=function(e){return _=_typeof(e)===o&&e.length>350?q(e,350):e,this},this.setUA(_),this};W.VERSION="1.0.35",W.BROWSER=H([u,f,a]),W.CPU=H([p]),W.DEVICE=H([s,l,c,h,d,m,v,g,y]),W.ENGINE=W.OS=H([u,f]),ue.exports&&(ce=ue.exports=W),ce.UAParser=W;var J=_typeof(e)!==r&&(e.jQuery||e.Zepto);if(J&&!J.ua){var K=new W;J.ua=K.getResult(),J.ua.get=function(){return K.getUA()},J.ua.set=function(e){K.setUA(e);var t=K.getResult();for(var n in t)J.ua[n]=t[n]}}}("object"===("undefined"==typeof window?"undefined":_typeof(window))?window:ae);var fe=le.exports;se(fe);var pe,he,de,ve=function(){var e=(navigator.userAgent||"").toLowerCase(),t=function(t){return t.test(e)},n=function(t){var n=e.match(t);if(n)return n.toString().replace(/[^0-9|_.]/g,"").replace(/_/g,".")},r=fe.UAParser(e),i=r.browser,o=r.device,a=r.engine,s=r.os,u=function(e){return e?e.toLowerCase():"unknown"};var c,l=$()?"站内":"站外",f="windows"===(c=s.name.toLowerCase())||"mac os"===c||"linux"===c?"desktop":"android"===c||"ios"===c||t(/mobile/g)?"mobile":"unknow",p=function(){var e="",t="";return $()?(e="duapp",t=ee()):!function(){if(L){var e=x.navigator.userAgent;return/Dsphere/.test(e)}return!1}()?(e=u(i.name),t=u(i.version)):(e="Dsphere",t=ee()),{shell:e,shellVs:t}}(),h=p.shell,d=p.shellVs,v=function(){var e="";return t(/applewebkit/g)?t(/edge/g)?e="edge":t(/opr/g)?e="opera":t(/chrome/g)?e="chrome":t(/safari/g)&&(e="safari"):t(/gecko/g)&&t(/firefox/g)?e="firefox":t(/presto/g)?e="opera":t(/trident|compatible|msie/g)&&(e="iexplore"),e}(),m=function(e){return"chrome"===e?n(/chrome\/[\d._]+/g):"safari"===e?n(/version\/[\d._]+/g):"firefox"===e?n(/firefox\/[\d._]+/g):"opera"===e?n(/opr\/[\d._]+/g):"iexplore"===e?n(/(msie [\d._]+)|(rv:[\d._]+)/g):"edge"===e?n(/edge\/[\d._]+/g):"unknow"}(v);return{userAgent:navigator.userAgent,screenWidth:window.screen.width,screenHeight:window.screen.height,engine:u(a.name),engineVs:u(a.version),platform:f,supporter:v,supporterVs:m,device:u(o.model),deviceVendor:u(o.vendor),deviceType:u(o.type),shell:h,shellVs:d,system:u(s.name),systemVs:u(s.version),netWork:l}},me=function(e){try{var t=JSON.parse(e);if(t&&P.isObject(t))return t}catch(e){return{}}},ge=function(e){try{return e&&P.isString(e)?JSON.parse(e):e}catch(t){return e}},ye=function(e){return P.isString(e)?e:JSON.stringify(e)},_e=function(e,t){return new Promise((function(n,r){try{var i=new XMLHttpRequest,o=t||{},a=o.body,s=o.headers,u=o.method,c=void 0===u?"GET":u,l=a?JSON.stringify(a):"";for(var f in i.open(c,e),s)i.setRequestHeader(f,s[f]);i.send("POST"===c?l:""),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?n(me(i.responseText)||i.responseText):r(i.responseText))}}catch(e){console.log("xhr error",e),r(e)}}))},be=function(e,t,n){return new Promise((function(r,i){navigator.sendBeacon(e,new Blob([JSON.stringify(t)],n))?r({}):i("DUOTEL navigator.sendBeacon error: sendBeacon type is ".concat(_typeof(navigator.sendBeacon)))}))},Ee=function e(t,n){var r=t.id?"#"+t.id:"",i=t.className&&"string"==typeof t.className?"."+t.className.split(" ").join("."):"",o=("string"==typeof t.tagName?t.tagName.toLowerCase():"")+r+i;return t.parentNode&&t.parentNode.tagName&&n-1!=0?e(t.parentNode,n-1)+" > "+o:o};function Te(e){var t;return e?e.id?"#".concat(e.id):e.className&&"string"==typeof e.className?".".concat(e.className.split(" ").filter((function(e){return!!e})).join(".")):null===(t=e.nodeName)||void 0===t?void 0:t.toLowerCase():""}!function(e){e[e.Normal=1]="Normal",e[e.High=60]="High",e[e.Highest=120]="Highest"}(pe||(pe={})),function(e){e.Viewport="viewport",e.ViewportTop80="viewport_top_80",e.FirstScreen="first_screen",e.FirstScreenTop80="first_screen_top_80"}(he||(he={})),function(e){e[e.CONSOLE_ERROR_LEVEL=1]="CONSOLE_ERROR_LEVEL",e[e.REJECTION_ERROR_LEVEL=10]="REJECTION_ERROR_LEVEL",e[e.JS_ERROR_LEVEL=20]="JS_ERROR_LEVEL",e[e.CUSTOM_ERROR_LEVEL=100]="CUSTOM_ERROR_LEVEL"}(de||(de={}));var we=Object.prototype.hasOwnProperty;function Se(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function Oe(e){try{return encodeURIComponent(e)}catch(e){return null}}var ke=function(e,t){t=t||"";var n,r,i=[];for(r in"string"!=typeof t&&(t="?"),e)if(we.call(e,r)){if((n=e[r])||null!=n&&!isNaN(n)||(n=""),r=Oe(r),n=Oe(n),null===r||null===n)continue;i.push(r+"="+n)}return i.length?t+i.join("&"):""},Ce=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,r={};t=n.exec(e);){var i=Se(t[1]),o=Se(t[2]);null===i||null===o||i in r||(r[i]=o)}return r};function Re(){var e="x-oss-process",t=_slicedToArray((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("?"),2),n=t[0],r=void 0===n?"":n,i=t[1],o=Ce(void 0===i?"":i);return o[e]&&delete o[e],r+ke(o,!0)}var Pe=["SCRIPT","NOSCRIPT","STYLE","META","HEAD","LINK"],Ae="duotel_mutation_pc",Le=L?document.documentElement.clientHeight||window.innerHeight:0,Ie=L?document.documentElement.clientWidth||window.innerWidth:0,xe={SVG:pe.High,IMG:pe.High,CANVAS:pe.High,OBJECT:pe.Highest,EMBED:pe.Highest,VIDEO:pe.Highest},Ne=Le*Ie,De=["IMG","VIDEO","EMBED"];function Me(e){return!!e&&e.indexOf("//")>=0}function je(e){if(!e)return!0;var t=e.tagName&&e.tagName.toUpperCase?e.tagName.toUpperCase():"";return Pe.indexOf(t)>=0}function Ue(e,t){if(!e||je(e))return!1;var n,r;r=Ae,(n=e)&&r&&n.dataset&&(null!=n.getAttribute(r)||null!=n.dataset[r])||function(e,t,n){e&&t&&e.dataset&&(e.dataset[t]=n)}(e,Ae,"".concat(t));for(var i=e.children||[],o=0;o<i.length;o++)Ue(i[o],t)}function Be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;if(e&&!je(e)){var t,n;n=Ae,(t=e)&&n&&t.dataset&&delete t.dataset[n];for(var r=e.children||[],i=0;i<r.length;i++)Be(r[i])}}function He(e){return function(e){var t=performance.getEntriesByType("mark").filter((function(e){return 0===e.name.indexOf(Ae)})),n=t[e];return n?n.startTime:0}(Number(function(e,t){if(e&&t&&e.dataset)return e.dataset[t]}(e,Ae)))}function ze(e){var t=function(e,t){if(window.getComputedStyle)return window.getComputedStyle(e)[t]}(e,"backgroundImage");if(!t||"none"===t)return"";var n=t;try{n=(n=n.replace(/url/i,"")).replace(/['"()]/g,"")}finally{return n}}function Fe(e){var t,n=e.offsetWidth,r=e.offsetHeight,i=e.offsetLeft,o=e.offsetTop;if(!e.offsetParent||"BODY"===(null===(t=e.offsetParent.tagName)||void 0===t?void 0:t.toUpperCase()))return{top:o,left:i,width:n,height:r};var a=Fe(e.offsetParent);return{top:o+a.top,left:i+a.left,width:n,height:r}}function qe(e,t,n,r,i){return function(e,t,n,r,i){return e<=0&&n<=0||e>=i&&n>=i||r<=0&&t<=0||r>=Ie&&t>=Ie}(e,t+n,e+r,t,i)}function Ve(e){var t=e.fmp;e.firstInput;return t}function Ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return null==e?0:Number(e.toFixed(t))}var Ge={exports:{}};!function(e){!function(){var t="undefined"!=typeof window&&window===this?this:void 0!==ae&&null!=ae?ae:this,n="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};function r(){r=function(){},t.Symbol||(t.Symbol=o)}var i=0;function o(e){return"jscomp_symbol_"+(e||"")+i++}function a(){r();var e=t.Symbol.iterator;e||(e=t.Symbol.iterator=t.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&n(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return s(this)}}),a=function(){}}function s(e){var n=0;return function(e){return a(),e={next:e},e[t.Symbol.iterator]=function(){return this},e}((function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}}))}function u(e){a();var t=e[Symbol.iterator];return t?t.call(e):s(e)}function c(e){if(!(e instanceof Array)){e=u(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}var l=0;var f="img script iframe link audio video source".split(" ");function p(e,t){for(var n=(e=u(e)).next();!n.done;n=e.next())if(n=n.value,t.includes(n.nodeName.toLowerCase())||p(n.children,t))return!0;return!1}function h(e,t){if(2<e.length)return performance.now();for(var n=[],r=(t=u(t)).next();!r.done;r=t.next())r=r.value,n.push({timestamp:r.start,type:"requestStart"}),n.push({timestamp:r.end,type:"requestEnd"});for(r=(t=u(e)).next();!r.done;r=t.next())n.push({timestamp:r.value,type:"requestStart"});for(n.sort((function(e,t){return e.timestamp-t.timestamp})),e=e.length,t=n.length-1;0<=t;t--)switch(r=n[t],r.type){case"requestStart":e--;break;case"requestEnd":if(2<++e)return r.timestamp;break;default:throw Error("Internal Error: This should never happen")}return 0}function d(e){e=e||{},this.w=!!e.useMutationObserver,this.u=e.minValue||null,e=window.__tti&&window.__tti.e;var t=window.__tti&&window.__tti.o;this.a=e?e.map((function(e){return{start:e.startTime,end:e.startTime+e.duration}})):[],t&&t.disconnect(),this.b=[],this.f=new Map,this.j=null,this.v=-1/0,this.i=!1,this.h=this.c=this.s=null,function(e,t){var n=XMLHttpRequest.prototype.send,r=l++;XMLHttpRequest.prototype.send=function(i){for(var o=[],a=0;a<arguments.length;++a)o[a-0]=arguments[a];var s=this;return e(r),this.addEventListener("readystatechange",(function(){4===s.readyState&&t(r)})),n.apply(this,o)}}(this.m.bind(this),this.l.bind(this)),function(e,t){var n=fetch;fetch=function(r){for(var i=[],o=0;o<arguments.length;++o)i[o-0]=arguments[o];return new Promise((function(r,o){var a=l++;e(a),n.apply(null,[].concat(c(i))).then((function(e){t(a),r(e)}),(function(e){t(e),o(e)}))}))}}(this.m.bind(this),this.l.bind(this)),function(e){e.c=new PerformanceObserver((function(t){for(var n=(t=u(t.getEntries())).next();!n.done;n=t.next())if("resource"===(n=n.value).entryType&&(e.b.push({start:n.fetchStart,end:n.responseEnd}),m(e,h(e.g,e.b)+5e3)),"longtask"===n.entryType){var r=n.startTime+n.duration;e.a.push({start:n.startTime,end:r}),m(e,r+5e3)}})),e.c.observe({entryTypes:["longtask","resource"]})}(this),this.w&&(this.h=function(e){var t=new MutationObserver((function(t){for(var n=(t=u(t)).next();!n.done;n=t.next())("childList"==(n=n.value).type&&p(n.addedNodes,f)||"attributes"==n.type&&f.includes(n.target.tagName.toLowerCase()))&&e(n)}));return t.observe(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]}),t}(this.B.bind(this)))}function v(e){e.i=!0;var t=0<e.a.length?e.a[e.a.length-1].end:0,n=h(e.g,e.b);m(e,Math.max(n+5e3,t))}function m(e,t){!e.i||e.v>t||(clearTimeout(e.j),e.j=setTimeout((function(){var t=performance.timing.navigationStart,n=h(e.g,e.b);t=(window.a&&window.a.A?1e3*window.a.A().C-t:0)||performance.timing.domContentLoadedEventEnd-t;if(e.u)var r=e.u;else performance.timing.domContentLoadedEventEnd?r=(r=performance.timing).domContentLoadedEventEnd-r.navigationStart:r=null;var i=performance.now();null===r&&m(e,Math.max(n+5e3,i+1e3));var o=e.a;5e3>i-n?n=null:n=5e3>i-(n=o.length?o[o.length-1].end:t)?null:Math.max(n,r),n&&(e.s(n),clearTimeout(e.j),e.i=!1,e.c&&e.c.disconnect(),e.h&&e.h.disconnect()),m(e,performance.now()+1e3)}),t-performance.now()),e.v=t)}d.prototype.getFirstConsistentlyInteractive=function(){var e=this;return new Promise((function(t){e.s=t,"complete"==document.readyState?v(e):window.addEventListener("load",(function(){v(e)}))}))},d.prototype.m=function(e){this.f.set(e,performance.now())},d.prototype.l=function(e){this.f.delete(e)},d.prototype.B=function(){m(this,performance.now()+5e3)},t.Object.defineProperties(d.prototype,{g:{configurable:!0,enumerable:!0,get:function(){return[].concat(c(this.f.values()))}}});var g={getFirstConsistentlyInteractive:function(e){return e=e||{},"PerformanceLongTaskTiming"in window?new d(e).getFirstConsistentlyInteractive():Promise.resolve(null)}};e.exports?e.exports=g:window.ttiPolyfill=g}()}(Ge);var Xe=se(Ge.exports);function We(e){return!!performance&&!!performance[e]}function Je(){return We("mark")&&We("now")&&We("measure")&&We("clearMarks")&&We("getEntries")&&We("getEntriesByType")}function Ke(){var e=performance.timeOrigin;if("number"!=typeof e){var t=performance;e=t.timing&&t.timing.fetchStart}return e}var Qe=function(e){return Xe.getFirstConsistentlyInteractive({minValue:e}).then((function(e){return e}))};var Ye=function(e){return["hkprod","hkpre"].includes(e)?l.hk:["sgprod","sgpre"].includes(e)?l.sg:["sgprd-plusprod","sgprd-pluspre"].includes(e)?l.sgPlus:e&&f.includes(e.toLowerCase())?l.prod:l.test},$e=function(e){return"".concat(Ye(e),"/api/metrics")},et=function(e){return D(void 0,void 0,void 0,_regeneratorRuntime().mark((function t(){var n,r,i;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e("https://cdn-config.dewu.com/node-common/configCenter/h5-fes/".concat(e,".json"));case 3:return n=t.sent,r=n.data,i=ge(r)||{},t.abrupt("return",Promise.resolve(i));case 9:return t.prev=9,t.t0=t.catch(0),Y.log("getConfigCenter error:",t.t0),t.abrupt("return",Promise.resolve(null));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))},tt=0,nt=function(){function e(){_classCallCheck(this,e),this.dep=new Map}return _createClass(e,[{key:"watch",value:function(e,t){var n=this.dep.get(e);n?this.dep.set(e,n.concat(t)):this.dep.set(e,[t])}},{key:"offWatch",value:function(e){this.dep.has(e)&&this.dep.delete(e)}},{key:"notify",value:function(e,t){var n=this.dep.get(e);e&&n&&n.forEach((function(n){!function(e,t){try{e()}catch(e){Y.log("nativeTryCatch",e),t&&t(e)}}((function(){n(t)}),(function(t){Y.log("Subscribe.notify：监听事件的回调函数发生错误\neventName:".concat(e,"\nName: ").concat(z(n),"\nError: ").concat(t))}))}))}}]),e}(),rt=function(){function e(t){var n;_classCallCheck(this,e),this.pageId=B(),this.sessionId=function(){var e,t=Date.now(),n=sessionStorage.getItem(T),r=!1;if(n){var i=null===(e=n.split("_"))||void 0===e?void 0:e[0];r=i&&t-+i<=2592e5}if(!n||!r){var o=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};n="".concat(Date.now(),"_").concat(o()+o(),"-").concat(o(),"-").concat(o(),"-").concat(o(),"-").concat(o()+o()+o()),sessionStorage.setItem(T,n)}return n}(),this.uuid=U(),this.useXHR=!P.isFunction(navigator.sendBeacon)||!re(),this.SERVICE_NAME="",this.isComplete=!1,this.sample=100,this.getUserDone=!1,this.responseMap={},this.plugins=[],this._incompleteRequest=new Map,this.subscribe=new nt,this.options=t,this.SERVICE_NAME=this.options.appId||(null===(n=null==x?void 0:x.DU_OTEL_CONFIG)||void 0===n?void 0:n.appId)||_,Y.bindOptions(t.debug),this._registPatchListeners()}return _createClass(e,[{key:"_beforeRequestCallback",value:function(e,t){this._incompleteRequest.set(e,t)}},{key:"_afterRequestCallback",value:function(e){this._incompleteRequest.get(e)&&this._incompleteRequest.delete(e)}},{key:"_registPatchListeners",value:function(){var e,t,n,r,i,o;e=this._beforeRequestCallback.bind(this),t=this._afterRequestCallback.bind(this),n=XMLHttpRequest.prototype.open,r=XMLHttpRequest.prototype.send,i=XMLHttpRequest.prototype.setRequestHeader,o=tt++,XMLHttpRequest.prototype.send=function(e){this.body=e?ye(e):e,r.apply(this,arguments)},XMLHttpRequest.prototype.open=function(r,i){var a=this;this.requestHeader={},this.url=i,e(o,{url:i,method:r,requestType:"xhr"}),this.addEventListener("readystatechange",(function(){if(4===a.readyState){t(o);var e=a.getAllResponseHeaders()||"";if(e){var n=e.trim().split(/[\r\n]+/),r={};n.forEach((function(e){var t=e.split(": "),n=t.shift(),i=t.join(": ");r[n]=i})),a.responseHeader=r}}})),n.apply(this,arguments)},XMLHttpRequest.prototype.setRequestHeader=function(e,t){this.requestHeader[e]=t,i.apply(this,arguments)},function(e,t){var n=fetch;fetch=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return new Promise((function(r,o){var a=tt++,s=i[0],u=i[1];e(a,{url:s,method:(null==u?void 0:u.method)||"get",requestType:"fetch"}),n.apply(void 0,i).then((function(e){t(a),r(e)}),(function(e){t(a),o(e)}))}))}}(this._beforeRequestCallback.bind(this),this._afterRequestCallback.bind(this))}},{key:"use",value:function(e){var t,n,r;return D(this,void 0,void 0,_regeneratorRuntime().mark((function i(){var o,a,s,u=this;return _regeneratorRuntime().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:this.plugins=e,o=_createForOfIteratorHelper(e),i.prev=2,s=_regeneratorRuntime().mark((function e(){var i,o,s,c,l,f;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.value,e.next=3,null===(t=null==i?void 0:i.isPluginEnable)||void 0===t?void 0:t.apply(u);case 3:if(o=e.sent,Y.log("plugin",i.name,o),o){e.next=8;break}return null===(n=null==i?void 0:i.destroy)||void 0===n||n.call(u),e.abrupt("return",0);case 8:return e.next=10,null===(r=null==i?void 0:i.isPluginRegist)||void 0===r?void 0:r.apply(u);case 10:if(s=e.sent,Y.log("plugin isRegist",i.name,s),!s){e.next=14;break}return e.abrupt("return",0);case 14:c=u.subscribe.notify.bind(u.subscribe),i.monitor.call(u,c),l=function(){for(var e,t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=null===(e=i.dataTransform)||void 0===e?void 0:e.apply(u,r);null===(t=i.dataSend)||void 0===t||t.call(u,c,a)},u.subscribe.watch(i.name,l),(null==i?void 0:i.receiveBroadcast)&&(f=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];null===(e=null==i?void 0:i.receiveBroadcast)||void 0===e||e.call(u,c,n)},u.subscribe.watch("broadcast",f));case 19:case"end":return e.stop()}}),e)})),o.s();case 5:if((a=o.n()).done){i.next=12;break}return i.delegateYield(s(),"t0",7);case 7:if(0!==i.t0){i.next=10;break}return i.abrupt("continue",10);case 10:i.next=5;break;case 12:i.next=17;break;case 14:i.prev=14,i.t1=i.catch(2),o.e(i.t1);case 17:return i.prev=17,o.f(),i.finish(17);case 20:case"end":return i.stop()}}),i,this,[[2,14,17,20]])})))}},{key:"getOptions",value:function(){return this.options}},{key:"isInit",value:function(){return Boolean(this.options.appId)&&Boolean(this.options.env)}},{key:"isOutRange",value:function(){var e=this.options.grayRatio;return 100!==e&&!I(e)}}]),e}(),it=me(localStorage.getItem("DUOTELCACHE")),ot=_createClass((function e(){_classCallCheck(this,e),this.appId="",this.appVersion="",this.env="",this.type="C",this.debug=!1,this.userId=(null==it?void 0:it.userId)||0,this.userName=(null==it?void 0:it.userName)||"",this.email="",this.departmentId="",this.businessType="",this.grayRatio=100,this.dynamic=!1,this.area="cn",this.ignoreUrls=[],this.ignoreErrors=[],this.urlHelper=[t],this.apiHelper=[n],this.consoleError=!0,this.transformConsoleError2Error=!1,this.corsUrls=[],this.enableRecord=!0,this.release="",this.prefix="",this.userInfo=g,this.onBeforeBuild=null,this.onBeforeSend=null,this.onError=null,this.onCustomError=null})),at=function(){function e(t,n){_classCallCheck(this,e),this._timer=null,this.uuid=U(),this.metrics=[],this._scheduledDelayMillis=2e3,this._isBeforeUnload=!1,this._useXHR=!1;this.options=Object.assign({batch:!1,maxCache:100,exportSize:10},n),this._useXHR=t.useXHR,this.onInit()}return _createClass(e,[{key:"onInit",value:function(){var e=this;if("undefined"!=typeof document){q(x,"beforeunload",(function(){x.setTimeout((function(){e.metrics.length&&e.request(e.metrics)}),0)}))}}},{key:"merge",value:function(e){this.options=Object.assign({},this.options,e)}},{key:"request",value:function(e){return D(this,void 0,void 0,_regeneratorRuntime().mark((function t(){var n,r,i,o,a,s;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.options,r=n.appName,i=n.env,o=n.globalTags,a={appName:r,env:i,globalTags:Object.assign(Object.assign({},o),{uuid:this.uuid,href:F()}),metrics:e},s=$e(i),!this._useXHR){t.next=7;break}return t.abrupt("return",_e(s,{body:a,method:"POST"}));case 7:return t.abrupt("return",be(s,a,{type:"application/json"}));case 8:case"end":return t.stop()}}),t,this)})))}},{key:"_clearTimer",value:function(){this._timer&&(clearTimeout(this._timer),this._timer=void 0,this._isBeforeUnload=!1)}},{key:"send",value:function(e,t,n){var r=this.options.maxCache;e?this.metrics.length>r||(this.metrics.push({key:e,tags:t,timestamp:Date.now(),fields:n||{count:1}}),this.maybeStartTimer()):Y.warn("METRICS INFO: key is required!")}},{key:"maybeStartTimer",value:function(){var e=this;if(!this._timer){var t=this._isBeforeUnload?0:this._scheduledDelayMillis;this._timer=setTimeout((function(){e._flushOneBatch().then((function(){e.metrics.length>0&&(e._clearTimer(),e.maybeStartTimer())})).catch((function(t){console.info("DUOTEL METRICS _maybeStartTimer error",t),e._clearTimer()}))}),t)}}},{key:"_flushOneBatch",value:function(){var e=this,t=this.options.exportSize;return this._clearTimer(),0===this.metrics.length?Promise.resolve():new Promise((function(n,r){var i=setTimeout((function(){r(new Error("Timeout"))}),3e4);e.request(e.metrics.splice(0,t)).then((function(){clearTimeout(i),n()})).catch((function(){r("DUOTEL METRICS _batchSpansSend reject")}))}))}}]),e}();var st="?";function ut(e,t,n,r){var i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}var ct=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,lt=/\((\S*)(?::(\d+))(?::(\d+))\)/,ft=[30,function(e){var t=ct.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){var n=lt.exec(t[2]);n&&(t[2]=n[1],t[3]=n[2],t[4]=n[3])}var r=_slicedToArray(yt(t[1]||st,t[2]),2),i=r[0];return ut(r[1],i,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],pt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ht=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,dt=[50,function(e){var t=pt.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var n=ht.exec(t[3]);n&&(t[1]=t[1]||"eval",t[3]=n[1],t[4]=n[2],t[5]="")}var r=t[3],i=t[1]||st,o=_slicedToArray(yt(i,r),2);return i=o[0],ut(r=o[1],i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],vt=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,mt=[ft,dt,[40,function(e){var t=vt.exec(e);return t?ut(t[2],t[1]||st,+t[3],t[4]?+t[4]:void 0):void 0}]],gt=Ht.apply(void 0,mt),yt=function(e,t){var n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:st,n?"safari-extension:".concat(t):"safari-web-extension:".concat(t)]:[e,t]},_t=80,bt=50;function Et(e){if("object"===_typeof(e)&&null!==e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}var Tt=Object.prototype.toString;function wt(e,t){return Tt.call(e)==="[object ".concat(t,"]")}function St(e){try{return t=e,"undefined"!=typeof Element&&It(t,Element)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{for(var n,r=e,i=5,o=[],a=0,s=0,u=" > ",c=u.length,l=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||_t;r&&a++<i&&!("html"===(n=Lt(r,l))||a>1&&s+o.length*c+n.length>=f);)o.push(n),s+=n.length,r=r.parentNode;return o.reverse().join(u)}catch(e){return"<unknown>"}}(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}var t}function Ot(e,t){try{return"domain"===e&&t&&"object"===_typeof(t)&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":At(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: ".concat(z(t),"]"):"symbol"===_typeof(t)?"[".concat(String(t),"]"):"bigint"==typeof t?"[BigInt: ".concat(String(t),"]"):"[object ".concat(Object.getPrototypeOf(t).constructor.name,"]")}catch(e){return"**non-serializable** (".concat(e,")")}var n}function kt(e,t){var n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(n="function"==typeof WeakSet,r=n?new WeakSet:[],[function(e){if(n)return!!r.has(e)||(r.add(e),!1);for(var t=0;t<r.length;t++)if(r[t]===e)return!0;return r.push(e),!1},function(e){if(n)r.delete(e);else for(var t=0;t<r.length;t++)if(r[t]===e){r.splice(t,1);break}}]),u=_slicedToArray(s,2),c=u[0],l=u[1];if(null===t||["number","boolean","string"].includes(_typeof(t))&&("number"!=typeof(i=t)||i==i))return t;var f=Ot(e,t);if(!f.startsWith("[object "))return f;if(t.__sentry_skip_normalization__)return t;if(0===o)return f.replace("object ","");if(c(t))return"[Circular ~]";var p=t;if(p&&"function"==typeof p.toJSON)try{return kt("",p.toJSON(),o-1,a,s)}catch(e){}var h=Array.isArray(t)?[]:{},d=0,v=jt(t);for(var m in v)if(Object.prototype.hasOwnProperty.call(v,m)){if(d>=a){h[m]="[MaxProperties ~]";break}var g=v[m];h[m]=kt(m,g,o-1,a,s),d++}return l(t),h}function Ct(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function Rt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:102400,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;try{return kt("",e,t,n)}catch(e){return{ERROR:"**non-serializable** (".concat(e,")")}}}(e,t);return Ct(r)>n?Rt(e,t-1,n):r}function Pt(e){return wt(e,"DOMError")}function At(e){return wt(e,"Object")}function Lt(e,t){var n,r,i,o,a,s=e,u=[];if(!s||!s.tagName)return"";u.push(s.tagName.toLowerCase());var c=t&&t.length?t.filter((function(e){return s.getAttribute(e)})).map((function(e){return[e,s.getAttribute(e)]})):null;if(c&&c.length)c.forEach((function(e){u.push("[".concat(e[0],'="').concat(e[1],'"]'))}));else if(s.id&&u.push("#".concat(s.id)),(n=s.className)&&P.isString(n))for(r=n.split(/\s+/),a=0;a<r.length;a++)u.push(".".concat(r[a]));var l=["type","name","title","alt"];for(a=0;a<l.length;a++)i=l[a],(o=s.getAttribute(i))&&u.push("[".concat(i,'="').concat(o,'"]'));return u.join("")}function It(e,t){try{return e instanceof t}catch(e){return!1}}function xt(e){switch(Tt.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return It(e,Error)}}function Nt(e){return"undefined"!=typeof Event&&It(e,Event)}function Dt(e,t){var n=function(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}(e);if(n){var r=n.mechanism;if(n.mechanism=Object.assign(Object.assign(Object.assign({},{type:"generic",handled:!0}),r),t),t&&"data"in t){var i=Object.assign(Object.assign({},r&&r.data),t.data);n.mechanism.data=i}}}function Mt(e,t,n){var r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function jt(e){if(xt(e))return Object.assign({message:e.message,name:e.name,stack:e.stack},Et(e));if(Nt(e)){var t=Object.assign({type:e.type,target:St(e.target),currentTarget:St(e.currentTarget)},Et(e));return"undefined"!=typeof CustomEvent&&It(e,CustomEvent)&&(t.detail=e.detail),t}return e}function Ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!=typeof e||0===t||e.length<=t?e:"".concat(e.substr(0,t),"...")}function Bt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,n=Object.keys(jt(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Ut(n[0],t);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:Ut(i,t)}return""}function Ht(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.sort((function(e,t){return e[0]-t[0]})).map((function(e){return e[1]}));return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=[],o=_createForOfIteratorHelper(e.split("\n").slice(n));try{for(o.s();!(t=o.n()).done;){var a,s=t.value.replace(/\(error: (.*)\)/,"$1"),u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var c=(0,a.value)(s);if(c){i.push(c);break}}}catch(e){u.e(e)}finally{u.f()}}}catch(e){o.e(e)}finally{o.f()}return function(e){if(!e.length)return[];var t=e,n=t[0].function||"",r=t[t.length-1].function||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,bt).map((function(e){return Object.assign(Object.assign({},e),{filename:e.filename||t[0].filename,function:e.function||"?"})})).reverse()}(i)}}var zt=function(e){return Array.isArray(e)?Ht.apply(void 0,_toConsumableArray(e)):e}(gt);function Ft(e,t){var n=Vt(e,t),r={type:t&&t.name,value:Gt(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function qt(e,t){return{exception:{values:[Ft(e,t)]}}}function Vt(e,t){var n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(Zt.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}var Zt=/Minified React error #\d+;/i;function Gt(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Xt(e,t,n,r,i){var o;if(wt(t,"ErrorEvent")&&t.error)return qt(e,t.error);if(Pt(t)||function(e){return wt(e,"DOMException")}(t)){var a=t;if("stack"in t)o=qt(e,t);else{var s=a.name||(Pt(a)?"DOMError":"DOMException"),u=a.message?"".concat(s,": ").concat(a.message):s;Mt(o=Wt(e,u,n,r),u)}return"code"in a&&(o.tags=Object.assign(Object.assign({},o.tags),{"DOMException.code":"".concat(a.code)})),o}return xt(t)?qt(e,t):At(t)||Nt(t)?(o=function(e,t,n,r){var i={exception:{values:[{type:Nt(t)?t.constructor.name:r?"waring":"Error",value:"Non-Error ".concat(r?"promise rejection":"exception"," captured with keys: ").concat(Bt(t))}]},extra:{__serialized__:Rt(t,3)}};if(n){var o=Vt(e,n);o.length&&(i.exception.values[0].stacktrace={frames:o})}return i}(e,t,n,i),Dt(o,{synthetic:!0}),o):function(e){return wt(e,"Response")}(t)?(o=function(e){return{exception:{values:[{type:"waring",value:"Request exception not caught, url: ".concat(null==e?void 0:e.url,", status: ").concat(null==e?void 0:e.status,", statusText: ").concat(null==e?void 0:e.statusText,", data: ").concat(JSON.stringify(null==e?void 0:e.data))}]}}}(t),o):(Mt(o=Wt(e,t,n,r),"".concat(t),void 0),Dt(o,{synthetic:!0}),o)}function Wt(e,t,n,r){var i={message:t};if(r&&n){var o=Vt(e,n);o.length&&(i.exception={values:[{value:t,stacktrace:{frames:o}}]})}return i}function Jt(e){var t=e.error,n=e.message,r=e.filename,i=e.lineno,o=e.colno;return function(e,t,n,r){var i=e.exception=e.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},u=s.frames=s.frames||[],c=P.isNaN(parseInt(r,10))?void 0:r,l=P.isNaN(parseInt(n,10))?void 0:n,f=P.isString(t)&&t.length>0?t:location.href;return 0===u.length&&u.push({colno:c,filename:f,function:"?",in_app:!0,lineno:l}),e}(Xt(zt,t||n,void 0,!1,!1),r,i,o)}function Kt(e){return null===(t=e)||"object"!==_typeof(t)&&"function"!=typeof t?{exception:{values:[{type:"waring",value:"Non-Error promise rejection captured with value: ".concat(String(e))}]}}:Xt(zt,e,void 0,!1,!0);var t}var Qt=function(e){var t,n,r;if(void 0===e.error){var i=e.target||e.srcElement;if([Window,window].includes(i))return;var o=i&&i.outerHTML;o&&200<o.length&&(o=o.slice(0,200));var a=i&&([i.src,i.href].includes(window.location.href)?"":i.src||i.href),s=a?"".concat(C(i)," url:").concat(a," load error"):"".concat(C(i)," url is empty");return{type:"error",params:{type:"assetsError",target:C(i),outerHTML:o,tagName:i&&i.tagName,url:a,message:e.message||s,xPath:Ee(i,5)},name:"assetsError"}}if(e.error){var u=null===(n=null===(t=Jt(e))||void 0===t?void 0:t.exception)||void 0===n?void 0:n.values[0],c=u.type,l=u.value,f=u.stacktrace;return{type:"error",params:{type:c,message:l,source:null==e?void 0:e.filename,lineno:null==e?void 0:e.lineno,colno:null==e?void 0:e.colno,stack:null===(r=null==e?void 0:e.error)||void 0===r?void 0:r.stack,frames:JSON.stringify(null==f?void 0:f.frames),errorLevel:de.JS_ERROR_LEVEL},name:"jsError"}}return{type:"error",params:{type:e.type,message:e.message||"",source:e.filename,lineno:e.lineno,colno:e.colno,errorLevel:de.JS_ERROR_LEVEL},name:"jsError"}},Yt=function(e){var t,n,r;Y.log("unhandledrejection",C(e.reason),e);var i=e;try{"reason"in e?i=e.reason:"detail"in e&&"reason"in e.detail&&(i=e.detail.reason)}catch(e){}var o=null===(n=null===(t=Kt(i))||void 0===t?void 0:t.exception)||void 0===n?void 0:n.values[0],a=o.type,s=o.value,u=o.stacktrace,c=(null==u?void 0:u.frames)||[],l=(null==c?void 0:c.length)>0?c[c.length-1]:{},f=l.lineno,p=l.filename,h=l.colno;if("waring"!==a)return{type:"unhandledrejection",params:{message:s,stack:null===(r=null==e?void 0:e.reason)||void 0===r?void 0:r.stack,type:a,source:p,lineno:f,colno:h,frames:JSON.stringify(c),errorLevel:de.REJECTION_ERROR_LEVEL},name:"jsError"}},$t=null,en=null,tn=console.error,nn=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_callSuper(this,t)).sendReqHeader=!1,n.sendParams=!1,n.sendResponse=!1,n.sendResHeader=!1,n.sendPerformance=!1,n.sendMemory=!1,n.memoryTime=1e4,n.enableSPA=!0,n.compliantSample=10,n.largeImgSample=10,n.hasUndefInQuerySample=30,n.functionList=["fetch","iwork","jsError","router","userClick"],n.microApp="",n.routeAppId="",n.sendRouteAppId=!1,n.mergeOptions(e),n}return _inherits(t,e),_createClass(t,[{key:"mergeOptions",value:function(e){var t,n=this;(null===(t=Object.keys(e))||void 0===t?void 0:t.length)&&Object.keys(e).forEach((function(t){n[t]=e[t]}))}}]),t}(ot),rn="object"===("undefined"==typeof globalThis?"undefined":_typeof(globalThis))?globalThis:"object"===("undefined"==typeof self?"undefined":_typeof(self))?self:"object"===("undefined"==typeof window?"undefined":_typeof(window))?window:"object"===("undefined"==typeof global?"undefined":_typeof(global))?global:{},on="1.4.0",an=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;var sn=function(e){var t=new Set([e]),n=new Set,r=e.match(an);if(!r)return function(){return!1};var i=+r[1],o=+r[2],a=+r[3];if(null!=r[4])return function(t){return t===e};function s(e){return n.add(e),!1}function u(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var r=e.match(an);if(!r)return s(e);var c=+r[1],l=+r[2],f=+r[3];return null!=r[4]||i!==c?s(e):0===i?o===l&&a<=f?u(e):s(e):o<=l?u(e):s(e)}}(on),un=on.split(".")[0],cn=Symbol.for("opentelemetry.js.api."+un),ln=rn;function fn(e,t,n,r){var i;void 0===r&&(r=!1);var o=ln[cn]=null!==(i=ln[cn])&&void 0!==i?i:{version:on};if(!r&&o[e]){var a=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(a.stack||a.message),!1}if(o.version!==on){a=new Error("@opentelemetry/api: All API registration versions must match");return n.error(a.stack||a.message),!1}return o[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+on+"."),!0}function pn(e){var t,n,r=null===(t=ln[cn])||void 0===t?void 0:t.version;if(r&&sn(r))return null===(n=ln[cn])||void 0===n?void 0:n[e]}function hn(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+on+".");var n=ln[cn];n&&delete n[e]}var dn,vn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},mn=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},gn=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return yn("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return yn("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return yn("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return yn("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return yn("verbose",this._namespace,e)},e}();function yn(e,t,n){var r=pn("diag");if(r)return n.unshift(t),r[e].apply(r,mn([],vn(n),!1))}!function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(dn||(dn={}));var _n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},bn=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},En=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=pn("diag");if(r)return r[e].apply(r,bn([],_n(t),!1))}}var t=this;t.setLogger=function(e,n){var r,i,o;if(void 0===n&&(n={logLevel:dn.INFO}),e===t){var a=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(r=a.stack)&&void 0!==r?r:a.message),!1}"number"==typeof n&&(n={logLevel:n});var s=pn("diag"),u=function(e,t){function n(n,r){var i=t[n];return"function"==typeof i&&e>=r?i.bind(t):function(){}}return e<dn.NONE?e=dn.NONE:e>dn.ALL&&(e=dn.ALL),t=t||{},{error:n("error",dn.ERROR),warn:n("warn",dn.WARN),info:n("info",dn.INFO),debug:n("debug",dn.DEBUG),verbose:n("verbose",dn.VERBOSE)}}(null!==(i=n.logLevel)&&void 0!==i?i:dn.INFO,e);if(s&&!n.suppressOverrideMessage){var c=null!==(o=(new Error).stack)&&void 0!==o?o:"<failed to generate stacktrace>";s.warn("Current logger will be overwritten from "+c),u.warn("Current logger will overwrite one already registered from "+c)}return fn("diag",u,t,!0)},t.disable=function(){hn("diag",t)},t.createComponentLogger=function(e){return new gn(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),Tn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},wn=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Sn=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(e){var t=Tn(e,2);return[t[0],t[1]]}))},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=new e(this._entries);try{for(var a=wn(r),s=a.next();!s.done;s=a.next()){var u=s.value;o._entries.delete(u)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o},e.prototype.clear=function(){return new e},e}(),On=Symbol("BaggageEntryMetadata"),kn=En.instance();function Cn(e){return void 0===e&&(e={}),new Sn(new Map(Object.entries(e)))}function Rn(e){return Symbol.for(e)}var Pn,An,Ln=function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var i=new e(n._currentContext);return i._currentContext.set(t,r),i},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}},In=new Ln,xn=(Pn=function(e,t){return Pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Pn(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Pn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Nn=function(){function e(){}return e.prototype.createHistogram=function(e,t){return Zn},e.prototype.createCounter=function(e,t){return Vn},e.prototype.createUpDownCounter=function(e,t){return Gn},e.prototype.createObservableGauge=function(e,t){return Wn},e.prototype.createObservableCounter=function(e,t){return Xn},e.prototype.createObservableUpDownCounter=function(e,t){return Jn},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),Dn=function(){},Mn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xn(t,e),t.prototype.add=function(e,t){},t}(Dn),jn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xn(t,e),t.prototype.add=function(e,t){},t}(Dn),Un=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xn(t,e),t.prototype.record=function(e,t){},t}(Dn),Bn=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),Hn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xn(t,e),t}(Bn),zn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xn(t,e),t}(Bn),Fn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xn(t,e),t}(Bn),qn=new Nn,Vn=new Mn,Zn=new Un,Gn=new jn,Xn=new Hn,Wn=new zn,Jn=new Fn,Kn={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},Qn={set:function(e,t,n){null!=e&&(e[t]=n)}},Yn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},$n=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},er=function(){function e(){}return e.prototype.active=function(){return In},e.prototype.with=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return t.call.apply(t,$n([n],Yn(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),tr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},nr=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},rr="context",ir=new er,or=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return fn(rr,e,En.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return(r=this._getContextManager()).with.apply(r,nr([e,t,n],tr(i),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return pn(rr)||ir},e.prototype.disable=function(){this._getContextManager().disable(),hn(rr,En.instance())},e}();!function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(An||(An={}));var ar="0000000000000000",sr="00000000000000000000000000000000",ur={traceId:sr,spanId:ar,traceFlags:An.NONE},cr=function(){function e(e){void 0===e&&(e=ur),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),lr=Rn("OpenTelemetry Context Key SPAN");function fr(e){return e.getValue(lr)||void 0}function pr(){return fr(or.getInstance().active())}function hr(e,t){return e.setValue(lr,t)}function dr(e){return e.deleteValue(lr)}function vr(e,t){return hr(e,new cr(t))}function mr(e){var t;return null===(t=fr(e))||void 0===t?void 0:t.spanContext()}var gr=/^([0-9a-f]{32})$/i,yr=/^[0-9a-f]{16}$/i;function _r(e){return gr.test(e)&&e!==sr}function br(e){return _r(e.traceId)&&(t=e.spanId,yr.test(t)&&t!==ar);var t}function Er(e){return new cr(e)}var Tr=or.getInstance(),wr=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=Tr.active()),Boolean(null==t?void 0:t.root))return new cr;var r,i=n&&mr(n);return"object"===_typeof(r=i)&&"string"==typeof r.spanId&&"string"==typeof r.traceId&&"number"==typeof r.traceFlags&&br(i)?new cr(i):new cr},e.prototype.startActiveSpan=function(e,t,n,r){var i,o,a;if(!(arguments.length<2)){2===arguments.length?a=t:3===arguments.length?(i=t,a=n):(i=t,o=n,a=r);var s=null!=o?o:Tr.active(),u=this.startSpan(e,i,s),c=hr(s,u);return Tr.with(c,a,void 0,u)}},e}();var Sr,Or,kr,Cr=new wr,Rr=function(){function e(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Cr},e}(),Pr=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new wr},e}()),Ar=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var r;return null!==(r=this.getDelegateTracer(e,t,n))&&void 0!==r?r:new Rr(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:Pr},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(e,t,n)},e}();!function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(Sr||(Sr={})),function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(Or||(Or={})),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(kr||(kr={}));var Lr=or.getInstance(),Ir=En.instance(),xr=new(function(){function e(){}return e.prototype.getMeter=function(e,t,n){return qn},e}()),Nr="metrics",Dr=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return fn(Nr,e,En.instance())},e.prototype.getMeterProvider=function(){return pn(Nr)||xr},e.prototype.getMeter=function(e,t,n){return this.getMeterProvider().getMeter(e,t,n)},e.prototype.disable=function(){hn(Nr,En.instance())},e}(),Mr=Dr.getInstance(),jr=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),Ur=Rn("OpenTelemetry Baggage Key");function Br(e){return e.getValue(Ur)||void 0}function Hr(){return Br(or.getInstance().active())}function zr(e,t){return e.setValue(Ur,t)}function Fr(e){return e.deleteValue(Ur)}var qr="propagation",Vr=new jr,Zr=function(){function e(){this.createBaggage=Cn,this.getBaggage=Br,this.getActiveBaggage=Hr,this.setBaggage=zr,this.deleteBaggage=Fr}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return fn(qr,e,En.instance())},e.prototype.inject=function(e,t,n){return void 0===n&&(n=Qn),this._getGlobalPropagator().inject(e,t,n)},e.prototype.extract=function(e,t,n){return void 0===n&&(n=Kn),this._getGlobalPropagator().extract(e,t,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){hn(qr,En.instance())},e.prototype._getGlobalPropagator=function(){return pn(qr)||Vr},e}(),Gr=Zr.getInstance(),Xr="trace",Wr=function(){function e(){this._proxyTracerProvider=new Ar,this.wrapSpanContext=Er,this.isSpanContextValid=br,this.deleteSpan=dr,this.getSpan=fr,this.getActiveSpan=pr,this.getSpanContext=mr,this.setSpan=hr,this.setSpanContext=vr}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=fn(Xr,this._proxyTracerProvider,En.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return pn(Xr)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){hn(Xr,En.instance()),this._proxyTracerProvider=new Ar},e}(),Jr=Wr.getInstance(),Kr=Rn("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Qr(e){return!0===e.getValue(Kr)}var Yr="baggage",$r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function ei(e){var t=e.split(";");if(!(t.length<=0)){var n=t.shift();if(n){var r=n.split("=");if(2===r.length){var i,o,a=decodeURIComponent(r[0].trim()),s=decodeURIComponent(r[1].trim());return t.length>0&&("string"!=typeof(o=t.join(";"))&&(kn.error("Cannot create baggage metadata from unknown type: "+_typeof(o)),o=""),i={__TYPE__:On,toString:function(){return o}}),{key:a,value:s,metadata:i}}}}}var ti=function(){function e(){}return e.prototype.inject=function(e,t,n){var r=Gr.getBaggage(e);if(r&&!Qr(e)){var i=function(e){return e.getAllEntries().map((function(e){var t=$r(e,2),n=t[0],r=t[1],i=encodeURIComponent(n)+"="+encodeURIComponent(r.value);return void 0!==r.metadata&&(i+=";"+r.metadata.toString()),i}))}(r).filter((function(e){return e.length<=4096})).slice(0,180),o=function(e){return e.reduce((function(e,t){var n=e+(""!==e?",":"")+t;return n.length>8192?e:n}),"")}(i);o.length>0&&n.set(t,Yr,o)}},e.prototype.extract=function(e,t,n){var r=n.get(t,Yr),i=Array.isArray(r)?r.join(","):r;if(!i)return e;var o={};return 0===i.length?e:(i.split(",").forEach((function(e){var t=ei(e);if(t){var n={value:t.value};t.metadata&&(n.metadata=t.metadata),o[t.key]=n}})),0===Object.entries(o).length?e:Gr.setBaggage(e,Gr.createBaggage(o)))},e.prototype.fields=function(){return[Yr]},e}(),ni=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ri=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function ii(e){var t,n,r={};if("object"!==_typeof(e)||null==e)return r;try{for(var i=ni(Object.entries(e)),o=i.next();!o.done;o=i.next()){var a=ri(o.value,2),s=a[0],u=a[1];oi(s)?ai(u)?Array.isArray(u)?r[s]=u.slice():r[s]=u:Ir.warn("Invalid attribute value set for key: "+s):Ir.warn("Invalid attribute key: "+s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function oi(e){return"string"==typeof e&&e.length>0}function ai(e){return null==e||(Array.isArray(e)?function(e){var t,n,r;try{for(var i=ni(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(null!=a){if(!r){if(si(a)){r=_typeof(a);continue}return!1}if(_typeof(a)!==r)return!1}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0}(e):si(e))}function si(e){switch(_typeof(e)){case"number":case"boolean":case"string":return!0}return!1}var ui,ci=function(e){Ir.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){for(var t={},n=e;null!==n;)Object.getOwnPropertyNames(n).forEach((function(e){if(!t[e]){var r=n[e];r&&(t[e]=String(r))}})),n=Object.getPrototypeOf(n);return t}(e))}(e))};function li(e){try{ci(e)}catch(e){}}!function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"}(ui||(ui={}));var fi="object"===("undefined"==typeof globalThis?"undefined":_typeof(globalThis))?globalThis:"object"===("undefined"==typeof self?"undefined":_typeof(self))?self:"object"===("undefined"==typeof window?"undefined":_typeof(window))?window:"object"===("undefined"==typeof global?"undefined":_typeof(global))?global:{},pi=",",hi=["OTEL_SDK_DISABLED"];function di(e){return hi.indexOf(e)>-1}var vi=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function mi(e){return vi.indexOf(e)>-1}var gi=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function yi(e){return gi.indexOf(e)>-1}var _i=1/0,bi=128,Ei={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:dn.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:_i,OTEL_ATTRIBUTE_COUNT_LIMIT:bi,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:_i,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:bi,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:_i,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:bi,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:ui.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function Ti(e,t,n){if(void 0!==n[e]){var r=String(n[e]);t[e]="true"===r.toLowerCase()}}function wi(e,t,n,r,i){if(void 0===r&&(r=-1/0),void 0===i&&(i=1/0),void 0!==n[e]){var o=Number(n[e]);isNaN(o)||(t[e]=o<r?r:o>i?i:o)}}function Si(e,t,n,r){void 0===r&&(r=pi);var i=n[e];"string"==typeof i&&(t[e]=i.split(r).map((function(e){return e.trim()})))}var Oi={ALL:dn.ALL,VERBOSE:dn.VERBOSE,DEBUG:dn.DEBUG,INFO:dn.INFO,WARN:dn.WARN,ERROR:dn.ERROR,NONE:dn.NONE};function ki(e,t,n){var r=n[e];if("string"==typeof r){var i=Oi[r.toUpperCase()];null!=i&&(t[e]=i)}}function Ci(e){var t={};for(var n in Ei){var r=n;if("OTEL_LOG_LEVEL"===r)ki(r,t,e);else if(di(r))Ti(r,t,e);else if(mi(r))wi(r,t,e);else if(yi(r))Si(r,t,e);else{var i=e[r];null!=i&&(t[r]=String(i))}}return t}function Ri(){var e=Ci(fi);return Object.assign({},Ei,e)}function Pi(e){for(var t=e.length,n="",r=0;r<t;r+=2){var i=e.substring(r,r+2),o=parseInt(i,16);n+=String.fromCharCode(o)}return btoa(n)}var Ai,Li=performance,Ii="exception.type",xi="exception.message",Ni="exception.stacktrace",Di="http.method",Mi="http.url",ji="http.host",Ui="http.scheme",Bi="http.status_code",Hi="http.user_agent",zi="http.response_content_length",Fi="http.response_content_length_uncompressed",qi="process.runtime.name",Vi="service.name",Zi="telemetry.sdk.name",Gi="telemetry.sdk.language",Xi="telemetry.sdk.version",Wi=((Ai={})[Zi]="opentelemetry",Ai[qi]="browser",Ai[Gi]="webjs",Ai[Xi]="1.13.0",Ai);var Ji,Ki=Math.pow(10,6),Qi=Math.pow(10,9);function Yi(e){var t=e/1e3;return[Math.trunc(t),Math.round(e%1e3*Ki)]}function $i(){var e=Li.timeOrigin;if("number"!=typeof e){var t=Li;e=t.timing&&t.timing.fetchStart}return e}function eo(e){return oo(Yi($i()),Yi("number"==typeof e?e:Li.now()))}function to(e){if(ro(e))return e;if("number"==typeof e)return e<$i()?eo(e):Yi(e);if(e instanceof Date)return Yi(e.getTime());throw TypeError("Invalid input type")}function no(e){return e[0]*Qi+e[1]}function ro(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function io(e){return ro(e)||"number"==typeof e||e instanceof Date}function oo(e,t){var n=[e[0]+t[0],e[1]+t[1]];return n[1]>=Qi&&(n[1]-=Qi,n[0]+=1),n}!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(Ji||(Ji={}));var ao=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},so=function(){function e(e){var t;void 0===e&&(e={}),this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((function(e){return"function"==typeof e.fields?e.fields():[]})).reduce((function(e,t){return e.concat(t)}),[])))}return e.prototype.inject=function(e,t,n){var r,i;try{for(var o=ao(this._propagators),a=o.next();!a.done;a=o.next()){var s=a.value;try{s.inject(e,t,n)}catch(e){Ir.warn("Failed to inject with "+s.constructor.name+". Err: "+e.message)}}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype.extract=function(e,t,n){return this._propagators.reduce((function(e,r){try{return r.extract(e,t,n)}catch(e){Ir.warn("Failed to inject with "+r.constructor.name+". Err: "+e.message)}return e}),e)},e.prototype.fields=function(){return this._fields.slice()},e}(),uo="[_0-9a-z-*/]",co=new RegExp("^(?:"+("[a-z]"+uo+"{0,255}")+"|"+("[a-z0-9]"+uo+"{0,240}@[a-z]"+uo+"{0,13}")+")$"),lo=/^[ -~]{0,255}[!-~]$/,fo=/,|=/;var po=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce((function(t,n){return t.push(n+"="+e.get(n)),t}),[]).join(",")},e.prototype._parse=function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce((function(e,t){var n=t.trim(),r=n.indexOf("=");if(-1!==r){var i=n.slice(0,r),o=n.slice(r+1,t.length);(function(e){return co.test(e)})(i)&&function(e){return lo.test(e)&&!fo.test(e)}(o)&&e.set(i,o)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}(),ho="traceparent",vo="tracestate",mo=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");var go,yo,_o=function(){function e(){}return e.prototype.inject=function(e,t,n){var r=Jr.getSpanContext(e);if(r&&!Qr(e)&&br(r)){var i="00-"+r.traceId+"-"+r.spanId+"-0"+Number(r.traceFlags||An.NONE).toString(16);n.set(t,ho,i),r.traceState&&n.set(t,vo,r.traceState.serialize())}},e.prototype.extract=function(e,t,n){var r=n.get(t,ho);if(!r)return e;var i=Array.isArray(r)?r[0]:r;if("string"!=typeof i)return e;var o=function(e){var t=mo.exec(e);return t?"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}:null}(i);if(!o)return e;o.isRemote=!0;var a=n.get(t,vo);if(a){var s=Array.isArray(a)?a.join(","):a;o.traceState=new po("string"==typeof s?s:void 0)}return Jr.setSpanContext(e,o)},e.prototype.fields=function(){return[ho,vo]},e}(),bo="[object Object]",Eo="[object Null]",To="[object Undefined]",wo=Function.prototype.toString,So=wo.call(Object),Oo=(go=Object.getPrototypeOf,yo=Object,function(e){return go(yo(e))}),ko=Object.prototype,Co=ko.hasOwnProperty,Ro=Symbol?Symbol.toStringTag:void 0,Po=ko.toString;function Ao(e){if(!function(e){return null!=e&&"object"==_typeof(e)}(e)||function(e){if(null==e)return void 0===e?To:Eo;return Ro&&Ro in Object(e)?function(e){var t=Co.call(e,Ro),n=e[Ro],r=!1;try{e[Ro]=void 0,r=!0}catch(e){}var i=Po.call(e);r&&(t?e[Ro]=n:delete e[Ro]);return i}(e):function(e){return Po.call(e)}(e)}(e)!==bo)return!1;var t=Oo(e);if(null===t)return!0;var n=Co.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&wo.call(n)===So}var Lo=20;function Io(e){return Do(e)?e.slice():e}function xo(e,t,n,r){var i;if(void 0===n&&(n=0),!(n>Lo)){if(n++,Uo(e)||Uo(t)||Mo(t))i=Io(t);else if(Do(e)){if(i=e.slice(),Do(t))for(var o=0,a=t.length;o<a;o++)i.push(Io(t[o]));else if(jo(t))for(o=0,a=(s=Object.keys(t)).length;o<a;o++){i[u=s[o]]=Io(t[u])}}else if(jo(e))if(jo(t)){if(!function(e,t){if(!Ao(e)||!Ao(t))return!1;return!0}(e,t))return t;i=Object.assign({},e);var s;for(o=0,a=(s=Object.keys(t)).length;o<a;o++){var u,c=t[u=s[o]];if(Uo(c))void 0===c?delete i[u]:i[u]=c;else{var l=i[u],f=c;if(No(e,u,r)||No(t,u,r))delete i[u];else{if(jo(l)&&jo(f)){var p=r.get(l)||[],h=r.get(f)||[];p.push({obj:e,key:u}),h.push({obj:t,key:u}),r.set(l,p),r.set(f,h)}i[u]=xo(i[u],c,n,r)}}}}else i=t;return i}}function No(e,t,n){for(var r=n.get(e[t])||[],i=0,o=r.length;i<o;i++){var a=r[i];if(a.key===t&&a.obj===e)return!0}return!1}function Do(e){return Array.isArray(e)}function Mo(e){return"function"==typeof e}function jo(e){return!Uo(e)&&!Do(e)&&!Mo(e)&&"object"===_typeof(e)}function Uo(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}var Bo=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Ho(e,t){return"string"==typeof t?e===t:!!e.match(t)}function zo(e,t){var n,r;if(!t)return!1;try{for(var i=Bo(t),o=i.next();!o.done;o=i.next()){if(Ho(e,o.value))return!0}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}var Fo,qo=function(){function e(){var e=this;this._promise=new Promise((function(t,n){e._resolve=t,e._reject=n}))}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(e){this._resolve(e)},e.prototype.reject=function(e){this._reject(e)},e}(),Vo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Zo=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Go=function(){function e(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new qo}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((e=this._callback).call.apply(e,Zo([this._that],Vo(n),!1))).then((function(e){return t._deferred.resolve(e)}),(function(e){return t._deferred.reject(e)}))}catch(e){this._deferred.reject(e)}}return this._deferred.promise},e}(),Xo=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Wo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Jo=function(){function e(e,t,n,r,i,o,a,s,u){void 0===a&&(a=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:kr.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=r,this.parentSpanId=o,this.kind=i,this.links=a;var c=Date.now();this._performanceStartTime=Li.now(),this._performanceOffset=c-(this._performanceStartTime+$i()),this._startTimeProvided=null!=s,this.startTime=this._getTime(null!=s?s:c),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return null==t||this._isSpanEnded()?this:0===e.length?(Ir.warn("Invalid attribute key: "+e),this):ai(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(t),this):(Ir.warn("Invalid attribute value set for key: "+e),this)},e.prototype.setAttributes=function(e){var t,n;try{for(var r=Xo(Object.entries(e)),i=r.next();!i.done;i=r.next()){var o=Wo(i.value,2),a=o[0],s=o[1];this.setAttribute(a,s)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},e.prototype.addEvent=function(e,t,n){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return Ir.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(Ir.warn("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),io(t)&&(io(n)||(n=t),t=void 0);var r=ii(t);return this.events.push({name:e,attributes:r,time:this._getTime(n),droppedAttributesCount:0}),this},e.prototype.setStatus=function(e){return this._isSpanEnded()||(this.status=e),this},e.prototype.updateName=function(e){return this._isSpanEnded()||(this.name=e),this},e.prototype.end=function(e){this._isSpanEnded()?Ir.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once."):(this._ended=!0,this.endTime=this._getTime(e),this._duration=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return r<0&&(n-=1,r+=Qi),[n,r]}(this.startTime,this.endTime),this._duration[0]<0&&(Ir.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._spanProcessor.onEnd(this))},e.prototype._getTime=function(e){if("number"==typeof e&&e<Li.now())return eo(e+this._performanceOffset);if("number"==typeof e)return Yi(e);if(e instanceof Date)return Yi(e.getTime());if(ro(e))return e;if(this._startTimeProvided)return Yi(Date.now());var t=Li.now()-this._performanceStartTime;return oo(this.startTime,Yi(t))},e.prototype.isRecording=function(){return!1===this._ended},e.prototype.recordException=function(e,t){var n={};"string"==typeof e?n[xi]=e:e&&(e.code?n[Ii]=e.code.toString():e.name&&(n[Ii]=e.name),e.message&&(n[xi]=e.message),e.stack&&(n[Ni]=e.stack)),n[Ii]||n[xi]?this.addEvent("exception",n,t):Ir.warn("Failed to record an exception "+e)},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),e.prototype._isSpanEnded=function(){return this._ended&&Ir.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},e.prototype._truncateToLimitUtil=function(e,t){return e.length<=t?e:e.substr(0,t)},e.prototype._truncateToSize=function(e){var t=this,n=this._attributeValueLengthLimit;return n<=0?(Ir.warn("Attribute value limit must be positive, got "+n),e):"string"==typeof e?this._truncateToLimitUtil(e,n):Array.isArray(e)?e.map((function(e){return"string"==typeof e?t._truncateToLimitUtil(e,n):e})):e},e}();!function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(Fo||(Fo={}));var Ko=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:Fo.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),Qo=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:Fo.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),Yo=function(){function e(e){var t,n,r,i;this._root=e.root,this._root||(li(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Qo),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new Qo,this._remoteParentNotSampled=null!==(n=e.remoteParentNotSampled)&&void 0!==n?n:new Ko,this._localParentSampled=null!==(r=e.localParentSampled)&&void 0!==r?r:new Qo,this._localParentNotSampled=null!==(i=e.localParentNotSampled)&&void 0!==i?i:new Ko}return e.prototype.shouldSample=function(e,t,n,r,i,o){var a=Jr.getSpanContext(e);return a&&br(a)?a.isRemote?a.traceFlags&An.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,r,i,o):this._remoteParentNotSampled.shouldSample(e,t,n,r,i,o):a.traceFlags&An.SAMPLED?this._localParentSampled.shouldSample(e,t,n,r,i,o):this._localParentNotSampled.shouldSample(e,t,n,r,i,o):this._root.shouldSample(e,t,n,r,i,o)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),$o=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:_r(t)&&this._accumulate(t)<this._upperBound?Fo.RECORD_AND_SAMPLED:Fo.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,n=0;n<e.length/8;n++){var r=8*n;t=(t^parseInt(e.slice(r,r+8),16))>>>0}return t},e}(),ea=Ri(),ta=ui.AlwaysOn,na=1;function ra(){return{sampler:ia(ea),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:Ri().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:Ri().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:Ri().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:Ri().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:Ri().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:Ri().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:Ri().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:Ri().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function ia(e){switch(void 0===e&&(e=Ri()),e.OTEL_TRACES_SAMPLER){case ui.AlwaysOn:return new Qo;case ui.AlwaysOff:return new Ko;case ui.ParentBasedAlwaysOn:return new Yo({root:new Qo});case ui.ParentBasedAlwaysOff:return new Yo({root:new Ko});case ui.TraceIdRatio:return new $o(oa(e));case ui.ParentBasedTraceIdRatio:return new Yo({root:new $o(oa(e))});default:return Ir.error('OTEL_TRACES_SAMPLER value "'+e.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+ta+'".'),new Qo}}function oa(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||""===e.OTEL_TRACES_SAMPLER_ARG)return Ir.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+na+"."),na;var t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(Ir.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+na+"."),na):t<0||t>1?(Ir.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+na+"."),na):t}function aa(e){var t,n,r,i,o,a,s,u,c,l,f,p,h=Object.assign({},e.spanLimits),d="undefined"!=typeof process&&process&&process.env?Ci(process.env):Ci(fi);return h.attributeCountLimit=null!==(a=null!==(o=null!==(i=null!==(n=null===(t=e.spanLimits)||void 0===t?void 0:t.attributeCountLimit)&&void 0!==n?n:null===(r=e.generalLimits)||void 0===r?void 0:r.attributeCountLimit)&&void 0!==i?i:d.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)&&void 0!==o?o:d.OTEL_ATTRIBUTE_COUNT_LIMIT)&&void 0!==a?a:bi,h.attributeValueLengthLimit=null!==(p=null!==(f=null!==(l=null!==(u=null===(s=e.spanLimits)||void 0===s?void 0:s.attributeValueLengthLimit)&&void 0!==u?u:null===(c=e.generalLimits)||void 0===c?void 0:c.attributeValueLengthLimit)&&void 0!==l?l:d.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==f?f:d.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==p?p:_i,Object.assign({},e,{spanLimits:h})}var sa,ua=function(){function e(e,t){this._exporter=e,this._finishedSpans=[],this._droppedSpansCount=0;var n=Ri();this._maxExportBatchSize="number"==typeof(null==t?void 0:t.maxExportBatchSize)?t.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==t?void 0:t.maxQueueSize)?t.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==t?void 0:t.scheduledDelayMillis)?t.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==t?void 0:t.exportTimeoutMillis)?t.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new Go(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(Ir.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){this._shutdownOnce.isCalled||0!=(e.spanContext().traceFlags&An.SAMPLED)&&this._addToBuffer(e)},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){var e=this;return Promise.resolve().then((function(){return e.onShutdown()})).then((function(){return e._flushAll()})).then((function(){return e._exporter.shutdown()}))},e.prototype._addToBuffer=function(e){if(this._finishedSpans.length>=this._maxQueueSize)return 0===this._droppedSpansCount&&Ir.debug("maxQueueSize reached, dropping spans"),void this._droppedSpansCount++;this._droppedSpansCount>0&&(Ir.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()},e.prototype._flushAll=function(){var e=this;return new Promise((function(t,n){for(var r=[],i=0,o=Math.ceil(e._finishedSpans.length/e._maxExportBatchSize);i<o;i++)r.push(e._flushOneBatch());Promise.all(r).then((function(){t()})).catch(n)}))},e.prototype._flushOneBatch=function(){var e=this;return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise((function(t,n){var r=setTimeout((function(){n(new Error("Timeout"))}),e._exportTimeoutMillis);Lr.with(function(e){return e.setValue(Kr,!0)}(Lr.active()),(function(){var i=e._finishedSpans.splice(0,e._maxExportBatchSize),o=function(){return e._exporter.export(i,(function(e){var i;clearTimeout(r),e.code===Ji.SUCCESS?t():n(null!==(i=e.error)&&void 0!==i?i:new Error("BatchSpanProcessor: span export failed"))}))},a=i.map((function(e){return e.resource})).filter((function(e){return e.asyncAttributesPending}));0===a.length?o():Promise.all(a.map((function(e){var t;return null===(t=e.waitForAsyncAttributes)||void 0===t?void 0:t.call(e)}))).then(o,(function(e){li(e),n(e)}))}))}))},e.prototype._maybeStartTimer=function(){var e=this;void 0===this._timer&&(this._timer=setTimeout((function(){e._flushOneBatch().then((function(){e._finishedSpans.length>0&&(e._clearTimer(),e._maybeStartTimer())})).catch((function(e){li(e)}))}),this._scheduledDelayMillis),this._timer)},e.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},e}(),ca=(sa=function(e,t){return sa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},sa(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}sa(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),la=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.onInit(n),r}return ca(t,e),t.prototype.onInit=function(e){var t=this;!0!==(null==e?void 0:e.disableAutoFlushOnDocumentHide)&&"undefined"!=typeof document&&(this._visibilityChangeListener=function(){"hidden"===document.visibilityState&&t.forceFlush()},this._pageHideListener=function(){t.forceFlush()},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},t.prototype.onShutdown=function(){"undefined"!=typeof document&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},t}(ua),fa=function(){this.generateTraceId=ha(16),this.generateSpanId=ha(8)},pa=Array(32);function ha(e){return function(){for(var t=0;t<2*e;t++)pa[t]=Math.floor(16*Math.random())+48,pa[t]>=58&&(pa[t]+=39);return String.fromCharCode.apply(null,pa.slice(0,2*e))}}var da=function(){function e(e,t,n){this._tracerProvider=n;var r,i,o,a,s=(r=t,i={sampler:ia()},o=ra(),(a=Object.assign({},o,i,r)).generalLimits=Object.assign({},o.generalLimits,r.generalLimits||{}),a.spanLimits=Object.assign({},o.spanLimits,r.spanLimits||{}),a);this._sampler=s.sampler,this._generalLimits=s.generalLimits,this._spanLimits=s.spanLimits,this._idGenerator=t.idGenerator||new fa,this.resource=n.resource,this.instrumentationLibrary=e}return e.prototype.startSpan=function(e,t,n){var r,i,o;void 0===t&&(t={}),void 0===n&&(n=Lr.active()),t.root&&(n=Jr.deleteSpan(n));var a=Jr.getSpan(n);if(Qr(n))return Ir.debug("Instrumentation suppressed, returning Noop Span"),Jr.wrapSpanContext(ur);var s,u,c,l=null==a?void 0:a.spanContext(),f=this._idGenerator.generateSpanId();l&&Jr.isSpanContextValid(l)?(s=l.traceId,u=l.traceState,c=l.spanId):s=this._idGenerator.generateTraceId();var p=null!==(r=t.kind)&&void 0!==r?r:Or.INTERNAL,h=(null!==(i=t.links)&&void 0!==i?i:[]).map((function(e){return{context:e.context,attributes:ii(e.attributes)}})),d=ii(t.attributes),v=this._sampler.shouldSample(n,s,e,p,d,h);u=null!==(o=v.traceState)&&void 0!==o?o:u;var m={traceId:s,spanId:f,traceFlags:v.decision===Sr.RECORD_AND_SAMPLED?An.SAMPLED:An.NONE,traceState:u};if(v.decision===Sr.NOT_RECORD)return Ir.debug("Recording is off, propagating context in a non-recording span"),Jr.wrapSpanContext(m);var g=new Jo(this,n,e,m,p,c,h,t.startTime),y=ii(Object.assign(d,v.attributes));return g.setAttributes(y),g},e.prototype.startActiveSpan=function(e,t,n,r){var i,o,a;if(!(arguments.length<2)){2===arguments.length?a=t:3===arguments.length?(i=t,a=n):(i=t,o=n,a=r);var s=null!=o?o:Lr.active(),u=this.startSpan(e,i,s),c=Jr.setSpan(s,u);return Lr.with(c,a,void 0,u)}},e.prototype.getGeneralLimits=function(){return this._generalLimits},e.prototype.getSpanLimits=function(){return this._spanLimits},e.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},e}();var va,ma=function(){return ma=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ma.apply(this,arguments)},ga=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},ya=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},_a=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ba=function(){function e(e,t){var n,r=this;this._attributes=e,this.asyncAttributesPending=null!=t,this._syncAttributes=null!==(n=this._attributes)&&void 0!==n?n:{},this._asyncAttributesPromise=null==t?void 0:t.then((function(e){return r._attributes=Object.assign({},r._attributes,e),r.asyncAttributesPending=!1,e}),(function(e){return Ir.debug("a resource's async attributes promise rejected: %s",e),r.asyncAttributesPending=!1,{}}))}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e(((t={})[Vi]="unknown_service",t[Gi]=Wi[Gi],t[Zi]=Wi[Zi],t[Xi]=Wi[Xi],t))},Object.defineProperty(e.prototype,"attributes",{get:function(){var e;return this.asyncAttributesPending&&Ir.error("Accessing resource attributes before async attributes settled"),null!==(e=this._attributes)&&void 0!==e?e:{}},enumerable:!1,configurable:!0}),e.prototype.waitForAsyncAttributes=function(){return ga(this,void 0,void 0,(function(){return ya(this,(function(e){switch(e.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.merge=function(t){var n,r=this;if(!t)return this;var i=ma(ma({},this._syncAttributes),null!==(n=t._syncAttributes)&&void 0!==n?n:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new e(i);var o=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then((function(e){var n,i=_a(e,2),o=i[0],a=i[1];return ma(ma(ma(ma({},r._syncAttributes),o),null!==(n=t._syncAttributes)&&void 0!==n?n:t.attributes),a)}));return new e(i,o)},e.EMPTY=new e({}),e}(),Ea=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ta=function(){function e(e){this._spanProcessors=e}return e.prototype.forceFlush=function(){var e,t,n=[];try{for(var r=Ea(this._spanProcessors),i=r.next();!i.done;i=r.next()){var o=i.value;n.push(o.forceFlush())}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return new Promise((function(e){Promise.all(n).then((function(){e()})).catch((function(t){li(t||new Error("MultiSpanProcessor: forceFlush failed")),e()}))}))},e.prototype.onStart=function(e,t){var n,r;try{for(var i=Ea(this._spanProcessors),o=i.next();!o.done;o=i.next()){o.value.onStart(e,t)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.onEnd=function(e){var t,n;try{for(var r=Ea(this._spanProcessors),i=r.next();!i.done;i=r.next()){i.value.onEnd(e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.shutdown=function(){var e,t,n=[];try{for(var r=Ea(this._spanProcessors),i=r.next();!i.done;i=r.next()){var o=i.value;n.push(o.shutdown())}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return new Promise((function(e,t){Promise.all(n).then((function(){e()}),t)}))},e}(),wa=function(){function e(){}return e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype.forceFlush=function(){return Promise.resolve()},e}();!function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"}(va||(va={}));var Sa,Oa,ka,Ca=function(){function e(e){var t;void 0===e&&(e={}),this._registeredSpanProcessors=[],this._tracers=new Map;var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.shift(),r=new WeakMap;e.length>0;)n=xo(n,e.shift(),0,r);return n}({},ra(),aa(e));this.resource=null!==(t=n.resource)&&void 0!==t?t:ba.empty(),this.resource=ba.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});var r=this._buildExporterFromEnv();if(void 0!==r){var i=new la(r);this.activeSpanProcessor=i}else this.activeSpanProcessor=new wa}return e.prototype.getTracer=function(e,t,n){var r=e+"@"+(t||"")+":"+((null==n?void 0:n.schemaUrl)||"");return this._tracers.has(r)||this._tracers.set(r,new da({name:e,version:t,schemaUrl:null==n?void 0:n.schemaUrl},this._config,this)),this._tracers.get(r)},e.prototype.addSpanProcessor=function(e){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((function(e){return Ir.error("Error while trying to shutdown current span processor",e)})),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new Ta(this._registeredSpanProcessors)},e.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},e.prototype.register=function(e){void 0===e&&(e={}),Jr.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&Lr.setGlobalContextManager(e.contextManager),e.propagator&&Gr.setGlobalPropagator(e.propagator)},e.prototype.forceFlush=function(){var e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map((function(t){return new Promise((function(n){var r,i=setTimeout((function(){n(new Error("Span processor did not completed within timeout period of "+e+" ms")),r=va.timeout}),e);t.forceFlush().then((function(){clearTimeout(i),r!==va.timeout&&(r=va.resolved,n(r))})).catch((function(e){clearTimeout(i),r=va.error,n(e)}))}))}));return new Promise((function(e,n){Promise.all(t).then((function(t){var r=t.filter((function(e){return e!==va.resolved}));r.length>0?n(r):e()})).catch((function(e){return n([e])}))}))},e.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},e.prototype._getPropagator=function(e){var t;return null===(t=this.constructor._registeredPropagators.get(e))||void 0===t?void 0:t()},e.prototype._getSpanExporter=function(e){var t;return null===(t=this.constructor._registeredExporters.get(e))||void 0===t?void 0:t()},e.prototype._buildPropagatorFromEnv=function(){var e=this,t=Array.from(new Set(Ri().OTEL_PROPAGATORS)),n=t.map((function(t){var n=e._getPropagator(t);return n||Ir.warn('Propagator "'+t+'" requested through environment variable is unavailable.'),n})).reduce((function(e,t){return t&&e.push(t),e}),[]);return 0===n.length?void 0:1===t.length?n[0]:new so({propagators:n})},e.prototype._buildExporterFromEnv=function(){var e=Ri().OTEL_TRACES_EXPORTER;if("none"!==e&&""!==e){var t=this._getSpanExporter(e);return t||Ir.error('Exporter "'+e+'" requested through environment variable is unavailable.'),t}},e._registeredPropagators=new Map([["tracecontext",function(){return new _o}],["baggage",function(){return new ti}]]),e._registeredExporters=new Map,e}(),Ra=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Pa=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Aa=function(){function e(){this._enabled=!1,this._currentContext=In}return e.prototype._bindFunction=function(e,t){void 0===e&&(e=In);var n=this,r=function(){for(var r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return n.with(e,(function(){return t.apply(r,i)}))};return Object.defineProperty(r,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),r},e.prototype.active=function(){return this._currentContext},e.prototype.bind=function(e,t){return void 0===e&&(e=this.active()),"function"==typeof t?this._bindFunction(e,t):t},e.prototype.disable=function(){return this._currentContext=In,this._enabled=!1,this},e.prototype.enable=function(){return this._enabled||(this._enabled=!0,this._currentContext=In),this},e.prototype.with=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=this._currentContext;this._currentContext=e||In;try{return t.call.apply(t,Pa([n],Ra(r),!1))}finally{this._currentContext=o}},e}(),La=(Sa=function(e,t){return Sa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Sa(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Sa(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ia=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;if(t.contextManager)throw"contextManager should be defined in register method not in constructor";if(t.propagator)throw"propagator should be defined in register method not in constructor";return n}return La(t,e),t.prototype.register=function(t){void 0===t&&(t={}),void 0===t.contextManager&&(t.contextManager=new Aa),t.contextManager&&t.contextManager.enable(),e.prototype.register.call(this,t)},t}(Ca);function xa(e,t,n){if(t in n&&"number"==typeof n[t])return e.addEvent(t,n[t]),e}function Na(e,t){xa(e,Oa.FETCH_START,t),xa(e,Oa.DOMAIN_LOOKUP_START,t),xa(e,Oa.DOMAIN_LOOKUP_END,t),xa(e,Oa.CONNECT_START,t),xa(e,Oa.SECURE_CONNECTION_START,t),xa(e,Oa.CONNECT_END,t),xa(e,Oa.REQUEST_START,t),xa(e,Oa.RESPONSE_START,t),xa(e,Oa.RESPONSE_END,t);var n=t[Oa.ENCODED_BODY_SIZE];void 0!==n&&e.setAttribute(zi,n);var r=t[Oa.DECODED_BODY_SIZE];void 0!==r&&n!==r&&e.setAttribute(Fi,r)}function Da(e,t,n,r,i,o){void 0===i&&(i=new WeakSet);var a=Ma(e),s=function(e,t,n,r,i,o){var a=no(t),s=no(n),u=r.filter((function(t){var n=no(to(t[Oa.FETCH_START])),r=no(to(t[Oa.RESPONSE_END]));return t.initiatorType.toLowerCase()===(o||"xmlhttprequest")&&t.name===e&&n>=a&&r<=s}));u.length>0&&(u=u.filter((function(e){return!i.has(e)})));return u}(e=a.toString(),t,n,r,i,o);if(0===s.length)return{mainRequest:void 0};if(1===s.length)return{mainRequest:s[0]};var u=function(e){return e.slice().sort((function(e,t){var n=e[Oa.FETCH_START],r=t[Oa.FETCH_START];return n>r?1:n<r?-1:0}))}(s);if(a.origin!==location.origin&&u.length>1){var c=u[0],l=function(e,t,n){for(var r,i=no(n),o=no(to(t)),a=e[1],s=e.length,u=1;u<s;u++){var c=e[u],l=no(to(c[Oa.FETCH_START])),f=i-no(to(c[Oa.RESPONSE_END]));l>=o&&(!r||f<r)&&(r=f,a=c)}return a}(u,c[Oa.RESPONSE_END],n),f=c[Oa.RESPONSE_END];return l[Oa.FETCH_START]<f&&(l=c,c=void 0),{corsPreFlightRequest:c,mainRequest:l}}return{mainRequest:s[0]}}function Ma(e){if("function"==typeof URL)return new URL(e,"undefined"!=typeof document?document.baseURI:"undefined"!=typeof location?location.href:void 0);var t=(ka||(ka=document.createElement("a")),ka);return t.href=e,t}function ja(e,t){var n=t||[];return("string"==typeof n||n instanceof RegExp)&&(n=[n]),Ma(e).origin===location.origin||n.some((function(t){return Ho(e,t)}))}!function(e){e.CONNECT_END="connectEnd",e.CONNECT_START="connectStart",e.DECODED_BODY_SIZE="decodedBodySize",e.DOM_COMPLETE="domComplete",e.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",e.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",e.DOM_INTERACTIVE="domInteractive",e.DOMAIN_LOOKUP_END="domainLookupEnd",e.DOMAIN_LOOKUP_START="domainLookupStart",e.ENCODED_BODY_SIZE="encodedBodySize",e.FETCH_START="fetchStart",e.LOAD_EVENT_END="loadEventEnd",e.LOAD_EVENT_START="loadEventStart",e.NAVIGATION_START="navigationStart",e.REDIRECT_END="redirectEnd",e.REDIRECT_START="redirectStart",e.REQUEST_START="requestStart",e.RESPONSE_END="responseEnd",e.RESPONSE_START="responseStart",e.SECURE_CONNECTION_START="secureConnectionStart",e.UNLOAD_EVENT_END="unloadEventEnd",e.UNLOAD_EVENT_START="unloadEventStart"}(Oa||(Oa={}));var Ua="OT_ZONE_CONTEXT",Ba=function(){function e(){this._enabled=!1,this._zoneCounter=0}return e.prototype._activeContextFromZone=function(e){return e&&e.get(Ua)||In},e.prototype._bindFunction=function(e,t){var n=this,r=function(){for(var r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return n.with(e,(function(){return t.apply(r,i)}))};return Object.defineProperty(r,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),r},e.prototype._bindListener=function(e,t){var n=t;return void 0!==n.__ot_listeners||(n.__ot_listeners={},"function"==typeof n.addEventListener&&(n.addEventListener=this._patchAddEventListener(n,n.addEventListener,e)),"function"==typeof n.removeEventListener&&(n.removeEventListener=this._patchRemoveEventListener(n,n.removeEventListener))),t},e.prototype._createZoneName=function(){this._zoneCounter++;var e=Math.random();return this._zoneCounter+"-"+e},e.prototype._createZone=function(e,t){var n;return Zone.current.fork({name:e,properties:(n={},n[Ua]=t,n)})},e.prototype._getActiveZone=function(){return Zone.current},e.prototype._patchAddEventListener=function(e,t,n){var r=this;return function(i,o,a){void 0===e.__ot_listeners&&(e.__ot_listeners={});var s=e.__ot_listeners[i];void 0===s&&(s=new WeakMap,e.__ot_listeners[i]=s);var u=r.bind(n,o);return s.set(o,u),t.call(this,i,u,a)}},e.prototype._patchRemoveEventListener=function(e,t){return function(n,r){if(void 0===e.__ot_listeners||void 0===e.__ot_listeners[n])return t.call(this,n,r);var i=e.__ot_listeners[n],o=i.get(r);return i.delete(r),t.call(this,n,o||r)}},e.prototype.active=function(){if(!this._enabled)return In;var e=this._getActiveZone(),t=this._activeContextFromZone(e);return t||In},e.prototype.bind=function(e,t){return void 0===e&&(e=this.active()),"function"==typeof t?this._bindFunction(e,t):(void 0===(n=t)&&(n={}),"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener&&this._bindListener(e,t),t);var n},e.prototype.disable=function(){return this._enabled=!1,this},e.prototype.enable=function(){return this._enabled=!0,this},e.prototype.with=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=this._createZoneName();return this._createZone(o,e).run(t,n,r)},e}();!function(e){var t=e.performance;function n(e){t&&t.mark&&t.mark(e)}function r(e,n){t&&t.measure&&t.measure(e,n)}n("Zone");var i=e.__Zone_symbol_prefix||"__zone_symbol__";function o(e){return i+e}var a=!0===e[o("forceDuplicateZoneCheck")];if(e.Zone){if(a||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}var s=function(){function t(e,n){_classCallCheck(this,t),this._parent=e,this._name=n?n.name||"unnamed":"<root>",this._properties=n&&n.properties||{},this._zoneDelegate=new l(this,this._parent&&this._parent._zoneDelegate,n)}return _createClass(t,[{key:"parent",get:function(){return this._parent}},{key:"name",get:function(){return this._name}},{key:"get",value:function(e){var t=this.getZoneWith(e);if(t)return t._properties[e]}},{key:"getZoneWith",value:function(e){for(var t=this;t;){if(t._properties.hasOwnProperty(e))return t;t=t._parent}return null}},{key:"fork",value:function(e){if(!e)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,e)}},{key:"wrap",value:function(e,t){if("function"!=typeof e)throw new Error("Expecting function got: "+e);var n=this._zoneDelegate.intercept(this,e,t),r=this;return function(){return r.runGuarded(n,this,arguments,t)}}},{key:"run",value:function(e,t,n,r){I={parent:I,zone:this};try{return this._zoneDelegate.invoke(this,e,t,n,r)}finally{I=I.parent}}},{key:"runGuarded",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;I={parent:I,zone:this};try{try{return this._zoneDelegate.invoke(this,e,t,n,r)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{I=I.parent}}},{key:"runTask",value:function(e,t,n){if(e.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(e.zone||b).name+"; Execution: "+this.name+")");if(e.state!==E||e.type!==P&&e.type!==R){var r=e.state!=S;r&&e._transitionTo(S,w),e.runCount++;var i=x;x=e,I={parent:I,zone:this};try{e.type==R&&e.data&&!e.data.isPeriodic&&(e.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,e,t,n)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{e.state!==E&&e.state!==k&&(e.type==P||e.data&&e.data.isPeriodic?r&&e._transitionTo(w,S):(e.runCount=0,this._updateTaskCount(e,-1),r&&e._transitionTo(E,S,E))),I=I.parent,x=i}}}},{key:"scheduleTask",value:function(e){if(e.zone&&e.zone!==this)for(var t=this;t;){if(t===e.zone)throw Error("can not reschedule task to ".concat(this.name," which is descendants of the original zone ").concat(e.zone.name));t=t.parent}e._transitionTo(T,E);var n=[];e._zoneDelegates=n,e._zone=this;try{e=this._zoneDelegate.scheduleTask(this,e)}catch(t){throw e._transitionTo(k,T,E),this._zoneDelegate.handleError(this,t),t}return e._zoneDelegates===n&&this._updateTaskCount(e,1),e.state==T&&e._transitionTo(w,T),e}},{key:"scheduleMicroTask",value:function(e,t,n,r){return this.scheduleTask(new f(C,e,t,n,r,void 0))}},{key:"scheduleMacroTask",value:function(e,t,n,r,i){return this.scheduleTask(new f(R,e,t,n,r,i))}},{key:"scheduleEventTask",value:function(e,t,n,r,i){return this.scheduleTask(new f(P,e,t,n,r,i))}},{key:"cancelTask",value:function(e){if(e.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(e.zone||b).name+"; Execution: "+this.name+")");e._transitionTo(O,w,S);try{this._zoneDelegate.cancelTask(this,e)}catch(t){throw e._transitionTo(k,O),this._zoneDelegate.handleError(this,t),t}return this._updateTaskCount(e,-1),e._transitionTo(E,O),e.runCount=0,e}},{key:"_updateTaskCount",value:function(e,t){var n=e._zoneDelegates;-1==t&&(e._zoneDelegates=null);for(var r=0;r<n.length;r++)n[r]._updateTaskCount(e.type,t)}}],[{key:"assertZonePatched",value:function(){if(e.Promise!==A.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}},{key:"root",get:function(){for(var e=t.current;e.parent;)e=e.parent;return e}},{key:"current",get:function(){return I.zone}},{key:"currentTask",get:function(){return x}},{key:"__load_patch",value:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(A.hasOwnProperty(i)){if(!s&&a)throw Error("Already loaded patch: "+i)}else if(!e["__Zone_disable_"+i]){var u="Zone:"+i;n(u),A[i]=o(e,t,L),r(u,u)}}}]),t}();s.__symbol__=o;var u,c={name:"",onHasTask:function(e,t,n,r){return e.hasTask(n,r)},onScheduleTask:function(e,t,n,r){return e.scheduleTask(n,r)},onInvokeTask:function(e,t,n,r,i,o){return e.invokeTask(n,r,i,o)},onCancelTask:function(e,t,n,r){return e.cancelTask(n,r)}},l=function(){function e(t,n,r){_classCallCheck(this,e),this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=t,this._parentDelegate=n,this._forkZS=r&&(r&&r.onFork?r:n._forkZS),this._forkDlgt=r&&(r.onFork?n:n._forkDlgt),this._forkCurrZone=r&&(r.onFork?this.zone:n._forkCurrZone),this._interceptZS=r&&(r.onIntercept?r:n._interceptZS),this._interceptDlgt=r&&(r.onIntercept?n:n._interceptDlgt),this._interceptCurrZone=r&&(r.onIntercept?this.zone:n._interceptCurrZone),this._invokeZS=r&&(r.onInvoke?r:n._invokeZS),this._invokeDlgt=r&&(r.onInvoke?n:n._invokeDlgt),this._invokeCurrZone=r&&(r.onInvoke?this.zone:n._invokeCurrZone),this._handleErrorZS=r&&(r.onHandleError?r:n._handleErrorZS),this._handleErrorDlgt=r&&(r.onHandleError?n:n._handleErrorDlgt),this._handleErrorCurrZone=r&&(r.onHandleError?this.zone:n._handleErrorCurrZone),this._scheduleTaskZS=r&&(r.onScheduleTask?r:n._scheduleTaskZS),this._scheduleTaskDlgt=r&&(r.onScheduleTask?n:n._scheduleTaskDlgt),this._scheduleTaskCurrZone=r&&(r.onScheduleTask?this.zone:n._scheduleTaskCurrZone),this._invokeTaskZS=r&&(r.onInvokeTask?r:n._invokeTaskZS),this._invokeTaskDlgt=r&&(r.onInvokeTask?n:n._invokeTaskDlgt),this._invokeTaskCurrZone=r&&(r.onInvokeTask?this.zone:n._invokeTaskCurrZone),this._cancelTaskZS=r&&(r.onCancelTask?r:n._cancelTaskZS),this._cancelTaskDlgt=r&&(r.onCancelTask?n:n._cancelTaskDlgt),this._cancelTaskCurrZone=r&&(r.onCancelTask?this.zone:n._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;var i=r&&r.onHasTask,o=n&&n._hasTaskZS;(i||o)&&(this._hasTaskZS=i?r:c,this._hasTaskDlgt=n,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=t,r.onScheduleTask||(this._scheduleTaskZS=c,this._scheduleTaskDlgt=n,this._scheduleTaskCurrZone=this.zone),r.onInvokeTask||(this._invokeTaskZS=c,this._invokeTaskDlgt=n,this._invokeTaskCurrZone=this.zone),r.onCancelTask||(this._cancelTaskZS=c,this._cancelTaskDlgt=n,this._cancelTaskCurrZone=this.zone))}return _createClass(e,[{key:"fork",value:function(e,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,e,t):new s(e,t)}},{key:"intercept",value:function(e,t,n){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,e,t,n):t}},{key:"invoke",value:function(e,t,n,r,i){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,e,t,n,r,i):t.apply(n,r)}},{key:"handleError",value:function(e,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,e,t)}},{key:"scheduleTask",value:function(e,t){var n=t;if(this._scheduleTaskZS)this._hasTaskZS&&n._zoneDelegates.push(this._hasTaskDlgtOwner),(n=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,e,t))||(n=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=C)throw new Error("Task is missing scheduleFn.");y(t)}return n}},{key:"invokeTask",value:function(e,t,n,r){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,e,t,n,r):t.callback.apply(n,r)}},{key:"cancelTask",value:function(e,t){var n;if(this._cancelTaskZS)n=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,e,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");n=t.cancelFn(t)}return n}},{key:"hasTask",value:function(e,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,e,t)}catch(t){this.handleError(e,t)}}},{key:"_updateTaskCount",value:function(e,t){var n=this._taskCounts,r=n[e],i=n[e]=r+t;if(i<0)throw new Error("More tasks executed then were scheduled.");if(0==r||0==i){var o={microTask:n.microTask>0,macroTask:n.macroTask>0,eventTask:n.eventTask>0,change:e};this.hasTask(this.zone,o)}}}]),e}(),f=function(){function t(n,r,i,o,a,s){if(_classCallCheck(this,t),this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=n,this.source=r,this.data=o,this.scheduleFn=a,this.cancelFn=s,!i)throw new Error("callback is not defined");this.callback=i;var u=this;n===P&&o&&o.useG?this.invoke=t.invokeTask:this.invoke=function(){return t.invokeTask.call(e,u,this,arguments)}}return _createClass(t,[{key:"zone",get:function(){return this._zone}},{key:"state",get:function(){return this._state}},{key:"cancelScheduleRequest",value:function(){this._transitionTo(E,T)}},{key:"_transitionTo",value:function(e,t,n){if(this._state!==t&&this._state!==n)throw new Error("".concat(this.type," '").concat(this.source,"': can not transition to '").concat(e,"', expecting state '").concat(t,"'").concat(n?" or '"+n+"'":"",", was '").concat(this._state,"'."));this._state=e,e==E&&(this._zoneDelegates=null)}},{key:"toString",value:function(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}},{key:"toJSON",value:function(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}],[{key:"invokeTask",value:function(e,t,n){e||(e=this),N++;try{return e.runCount++,e.zone.runTask(e,t,n)}finally{1==N&&_(),N--}}}]),t}(),p=o("setTimeout"),h=o("Promise"),d=o("then"),v=[],m=!1;function g(t){if(u||e[h]&&(u=e[h].resolve(0)),u){var n=u[d];n||(n=u.then),n.call(u,t)}else e[p](t,0)}function y(e){0===N&&0===v.length&&g(_),e&&v.push(e)}function _(){if(!m){for(m=!0;v.length;){var e=v;v=[];for(var t=0;t<e.length;t++){var n=e[t];try{n.zone.runTask(n,null,null)}catch(e){L.onUnhandledError(e)}}}L.microtaskDrainDone(),m=!1}}var b={name:"NO ZONE"},E="notScheduled",T="scheduling",w="scheduled",S="running",O="canceling",k="unknown",C="microTask",R="macroTask",P="eventTask",A={},L={symbol:o,currentZoneFrame:function(){return I},onUnhandledError:D,microtaskDrainDone:D,scheduleMicroTask:y,showUncaughtError:function(){return!s[o("ignoreConsoleErrorUncaughtError")]},patchEventTarget:function(){return[]},patchOnProperties:D,patchMethod:function(){return D},bindArguments:function(){return[]},patchThen:function(){return D},patchMacroTask:function(){return D},patchEventPrototype:function(){return D},isIEOrEdge:function(){return!1},getGlobalObjects:function(){},ObjectDefineProperty:function(){return D},ObjectGetOwnPropertyDescriptor:function(){},ObjectCreate:function(){},ArraySlice:function(){return[]},patchClass:function(){return D},wrapWithCurrentZone:function(){return D},filterProperties:function(){return[]},attachOriginToPatched:function(){return D},_redefineProperty:function(){return D},patchCallbacks:function(){return D},nativeScheduleMicroTask:g},I={parent:null,zone:new s(null,null)},x=null,N=0;function D(){}r("Zone","Zone"),e.Zone=s}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||ae);var Ha=Object.getOwnPropertyDescriptor,za=Object.defineProperty,Fa=Object.getPrototypeOf,qa=Object.create,Va=Array.prototype.slice,Za="addEventListener",Ga="removeEventListener",Xa=Zone.__symbol__(Za),Wa=Zone.__symbol__(Ga),Ja="true",Ka="false",Qa=Zone.__symbol__("");function Ya(e,t){return Zone.current.wrap(e,t)}function $a(e,t,n,r,i){return Zone.current.scheduleMacroTask(e,t,n,r,i)}var es=Zone.__symbol__,ts="undefined"!=typeof window,ns=ts?window:void 0,rs=ts&&ns||"object"===("undefined"==typeof self?"undefined":_typeof(self))&&self||ae,is="removeAttribute";function os(e,t){for(var n=e.length-1;n>=0;n--)"function"==typeof e[n]&&(e[n]=Ya(e[n],t+"_"+n));return e}function as(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&void 0===e.set)}var ss="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,us=!("nw"in rs)&&void 0!==rs.process&&"[object process]"==={}.toString.call(rs.process),cs=!us&&!ss&&!(!ts||!ns.HTMLElement),ls=void 0!==rs.process&&"[object process]"==={}.toString.call(rs.process)&&!ss&&!(!ts||!ns.HTMLElement),fs={},ps=function(e){if(e=e||rs.event){var t=fs[e.type];t||(t=fs[e.type]=es("ON_PROPERTY"+e.type));var n,r=this||e.target||rs,i=r[t];if(cs&&r===ns&&"error"===e.type){var o=e;!0===(n=i&&i.call(this,o.message,o.filename,o.lineno,o.colno,o.error))&&e.preventDefault()}else null==(n=i&&i.apply(this,arguments))||n||e.preventDefault();return n}};function hs(e,t,n){var r=Ha(e,t);!r&&n&&(Ha(n,t)&&(r={enumerable:!0,configurable:!0}));if(r&&r.configurable){var i=es("on"+t+"patched");if(!e.hasOwnProperty(i)||!e[i]){delete r.writable,delete r.value;var o=r.get,a=r.set,s=t.slice(2),u=fs[s];u||(u=fs[s]=es("ON_PROPERTY"+s)),r.set=function(t){var n=this;(n||e!==rs||(n=rs),n)&&("function"==typeof n[u]&&n.removeEventListener(s,ps),a&&a.call(n,null),n[u]=t,"function"==typeof t&&n.addEventListener(s,ps,!1))},r.get=function(){var n=this;if(n||e!==rs||(n=rs),!n)return null;var i=n[u];if(i)return i;if(o){var a=o.call(this);if(a)return r.set.call(this,a),"function"==typeof n[is]&&n.removeAttribute(t),a}return null},za(e,t,r),e[i]=!0}}}function ds(e,t,n){if(t)for(var r=0;r<t.length;r++)hs(e,"on"+t[r],n);else{var i=[];for(var o in e)"on"==o.slice(0,2)&&i.push(o);for(var a=0;a<i.length;a++)hs(e,i[a],n)}}var vs=es("originalInstance");function ms(e){var t=rs[e];if(t){rs[es(e)]=t,rs[e]=function(){var n=os(arguments,e);switch(n.length){case 0:this[vs]=new t;break;case 1:this[vs]=new t(n[0]);break;case 2:this[vs]=new t(n[0],n[1]);break;case 3:this[vs]=new t(n[0],n[1],n[2]);break;case 4:this[vs]=new t(n[0],n[1],n[2],n[3]);break;default:throw new Error("Arg list too long.")}},_s(rs[e],t);var n,r=new t((function(){}));for(n in r)"XMLHttpRequest"===e&&"responseBlob"===n||function(t){"function"==typeof r[t]?rs[e].prototype[t]=function(){return this[vs][t].apply(this[vs],arguments)}:za(rs[e].prototype,t,{set:function(n){"function"==typeof n?(this[vs][t]=Ya(n,e+"."+t),_s(this[vs][t],n)):this[vs][t]=n},get:function(){return this[vs][t]}})}(n);for(n in t)"prototype"!==n&&t.hasOwnProperty(n)&&(rs[e][n]=t[n])}}function gs(e,t,n){for(var r=e;r&&!r.hasOwnProperty(t);)r=Fa(r);!r&&e[t]&&(r=e);var i=es(t),o=null;if(r&&(!(o=r[i])||!r.hasOwnProperty(i))&&(o=r[i]=r[t],as(r&&Ha(r,t)))){var a=n(o,i,t);r[t]=function(){return a(this,arguments)},_s(r[t],o)}return o}function ys(e,t,n){var r=null;function i(e){var t=e.data;return t.args[t.cbIdx]=function(){e.invoke.apply(this,arguments)},r.apply(t.target,t.args),e}r=gs(e,t,(function(e){return function(t,r){var o=n(t,r);return o.cbIdx>=0&&"function"==typeof r[o.cbIdx]?$a(o.name,r[o.cbIdx],o,i):e.apply(t,r)}}))}function _s(e,t){e[es("OriginalDelegate")]=t}var bs=!1,Es=!1;function Ts(){if(bs)return Es;bs=!0;try{var e=ns.navigator.userAgent;-1===e.indexOf("MSIE ")&&-1===e.indexOf("Trident/")&&-1===e.indexOf("Edge/")||(Es=!0)}catch(e){}return Es}Zone.__load_patch("ZoneAwarePromise",(function(e,t,n){var r=Object.getOwnPropertyDescriptor,i=Object.defineProperty;var o=n.symbol,a=[],s=!0===e[o("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],u=o("Promise"),c=o("then"),l="__creationTrace__";n.onUnhandledError=function(e){if(n.showUncaughtError()){var t=e&&e.rejection;t?console.error("Unhandled Promise rejection:",t instanceof Error?t.message:t,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",t,t instanceof Error?t.stack:void 0):console.error(e)}},n.microtaskDrainDone=function(){for(var e=function(){var e=a.shift();try{e.zone.runGuarded((function(){if(e.throwOriginal)throw e.rejection;throw e}))}catch(e){!function(e){n.onUnhandledError(e);try{var r=t[f];"function"==typeof r&&r.call(this,e)}catch(e){}}(e)}};a.length;)e()};var f=o("unhandledPromiseRejectionHandler");function p(e){return e&&e.then}function h(e){return e}function d(e){return D.reject(e)}var v=o("state"),m=o("value"),g=o("finally"),y=o("parentPromiseValue"),_=o("parentPromiseState"),b="Promise.then",E=null,T=!0,w=!1,S=0;function O(e,t){return function(n){try{P(e,t,n)}catch(t){P(e,!1,t)}}}var k=function(){var e=!1;return function(t){return function(){e||(e=!0,t.apply(null,arguments))}}},C="Promise resolved with itself",R=o("currentTaskTrace");function P(e,r,o){var u=k();if(e===o)throw new TypeError(C);if(e[v]===E){var c=null;try{"object"!==_typeof(o)&&"function"!=typeof o||(c=o&&o.then)}catch(t){return u((function(){P(e,!1,t)}))(),e}if(r!==w&&o instanceof D&&o.hasOwnProperty(v)&&o.hasOwnProperty(m)&&o[v]!==E)L(o),P(e,o[v],o[m]);else if(r!==w&&"function"==typeof c)try{c.call(o,u(O(e,r)),u(O(e,!1)))}catch(t){u((function(){P(e,!1,t)}))()}else{e[v]=r;var f=e[m];if(e[m]=o,e[g]===g&&r===T&&(e[v]=e[_],e[m]=e[y]),r===w&&o instanceof Error){var p=t.currentTask&&t.currentTask.data&&t.currentTask.data[l];p&&i(o,R,{configurable:!0,enumerable:!1,writable:!0,value:p})}for(var h=0;h<f.length;)I(e,f[h++],f[h++],f[h++],f[h++]);if(0==f.length&&r==w){e[v]=S;var d=o;try{throw new Error("Uncaught (in promise): "+function(e){if(e&&e.toString===Object.prototype.toString){return(e.constructor&&e.constructor.name||"")+": "+JSON.stringify(e)}return e?e.toString():Object.prototype.toString.call(e)}(o)+(o&&o.stack?"\n"+o.stack:""))}catch(e){d=e}s&&(d.throwOriginal=!0),d.rejection=o,d.promise=e,d.zone=t.current,d.task=t.currentTask,a.push(d),n.scheduleMicroTask()}}}return e}var A=o("rejectionHandledHandler");function L(e){if(e[v]===S){try{var n=t[A];n&&"function"==typeof n&&n.call(this,{rejection:e[m],promise:e})}catch(e){}e[v]=w;for(var r=0;r<a.length;r++)e===a[r].promise&&a.splice(r,1)}}function I(e,t,n,r,i){L(e);var o=e[v],a=o?"function"==typeof r?r:h:"function"==typeof i?i:d;t.scheduleMicroTask(b,(function(){try{var r=e[m],i=!!n&&g===n[g];i&&(n[y]=r,n[_]=o);var s=t.run(a,void 0,i&&a!==d&&a!==h?[]:[r]);P(n,!0,s)}catch(e){P(n,!1,e)}}),n)}var x=function(){},N=e.AggregateError,D=function(e,n){function r(e){_classCallCheck(this,r);var t=this;if(!(t instanceof r))throw new Error("Must be an instanceof Promise.");t[v]=E,t[m]=[];try{var n=k();e&&e(n(O(t,T)),n(O(t,w)))}catch(e){P(t,!1,e)}}return _createClass(r,[{key:Symbol.toStringTag,get:function(){return"Promise"}},{key:Symbol.species,get:function(){return r}},{key:"then",value:function(e,n){var i,o=null===(i=this.constructor)||void 0===i?void 0:i[Symbol.species];o&&"function"==typeof o||(o=this.constructor||r);var a=new o(x),s=t.current;return this[v]==E?this[m].push(s,a,e,n):I(this,s,a,e,n),a}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"finally",value:function(e){var n,i=null===(n=this.constructor)||void 0===n?void 0:n[Symbol.species];i&&"function"==typeof i||(i=r);var o=new i(x);o[g]=g;var a=t.current;return this[v]==E?this[m].push(a,o,e,e):I(this,a,o,e,e),o}}],[{key:"toString",value:function(){return"function ZoneAwarePromise() { [native code] }"}},{key:"resolve",value:function(e){return P(new this(null),T,e)}},{key:"reject",value:function(e){return P(new this(null),w,e)}},{key:"any",value:function(e){if(!e||"function"!=typeof e[Symbol.iterator])return Promise.reject(new N([],"All promises were rejected"));var t=[],n=0;try{var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;n++,t.push(r.resolve(a))}}catch(e){o.e(e)}finally{o.f()}}catch(e){return Promise.reject(new N([],"All promises were rejected"))}if(0===n)return Promise.reject(new N([],"All promises were rejected"));var s=!1,u=[];return new r((function(e,r){for(var i=0;i<t.length;i++)t[i].then((function(t){s||(s=!0,e(t))}),(function(e){u.push(e),0===--n&&(s=!0,r(new N(u,"All promises were rejected")))}))}))}},{key:"race",value:function(e){var t,n,r=new this((function(e,r){t=e,n=r}));function i(e){t(e)}function o(e){n(e)}var a,s=_createForOfIteratorHelper(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;p(u)||(u=this.resolve(u)),u.then(i,o)}}catch(e){s.e(e)}finally{s.f()}return r}},{key:"all",value:function(e){return r.allWithCallback(e)}},{key:"allSettled",value:function(e){return(this&&this.prototype instanceof r?this:r).allWithCallback(e,{thenCallback:function(e){return{status:"fulfilled",value:e}},errorCallback:function(e){return{status:"rejected",reason:e}}})}},{key:"allWithCallback",value:function(e,t){var n,r,i,o=this,a=new this((function(e,t){n=e,r=t})),s=2,u=0,c=[],l=_createForOfIteratorHelper(e);try{var f=function(){var e=i.value;p(e)||(e=o.resolve(e));var a=u;try{e.then((function(e){c[a]=t?t.thenCallback(e):e,0===--s&&n(c)}),(function(e){t?(c[a]=t.errorCallback(e),0===--s&&n(c)):r(e)}))}catch(e){r(e)}s++,u++};for(l.s();!(i=l.n()).done;)f()}catch(e){l.e(e)}finally{l.f()}return 0===(s-=2)&&n(c),a}}]),r}();D.resolve=D.resolve,D.reject=D.reject,D.race=D.race,D.all=D.all;var M=e[u]=e.Promise;e.Promise=D;var j=o("thenPatched");function U(e){var t=e.prototype,n=r(t,"then");if(!n||!1!==n.writable&&n.configurable){var i=t.then;t[c]=i,e.prototype.then=function(e,t){var n=this;return new D((function(e,t){i.call(n,e,t)})).then(e,t)},e[j]=!0}}return n.patchThen=U,M&&(U(M),gs(e,"fetch",(function(e){return t=e,function(e,n){var r=t.apply(e,n);if(r instanceof D)return r;var i=r.constructor;return i[j]||U(i),r};var t}))),Promise[t.__symbol__("uncaughtPromiseErrors")]=a,D})),Zone.__load_patch("toString",(function(e){var t=Function.prototype.toString,n=es("OriginalDelegate"),r=es("Promise"),i=es("Error"),o=function(){if("function"==typeof this){var o=this[n];if(o)return"function"==typeof o?t.call(o):Object.prototype.toString.call(o);if(this===Promise){var a=e[r];if(a)return t.call(a)}if(this===Error){var s=e[i];if(s)return t.call(s)}}return t.call(this)};o[n]=t,Function.prototype.toString=o;var a=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":a.call(this)}}));var ws=!1;if("undefined"!=typeof window)try{var Ss=Object.defineProperty({},"passive",{get:function(){ws=!0}});window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch(e){ws=!1}var Os={useG:!0},ks={},Cs={},Rs=new RegExp("^"+Qa+"(\\w+)(true|false)$"),Ps=es("propagationStopped");function As(e,t){var n=(t?t(e):e)+Ka,r=(t?t(e):e)+Ja,i=Qa+n,o=Qa+r;ks[e]={},ks[e][Ka]=i,ks[e][Ja]=o}function Ls(e,t,n,r){var i=r&&r.add||Za,o=r&&r.rm||Ga,a=r&&r.listeners||"eventListeners",s=r&&r.rmAll||"removeAllListeners",u=es(i),c="."+i+":",l="prependListener",f="."+l+":",p=function(e,t,n){if(!e.isRemoved){var r,i=e.callback;"object"===_typeof(i)&&i.handleEvent&&(e.callback=function(e){return i.handleEvent(e)},e.originalDelegate=i);try{e.invoke(e,t,[n])}catch(e){r=e}var a=e.options;if(a&&"object"===_typeof(a)&&a.once){var s=e.originalDelegate?e.originalDelegate:e.callback;t[o].call(t,n.type,s,a)}return r}};function h(n,r,i){if(r=r||e.event){var o=n||r.target||e,a=o[ks[r.type][i?Ja:Ka]];if(a){var s=[];if(1===a.length){var u=p(a[0],o,r);u&&s.push(u)}else for(var c=a.slice(),l=0;l<c.length&&(!r||!0!==r[Ps]);l++){var f=p(c[l],o,r);f&&s.push(f)}if(1===s.length)throw s[0];for(var h=function(){var e=s[d];t.nativeScheduleMicroTask((function(){throw e}))},d=0;d<s.length;d++)h()}}}var d=function(e){return h(this,e,!1)},v=function(e){return h(this,e,!0)};function m(t,n){if(!t)return!1;var r=!0;n&&void 0!==n.useG&&(r=n.useG);var p=n&&n.vh,h=!0;n&&void 0!==n.chkDup&&(h=n.chkDup);var m=!1;n&&void 0!==n.rt&&(m=n.rt);for(var g=t;g&&!g.hasOwnProperty(i);)g=Fa(g);if(!g&&t[i]&&(g=t),!g)return!1;if(g[u])return!1;var y,_=n&&n.eventNameToString,b={},E=g[u]=g[i],T=g[es(o)]=g[o],w=g[es(a)]=g[a],S=g[es(s)]=g[s];n&&n.prepend&&(y=g[es(n.prepend)]=g[n.prepend]);var O=r?function(e){if(!b.isExisting)return E.call(b.target,b.eventName,b.capture?v:d,b.options)}:function(e){return E.call(b.target,b.eventName,e.invoke,b.options)},k=r?function(e){if(!e.isRemoved){var t,n=ks[e.eventName];n&&(t=n[e.capture?Ja:Ka]);var r=t&&e.target[t];if(r)for(var i=0;i<r.length;i++){if(r[i]===e){r.splice(i,1),e.isRemoved=!0,0===r.length&&(e.allRemoved=!0,e.target[t]=null);break}}}if(e.allRemoved)return T.call(e.target,e.eventName,e.capture?v:d,e.options)}:function(e){return T.call(e.target,e.eventName,e.invoke,e.options)},C=n&&n.diff?n.diff:function(e,t){var n=_typeof(t);return"function"===n&&e.callback===t||"object"===n&&e.originalDelegate===t},R=Zone[es("UNPATCHED_EVENTS")],P=e[es("PASSIVE_EVENTS")],A=function(t,i,o,a){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return function(){var c=this||e,l=arguments[0];n&&n.transferEventName&&(l=n.transferEventName(l));var f=arguments[1];if(!f)return t.apply(this,arguments);if(us&&"uncaughtException"===l)return t.apply(this,arguments);var d=!1;if("function"!=typeof f){if(!f.handleEvent)return t.apply(this,arguments);d=!0}if(!p||p(t,f,c,arguments)){var v=ws&&!!P&&-1!==P.indexOf(l),m=function(e,t){return!ws&&"object"===_typeof(e)&&e?!!e.capture:ws&&t?"boolean"==typeof e?{capture:e,passive:!0}:e?"object"===_typeof(e)&&!1!==e.passive?Object.assign(Object.assign({},e),{passive:!0}):e:{passive:!0}:e}(arguments[2],v);if(R)for(var g=0;g<R.length;g++)if(l===R[g])return v?t.call(c,l,f,m):t.apply(this,arguments);var y=!!m&&("boolean"==typeof m||m.capture),E=!(!m||"object"!==_typeof(m))&&m.once,T=Zone.current,w=ks[l];w||(As(l,_),w=ks[l]);var S,O=w[y?Ja:Ka],k=c[O],A=!1;if(k){if(A=!0,h)for(var L=0;L<k.length;L++)if(C(k[L],f))return}else k=c[O]=[];var I=c.constructor.name,x=Cs[I];x&&(S=x[l]),S||(S=I+i+(_?_(l):l)),b.options=m,E&&(b.options.once=!1),b.target=c,b.capture=y,b.eventName=l,b.isExisting=A;var N=r?Os:void 0;N&&(N.taskData=b);var D=T.scheduleEventTask(S,f,N,o,a);return b.target=null,N&&(N.taskData=null),E&&(m.once=!0),(ws||"boolean"!=typeof D.options)&&(D.options=m),D.target=c,D.capture=y,D.eventName=l,d&&(D.originalDelegate=f),u?k.unshift(D):k.push(D),s?c:void 0}}};return g[i]=A(E,c,O,k,m),y&&(g[l]=A(y,f,(function(e){return y.call(b.target,b.eventName,e.invoke,b.options)}),k,m,!0)),g[o]=function(){var t=this||e,r=arguments[0];n&&n.transferEventName&&(r=n.transferEventName(r));var i=arguments[2],o=!!i&&("boolean"==typeof i||i.capture),a=arguments[1];if(!a)return T.apply(this,arguments);if(!p||p(T,a,t,arguments)){var s,u=ks[r];u&&(s=u[o?Ja:Ka]);var c=s&&t[s];if(c)for(var l=0;l<c.length;l++){var f=c[l];if(C(f,a)){if(c.splice(l,1),f.isRemoved=!0,0===c.length)if(f.allRemoved=!0,t[s]=null,"string"==typeof r)t[Qa+"ON_PROPERTY"+r]=null;return f.zone.cancelTask(f),m?t:void 0}}return T.apply(this,arguments)}},g[a]=function(){var t=this||e,r=arguments[0];n&&n.transferEventName&&(r=n.transferEventName(r));for(var i=[],o=Is(t,_?_(r):r),a=0;a<o.length;a++){var s=o[a],u=s.originalDelegate?s.originalDelegate:s.callback;i.push(u)}return i},g[s]=function(){var t=this||e,r=arguments[0];if(r){n&&n.transferEventName&&(r=n.transferEventName(r));var i=ks[r];if(i){var a=i[Ka],u=i[Ja],c=t[a],l=t[u];if(c)for(var f=c.slice(),p=0;p<f.length;p++){var h=f[p],d=h.originalDelegate?h.originalDelegate:h.callback;this[o].call(this,r,d,h.options)}if(l)for(var v=l.slice(),g=0;g<v.length;g++){var y=v[g],_=y.originalDelegate?y.originalDelegate:y.callback;this[o].call(this,r,_,y.options)}}}else{for(var b=Object.keys(t),E=0;E<b.length;E++){var T=b[E],w=Rs.exec(T),S=w&&w[1];S&&"removeListener"!==S&&this[s].call(this,S)}this[s].call(this,"removeListener")}if(m)return this},_s(g[i],E),_s(g[o],T),S&&_s(g[s],S),w&&_s(g[a],w),!0}for(var g=[],y=0;y<n.length;y++)g[y]=m(n[y],r);return g}function Is(e,t){if(!t){var n=[];for(var r in e){var i=Rs.exec(r),o=i&&i[1];if(o&&(!t||o===t)){var a=e[r];if(a)for(var s=0;s<a.length;s++)n.push(a[s])}}return n}var u=ks[t];u||(As(t),u=ks[t]);var c=e[u[Ka]],l=e[u[Ja]];return c?l?c.concat(l):c.slice():l?l.slice():[]}function xs(e,t){var n=e.Event;n&&n.prototype&&t.patchMethod(n.prototype,"stopImmediatePropagation",(function(e){return function(t,n){t[Ps]=!0,e&&e.apply(t,n)}}))}function Ns(e,t,n,r,i){var o=Zone.__symbol__(r);if(!t[o]){var a=t[o]=t[r];t[r]=function(o,s,u){return s&&s.prototype&&i.forEach((function(t){var i="".concat(n,".").concat(r,"::")+t,o=s.prototype;try{if(o.hasOwnProperty(t)){var a=e.ObjectGetOwnPropertyDescriptor(o,t);a&&a.value?(a.value=e.wrapWithCurrentZone(a.value,i),e._redefineProperty(s.prototype,t,a)):o[t]&&(o[t]=e.wrapWithCurrentZone(o[t],i))}else o[t]&&(o[t]=e.wrapWithCurrentZone(o[t],i))}catch(e){}})),a.call(t,o,s,u)},e.attachOriginToPatched(t[r],a)}}function Ds(e,t,n){if(!n||0===n.length)return t;var r=n.filter((function(t){return t.target===e}));if(!r||0===r.length)return t;var i=r[0].ignoreProperties;return t.filter((function(e){return-1===i.indexOf(e)}))}function Ms(e,t,n,r){e&&ds(e,Ds(e,t,n),r)}function js(e){return Object.getOwnPropertyNames(e).filter((function(e){return e.startsWith("on")&&e.length>2})).map((function(e){return e.substring(2)}))}function Us(e,t){if((!us||ls)&&!Zone[e.symbol("patchEvents")]){var n=t.__Zone_ignore_on_properties,r=[];if(cs){var i=window;r=r.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);var o=function(){try{var e=ns.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch(e){}return!1}()?[{target:i,ignoreProperties:["error"]}]:[];Ms(i,js(i),n?n.concat(o):n,Fa(i))}r=r.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(var a=0;a<r.length;a++){var s=t[r[a]];s&&s.prototype&&Ms(s.prototype,js(s.prototype),n)}}}Zone.__load_patch("util",(function(e,t,n){var r=js(e);n.patchOnProperties=ds,n.patchMethod=gs,n.bindArguments=os,n.patchMacroTask=ys;var i=t.__symbol__("BLACK_LISTED_EVENTS"),o=t.__symbol__("UNPATCHED_EVENTS");e[o]&&(e[i]=e[o]),e[i]&&(t[i]=t[o]=e[i]),n.patchEventPrototype=xs,n.patchEventTarget=Ls,n.isIEOrEdge=Ts,n.ObjectDefineProperty=za,n.ObjectGetOwnPropertyDescriptor=Ha,n.ObjectCreate=qa,n.ArraySlice=Va,n.patchClass=ms,n.wrapWithCurrentZone=Ya,n.filterProperties=Ds,n.attachOriginToPatched=_s,n._redefineProperty=Object.defineProperty,n.patchCallbacks=Ns,n.getGlobalObjects=function(){return{globalSources:Cs,zoneSymbolEventNames:ks,eventNames:r,isBrowser:cs,isMix:ls,isNode:us,TRUE_STR:Ja,FALSE_STR:Ka,ZONE_SYMBOL_PREFIX:Qa,ADD_EVENT_LISTENER_STR:Za,REMOVE_EVENT_LISTENER_STR:Ga}}}));var Bs=es("zoneTask");function Hs(e,t,n,r){var i=null,o=null;n+=r;var a={};function s(t){var n=t.data;return n.args[0]=function(){return t.invoke.apply(this,arguments)},n.handleId=i.apply(e,n.args),t}function u(t){return o.call(e,t.data.handleId)}i=gs(e,t+=r,(function(n){return function(i,o){if("function"==typeof o[0]){var c={isPeriodic:"Interval"===r,delay:"Timeout"===r||"Interval"===r?o[1]||0:void 0,args:o},l=o[0];o[0]=function(){try{return l.apply(this,arguments)}finally{c.isPeriodic||("number"==typeof c.handleId?delete a[c.handleId]:c.handleId&&(c.handleId[Bs]=null))}};var f=$a(t,o[0],c,s,u);if(!f)return f;var p=f.data.handleId;return"number"==typeof p?a[p]=f:p&&(p[Bs]=f),p&&p.ref&&p.unref&&"function"==typeof p.ref&&"function"==typeof p.unref&&(f.ref=p.ref.bind(p),f.unref=p.unref.bind(p)),"number"==typeof p||p?p:f}return n.apply(e,o)}})),o=gs(e,n,(function(t){return function(n,r){var i,o=r[0];"number"==typeof o?i=a[o]:(i=o&&o[Bs])||(i=o),i&&"string"==typeof i.type?"notScheduled"!==i.state&&(i.cancelFn&&i.data.isPeriodic||0===i.runCount)&&("number"==typeof o?delete a[o]:o&&(o[Bs]=null),i.zone.cancelTask(i)):t.apply(e,r)}}))}function zs(e,t){if(!Zone[t.symbol("patchEventTarget")]){for(var n=t.getGlobalObjects(),r=n.eventNames,i=n.zoneSymbolEventNames,o=n.TRUE_STR,a=n.FALSE_STR,s=n.ZONE_SYMBOL_PREFIX,u=0;u<r.length;u++){var c=r[u],l=s+(c+a),f=s+(c+o);i[c]={},i[c][a]=l,i[c][o]=f}var p=e.EventTarget;if(p&&p.prototype)return t.patchEventTarget(e,t,[p&&p.prototype]),!0}}Zone.__load_patch("legacy",(function(e){var t=e[Zone.__symbol__("legacyPatch")];t&&t()})),Zone.__load_patch("queueMicrotask",(function(e,t,n){n.patchMethod(e,"queueMicrotask",(function(e){return function(e,n){t.current.scheduleMicroTask("queueMicrotask",n[0])}}))})),Zone.__load_patch("timers",(function(e){var t="set",n="clear";Hs(e,t,n,"Timeout"),Hs(e,t,n,"Interval"),Hs(e,t,n,"Immediate")})),Zone.__load_patch("requestAnimationFrame",(function(e){Hs(e,"request","cancel","AnimationFrame"),Hs(e,"mozRequest","mozCancel","AnimationFrame"),Hs(e,"webkitRequest","webkitCancel","AnimationFrame")})),Zone.__load_patch("blocking",(function(e,t){for(var n=["alert","prompt","confirm"],r=0;r<n.length;r++){gs(e,n[r],(function(n,r,i){return function(r,o){return t.current.run(n,e,o,i)}}))}})),Zone.__load_patch("EventTarget",(function(e,t,n){!function(e,t){t.patchEventPrototype(e,t)}(e,n),zs(e,n);var r=e.XMLHttpRequestEventTarget;r&&r.prototype&&n.patchEventTarget(e,n,[r.prototype])})),Zone.__load_patch("MutationObserver",(function(e,t,n){ms("MutationObserver"),ms("WebKitMutationObserver")})),Zone.__load_patch("IntersectionObserver",(function(e,t,n){ms("IntersectionObserver")})),Zone.__load_patch("FileReader",(function(e,t,n){ms("FileReader")})),Zone.__load_patch("on_property",(function(e,t,n){Us(n,e)})),Zone.__load_patch("customElements",(function(e,t,n){!function(e,t){var n=t.getGlobalObjects(),r=n.isBrowser,i=n.isMix;(r||i)&&e.customElements&&"customElements"in e&&t.patchCallbacks(t,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(e,n)})),Zone.__load_patch("XHR",(function(e,t){!function(e){var u=e.XMLHttpRequest;if(!u)return;var c=u.prototype;var l=c[Xa],f=c[Wa];if(!l){var p=e.XMLHttpRequestEventTarget;if(p){var h=p.prototype;l=h[Xa],f=h[Wa]}}var d="readystatechange",v="scheduled";function m(e){var r=e.data,a=r.target;a[o]=!1,a[s]=!1;var u=a[i];l||(l=a[Xa],f=a[Wa]),u&&f.call(a,d,u);var c=a[i]=function(){if(a.readyState===a.DONE)if(!r.aborted&&a[o]&&e.state===v){var n=a[t.__symbol__("loadfalse")];if(0!==a.status&&n&&n.length>0){var i=e.invoke;e.invoke=function(){for(var n=a[t.__symbol__("loadfalse")],o=0;o<n.length;o++)n[o]===e&&n.splice(o,1);r.aborted||e.state!==v||i.call(e)},n.push(e)}else e.invoke()}else r.aborted||!1!==a[o]||(a[s]=!0)};return l.call(a,d,c),a[n]||(a[n]=e),T.apply(a,r.args),a[o]=!0,e}function g(){}function y(e){var t=e.data;return t.aborted=!0,w.apply(t.target,t.args)}var _=gs(c,"open",(function(){return function(e,t){return e[r]=0==t[2],e[a]=t[1],_.apply(e,t)}})),b=es("fetchTaskAborting"),E=es("fetchTaskScheduling"),T=gs(c,"send",(function(){return function(e,n){if(!0===t.current[E])return T.apply(e,n);if(e[r])return T.apply(e,n);var i={target:e,url:e[a],isPeriodic:!1,args:n,aborted:!1},o=$a("XMLHttpRequest.send",g,i,m,y);e&&!0===e[s]&&!i.aborted&&o.state===v&&o.invoke()}})),w=gs(c,"abort",(function(){return function(e,r){var i=e[n];if(i&&"string"==typeof i.type){if(null==i.cancelFn||i.data&&i.data.aborted)return;i.zone.cancelTask(i)}else if(!0===t.current[b])return w.apply(e,r)}}))}(e);var n=es("xhrTask"),r=es("xhrSync"),i=es("xhrListener"),o=es("xhrScheduled"),a=es("xhrURL"),s=es("xhrErrorBeforeScheduled")})),Zone.__load_patch("geolocation",(function(e){e.navigator&&e.navigator.geolocation&&function(e,t){for(var n=e.constructor.name,r=function(){var r=t[i],o=e[r];if(o){if(!as(Ha(e,r)))return 1;e[r]=function(e){var t=function(){return e.apply(this,os(arguments,n+"."+r))};return _s(t,e),t}(o)}},i=0;i<t.length;i++)r()}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])})),Zone.__load_patch("PromiseRejectionEvent",(function(e,t){function n(t){return function(n){Is(e,t).forEach((function(r){var i=e.PromiseRejectionEvent;if(i){var o=new i(t,{promise:n.promise,reason:n.rejection});r.invoke(o)}}))}}e.PromiseRejectionEvent&&(t[es("unhandledPromiseRejectionHandler")]=n("unhandledrejection"),t[es("rejectionHandledHandler")]=n("rejectionhandled"))}));var Fs=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function qs(e){return Object.keys(e).map((function(t){return Vs(t,e[t])}))}function Vs(e,t){return{key:e,value:Zs(t)}}function Zs(e){var t=_typeof(e);return"string"===t?{stringValue:e}:"number"===t?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:"boolean"===t?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(Zs)}}:"object"===t&&null!=e?{kvlistValue:{values:Object.entries(e).map((function(e){var t=Fs(e,2);return Vs(t[0],t[1])}))}}:{}}function Gs(e,t){var n,r=e.spanContext(),i=e.status,o=t?e.parentSpanId:null!=e.parentSpanId?Pi(e.parentSpanId):void 0;return{traceId:t?r.traceId:Pi(r.traceId),spanId:t?r.spanId:Pi(r.spanId),parentSpanId:o,traceState:null===(n=r.traceState)||void 0===n?void 0:n.serialize(),name:e.name,kind:null==e.kind?0:e.kind+1,startTimeUnixNano:no(e.startTime),endTimeUnixNano:no(e.endTime),attributes:qs(e.attributes),droppedAttributesCount:e.droppedAttributesCount,events:e.events.map(Xs),droppedEventsCount:e.droppedEventsCount,status:{code:i.code,message:i.message},links:e.links.map((function(e){return function(e,t){var n;return{attributes:e.attributes?qs(e.attributes):[],spanId:t?e.context.spanId:Pi(e.context.spanId),traceId:t?e.context.traceId:Pi(e.context.traceId),traceState:null===(n=e.context.traceState)||void 0===n?void 0:n.serialize(),droppedAttributesCount:e.droppedAttributesCount||0}}(e,t)})),droppedLinksCount:e.droppedLinksCount}}function Xs(e){return{attributes:e.attributes?qs(e.attributes):[],name:e.name,timeUnixNano:no(e.time),droppedAttributesCount:e.droppedAttributesCount||0}}var Ws=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Js=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function Ks(e,t){for(var n=function(e){var t,n,r=new Map;try{for(var i=Ws(e),o=i.next();!o.done;o=i.next()){var a=o.value,s=r.get(a.resource);s||(s=new Map,r.set(a.resource,s));var u=a.instrumentationLibrary.name+"@"+(a.instrumentationLibrary.version||"")+":"+(a.instrumentationLibrary.schemaUrl||""),c=s.get(u);c||(c=[],s.set(u,c)),c.push(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e),r=[],i=n.entries(),o=i.next();!o.done;){for(var a=Js(o.value,2),s=a[0],u=[],c=a[1].values(),l=c.next();!l.done;){var f=l.value;if(f.length>0){var p=f[0].instrumentationLibrary,h=p.name,d=p.version,v=p.schemaUrl,m=f.map((function(e){return Gs(e,t)}));u.push({scope:{name:h,version:d},spans:m,schemaUrl:v})}l=c.next()}var g={resource:{attributes:qs(s.attributes),droppedAttributesCount:0},scopeSpans:u,schemaUrl:void 0};r.push(g),o=i.next()}return r}var Qs="http.url",Ys="http.status_code",$s=Vi,eu=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._finishedSpans=[],this.cacheSpans=[],this.method="POST",this._timer=null,this._teslalabPage=function(){var e,t,n=null===(e=F())||void 0===e?void 0:e.split("?")[0],r=G(location.href),i=r.teslalab_auto_task_id,o=r.teslalab_task_url_id,a=N(r,["teslalab_auto_task_id","teslalab_task_url_id"]),s=x.sessionStorage.getItem("DUOTEL_TESLALAB_TASK_ID"),u=x.sessionStorage.getItem("DUOTEL_TESLALAB_TASK_URL_ID");return i&&o&&(sessionStorage.setItem("DUOTEL_TESLALAB_TASK_ID",i),sessionStorage.setItem("DUOTEL_TESLALAB_TASK_URL_ID",o)),{isTeslalab:Boolean(i&&o)||Boolean(s&&u),originUrl:"".concat(n,"?").concat((t=a,Object.entries(t).map((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(encodeURIComponent(r))})).join("&"))),query:{teslalab_auto_task_id:i||s,teslalab_task_url_id:o||u}}}();var i=Ri();this.client=t,this.SDKOptions=t.getOptions(),this.options=n,this._maxExportBatchSize=P.isNumber(n.maxExportBatchSize)?n.maxExportBatchSize:i.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=P.isNumber(null==n?void 0:n.maxQueueSize)?n.maxQueueSize:i.OTEL_BSP_MAX_QUEUE_SIZE,this._exportTimeoutMillis=i.OTEL_BSP_EXPORT_TIMEOUT,this._scheduledDelayMillis=P.isNumber(n.scheduledDelayMillis)?n.scheduledDelayMillis:i.OTEL_BSP_SCHEDULE_DELAY,this.method=n.method||"POST",this._useXHR=t.useXHR,q(x,"beforeunload",(function(){r._flushAll()}))}return _createClass(e,[{key:"getAllSpans",value:function(){return this._finishedSpans}},{key:"_flushOneBatch",value:function(){var e=this;return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise((function(t,n){var r=setTimeout((function(){n(new Error("Timeout"))}),e._exportTimeoutMillis);e._batchSpansSend(e._finishedSpans.splice(0,e._maxExportBatchSize)).then((function(){clearTimeout(r),t()})).catch((function(e){n(e)}))}))}},{key:"_maybeStartTimer",value:function(){var e=this;this._timer||(this._timer=setTimeout((function(){e._flushOneBatch().then((function(){e._finishedSpans.length>0&&(e._clearTimer(),e._maybeStartTimer())})).catch((function(t){Y.log("_maybeStartTimer error",t),e._clearTimer()}))}),this._scheduledDelayMillis))}},{key:"_clearTimer",value:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)}},{key:"_getCustomRequestOption",value:function(e){var t=e.attributes.requestType;return{isRequest:t&&("xhr"===t||"fetch"===t),httpCode:e.attributes[Ys]}}},{key:"_uniqueAndMaxByLevel",value:function(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i.attributes,a=o.message,s=o.errorLevel;"exception"===i.name?t.push(i):n[a]?s>=n[a].attributes.errorLevel&&(n[a]=i):n[a]=i}for(var u in n)t.push(n[u]);return t}},{key:"_batchSpansSend",value:function(e){var t=this;return new Promise((function(n,r){for(var i=[],o=[],a=[],s=[],u=[],c=0;c<e.length;c++)if(["jsError","consoleError","assetsError"].includes(e[c].name)?i.push(e[c]):["exception"].includes(e[c].name)?o.push(e[c]):a.push(e[c]),t._teslalabPage.isTeslalab){var l=t._getCustomRequestOption(e[c]),f=l.isRequest,p=l.httpCode;f&&200!==p&&s.push(e[c])}if(i.length>0){var h=t._uniqueAndMaxByLevel(i);u.push(t._send(h,"log")),t._teslalabPage.isTeslalab&&u.push(t._send(h,"teslalab"))}o.length>0&&u.push(t._send(o,"log","exception")),a.length>0&&u.push(t._send(a,"trace")),s.length>0&&u.push(t._send(s,"teslalab")),Promise.all(u).then((function(){n()})).catch(r)}))}},{key:"shutdown",value:function(){return Promise.resolve()}},{key:"forceFlush",value:function(){return Promise.resolve()}},{key:"_flushAll",value:function(){var e=this;return new Promise((function(t,n){for(var r=[],i=0,o=Math.ceil(e._finishedSpans.length/e._maxExportBatchSize);i<o;i++)r.push(e._flushOneBatch());Promise.all(r).then((function(){t()})).catch(n)}))}},{key:"_batchSpans",value:function(e){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(e),this._maybeStartTimer())}},{key:"_sendSpans",value:function(e){"POST"===this.method&&this._batchSpans(e)}},{key:"_send",value:function(e,t,n){var r="exception"===n,i="teslalab"===t;if(!this.client.pageInNotSample||i||r){var o=function(e,t){return{resourceSpans:Ks(e,t)}}(e,!0),a=i?Object.assign({url:this._teslalabPage.originUrl,data:o},this._teslalabPage.query):o,s=this.SDKOptions.area,u=this.client.getActiveAppEnv(),c=i?"https://titan.shizhuang-inc.net/gw/testla-lab-service/api/teslalab/h5/data/upload":"log"===t?function(e,t){return"".concat(Ye(M(e,t)),"/api/logs")}(u,s):function(e,t){return"".concat(Ye(M(e,t)),"/api/traces")}(u,s),l=a;return this.SDKOptions.onBeforeSend&&(l=this.SDKOptions.onBeforeSend(a)),this._useXHR||i?_e(c,Object.assign({body:l,method:"POST"},i&&{headers:{Authorization:"4c1283af916d37e38d499a8967e02e0c"}})):be(c,l,{type:"application/json"})}}},{key:"isComplete",value:function(e){var t=e.resource.attributes,n=t.uuid,r=t.env;return Boolean(t[$s]&&"unknown_service"!==t[$s]&&n&&r)}},{key:"completeSpans",value:function(){var e=this.client.duOtelOpentelemetry.provider;if(this.isComplete(e)){var t=this.cacheSpans;if(t.length>0){for(var n=0;n<t.length;n++){var r=t[n],i=r.attributes[Qs],o=this.SDKOptions.urlHelper;if((!["jsError","consoleError","exception","assetsError"].includes(r.name)||!W(r.attributes.message,this.client.ignoreErrors))&&(!i||!this.isIgnoreUrl(i))){r.resource=e.resource;var a=new URL(r.attributes.href),s=a.hash?a.hash.split("?")[0]:"",u=location.pathname+s;r.attributes.href=a.origin+Z(u,o),this._sendSpans(r)}}this.cacheSpans=[]}}}},{key:"cacheSpan",value:function(e){this.cacheSpans.push(e)}},{key:"isIgnoreUrl",value:function(e){return[].concat(p,_toConsumableArray(this.SDKOptions.ignoreUrls)).some((function(t){return t&&P.isString(t)&&e.includes(t)}))||(t=e.substring(0,50),c.test(t));var t}},{key:"onStart",value:function(e){var t=x.location.hash?x.location.hash.split("?")[0]:"",n=x.location.pathname+t;e.setAttribute("href",x.location.origin+Z(n,this.SDKOptions.urlHelper)),e.setAttribute("originHref",F()),e.setAttribute("pageId",this.client.pageId)}},{key:"onEnd",value:function(e){var t;if(!this.client.isOutRange()&&"CORS Preflight"!==e.name){var n,r=e.attributes[Qs];if(r){var i=e.resource.attributes[$s];if(this.isIgnoreUrl(r)||0===e.attributes[Ys]&&h.includes(i))return;e.attributes.originUrl=r,e.attributes[Qs]=Z(r,this.SDKOptions.apiHelper)}e.attributes.spanExtra="string"==typeof(n={name:e.resource.attributes[$s],env:null===(t=e.resource.attributes)||void 0===t?void 0:t.env,catch:this.cacheSpans.length,errors:this.client.ignoreErrors.length,isComplete:this.client.isComplete})?n:(n&&"object"===_typeof(n)&&(n=function e(t,n){var r={};return Object.keys(n).forEach((function(i){var o=n[i];o&&"object"===_typeof(o)?t.indexOf(o)<0?(t.push(o),r[i]=e(t,o),t.pop()):r[i]="###_Circular_###":"function"!=typeof o&&(r[i]=o)})),r}([n],n)),JSON.stringify(n)),this.isComplete(e)?this._sendSpans(e):this.client.isComplete?(this.cacheSpan(e),this.completeSpans()):this.cacheSpan(e)}}}]),e}(),tu="0000000000000000",nu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"generateTraceId",value:function(){return function(e){var t=Math.floor(Date.now()/1e3).toString(16),n=e(8),r=e(3);return"f5"+r+t+n}(iu)}},{key:"generateSpanId",value:function(){return function(e){var t=e(8);if(t===ar)return tu;return t}(iu)}}]),e}(),ru=Array(32);function iu(e){for(var t=0;t<2*e;t++)ru[t]=Math.floor(16*Math.random())+48,ru[t]>=58&&(ru[t]+=39);return String.fromCharCode.apply(null,ru.slice(0,2*e))}var ou="2.0.17.6",au=function(){function e(t,n){_classCallCheck(this,e),this._requestInstrumentations=[],this.client=t,this.bindProvider(n)}return _createClass(e,[{key:"bindProvider",value:function(e){var t,n=e.userId,r=e.userName,i=e.appName,o=e.businessType,a=e.type,s=(e.env,e.area),u=e.release,c=e.prefix,l=this.client,f=l.uuid,p=l.sessionId,h=new Ia({idGenerator:new nu,resource:new ba(Object.assign(Object.assign({},ve()),(t={uuid:f,sessionId:p,userId:n?String(n):void 0,userName:r},_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(t,Vi,this.client.getActiveApp()),"appNameDesc",i),"appType",a||"C"),"businessType",o),"env",M(this.client.getActiveAppEnv(),s)),"sdkVersion",ou),b,s),"inApp",$()),"timeOrigin",performance.timeOrigin),"release",u),_defineProperty(t,"prefix",c))))});h.register({contextManager:new Ba});var d=new eu(this.client,{maxExportBatchSize:10,maxQueueSize:100,scheduledDelayMillis:2e3,method:"POST"});h.addSpanProcessor(d),this.tracer=h.getTracer("@du/fe-log/DuOtel",ou),this.provider=h,this.exporter=d}},{key:"mergeResource",value:function(e){var t=e.userId,n=e.userName,r=e.appId,i=e.appName,o=e.type,a=e.businessType,s=e.area,u=e.env,c=e.appVersion,l=e.email,f=e.departmentId,p=e.prefix,h=e.release,d=e.microApp;Y.log("mergeResource appId ->",this.client.getActiveApp()),this.provider.resource=this.provider.resource.merge(new ba(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({userId:t?String(t):void 0,userName:n},Vi,this.client.getActiveApp()),"appNameDesc",i),"appType",o),"businessType",a),"env",M(this.client.getActiveAppEnv(),s)),b,s),c&&{appVersion:c}),l&&{email:l}),f&&{departmentId:f}),d&&{microApp:d}),{prefix:p,release:h})));var v,m=_createForOfIteratorHelper(this.provider._tracers.values());try{for(m.s();!(v=m.n()).done;){v.value.resource=this.provider.resource}}catch(e){m.e(e)}finally{m.f()}r&&u&&(this.client.isComplete=!0)}},{key:"startClickSpan",value:function(e){this.tracer.startSpan("click",{attributes:Object.assign({},e)}).end()}},{key:"startErrorSpan",value:function(e){var t=e.name,n=e.params,r=e.type,i=this.client.options.onCustomError,o=this.client.getActiveApp(),a=this.tracer.startSpan(t,{attributes:Object.assign(Object.assign(Object.assign({},n),{errType:r}),i&&i(n,o))});return a.end(),a}},{key:"startRouteSpan",value:function(e){this.client.pageId=B(),this.tracer.startSpan("router",{attributes:Object.assign({},e)}).end()}},{key:"startMsgSpan",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";(t||n)&&this.tracer.startSpan(e,{attributes:{params:P.isString(t)?t:JSON.stringify(t),message:n}}).end()}},{key:"startNewPerformanceSpan",value:function(e,t){this.tracer.startSpan(e,{attributes:t}).end()}},{key:"startResourceSpan",value:function(e){this.tracer.startSpan("resource",{attributes:e}).end()}},{key:"startLongTaskSpan",value:function(e){this.tracer.startSpan("longtask",{attributes:Object.assign({},e)}).end()}}]),e}(),su=null,uu="clickPlugin",cu={name:uu,isPluginEnable:function(){return this.options.functionList.includes("userClick")},isPluginRegist:function(){return!!su},destroy:function(){su&&V(x,"click",su,!0)},monitor:function(e){if(x&&!su){var t,n,r,i=(t=e,n=0,r=!0,function(){if(r){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];t.apply(this,i),r=!1,setTimeout((function(){r=!0}),n)}});q(x,"click",su=function(e){var t=e.target?e.target:e.srcElement,n=t?t.outerHTML:"";n&&n.length>250&&(n=n.slice(0,250));var r={outerHTML:n,tagName:t&&t.tagName,id:t&&t.id,className:t&&t.className,name:t&&t.name,xPath:Ee(t),onLine:A()};i(uu,r)},!0)}},dataTransform:function(e){return e},dataSend:function(e,t){this.currentClick=t,this.duOtelOpentelemetry.startClickSpan(t)}},lu="routePlugin",fu=null,pu=null,hu=null,du=null,vu=null,mu={name:lu,isPluginEnable:function(){var e=this.options,t=e.functionList,n=e.enableSPA;return t.includes("router")||n},isPluginRegist:function(){return!!(fu&&pu&&hu&&du)},destroy:function(){fu&&V(x,"hashchange",fu,!1),pu&&V(x,"popstate",pu,!1),hu&&V(x,"pushState",hu,!1),du&&V(x,"replaceState",du,!1),vu=null},monitor:function(e){var t=this;if(x&&!(fu&&pu&&hu&&du)){var n=F(),r=x.location.hash?x.location.hash.split("?")[0]:"",i=x.location.origin+x.location.pathname+r;setTimeout((function(){gu.call(t,n).then((function(){e(lu,{type:"load",preHref:n})}))}),20);var o,a,s=function(r){var o=x.location.hash?x.location.hash.split("?")[0]:"",a=x.location.origin+x.location.pathname+o;i!==a&&(i=a,gu.call(t,a).then((function(){e(lu,{type:r,prePage:n}),e("broadcast",{from:lu,isUpdate:!0,type:r,prePage:n}),n=F()})))};fu=function(){s("hashchange")},o=x,a="onpopstate",Object.prototype.hasOwnProperty.call(o,a)||q(x,"hashchange",fu,!1),q(x,"popstate",pu=function(){s("popstate")},!1);var u=function(e){var t=history[e],n=new Event(e);return function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=t.apply(this,r);return n.arguments=r,window.dispatchEvent(n),o}};return x.history.pushState=u("pushState"),x.history.replaceState=u("replaceState"),q(x,"pushState",hu=function(){s("pushState")},!1),q(x,"replaceState",du=function(){s("replaceState")},!1),function(){V(x,"hashchange",fu,!1),V(x,"popstate",pu,!1),V(x,"pushState",hu,!1),V(x,"replaceState",du,!1)}}},dataTransform:function(e){return e},dataSend:function(e,t){this.options.enableSPA&&this.duOtelOpentelemetry.startRouteSpan(t)}};function gu(e){return D(this,void 0,void 0,_regeneratorRuntime().mark((function t(){var n,r,i,o,a,s;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Y.log("sendRouteAppId",this.options.sendRouteAppId),this.options.sendRouteAppId){t.next=3;break}return t.abrupt("return");case 3:if(vu){t.next=9;break}return t.next=6,_e("https://cdn-config.dewu.com/node-common/configCenter/duotel-trace/routers.json");case 6:n=t.sent,r=n.data,vu=ge(r);case 9:i="",o=0,a=Object.keys(vu);case 11:if(!(o<a.length)){t.next=19;break}if(s=a[o],!e.includes(s)){t.next=16;break}return i=vu[s],t.abrupt("break",19);case 16:o++,t.next=11;break;case 19:Y.log("route currentAppId",i),this.mergeConfig({routeAppId:i});case 21:case"end":return t.stop()}}),t,this)})))}function yu(e){void 0===e&&(e=[]);for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];if(Array.isArray(i)){var o=yu(i);t=t.concat(o.instrumentations)}else"function"==typeof i?t.push(new i):i.instrumentationName&&t.push(i)}return{instrumentations:t}}function _u(e){var t=yu(e.instrumentations).instrumentations,n=e.tracerProvider||Jr.getTracerProvider(),r=e.meterProvider||Mr.getMeterProvider();return function(e,t,n){for(var r=0,i=e.length;r<i;r++){var o=e[r];t&&o.setTracerProvider(t),n&&o.setMeterProvider(n),o.getConfig().enabled||o.enable()}}(t,n,r),function(){!function(e){e.forEach((function(e){return e.disable()}))}(t)}}function bu(e){return"function"==typeof e}var Eu=console.error.bind(console);function Tu(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function wu(e){e&&e.logger&&(bu(e.logger)?Eu=e.logger:Eu("new logger isn't a function, not replacing"))}function Su(e,t,n){if(e&&e[t]){if(!n)return Eu("no wrapper function"),void Eu((new Error).stack);if(bu(e[t])&&bu(n)){var r=e[t],i=n(r,t);return Tu(i,"__original",r),Tu(i,"__unwrap",(function(){e[t]===i&&Tu(e,t,r)})),Tu(i,"__wrapped",!0),Tu(e,t,i),i}Eu("original object and wrapper must be functions")}else Eu("no original function "+t+" to wrap")}function Ou(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void Eu("no original to unwrap to -- has "+t+" already been unwrapped?"):(Eu("no function to unwrap."),void Eu((new Error).stack))}wu.wrap=Su,wu.massWrap=function(e,t,n){if(!e)return Eu("must provide one or more modules to patch"),void Eu((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){Su(e,t,n)}))})):Eu("must provide one or more functions to wrap on modules")},wu.unwrap=Ou,wu.massUnwrap=function(e,t){if(!e)return Eu("must provide one or more modules to patch"),void Eu((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){Ou(e,t)}))})):Eu("must provide one or more functions to unwrap on modules")};var ku=wu;se(ku);var Cu,Ru,Pu=function(){return Pu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pu.apply(this,arguments)},Au=function(){function e(e,t,n){void 0===n&&(n={}),this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=ku.wrap,this._unwrap=ku.unwrap,this._massWrap=ku.massWrap,this._massUnwrap=ku.massUnwrap,this._config=Pu({enabled:!0},n),this._diag=Ir.createComponentLogger({namespace:e}),this._tracer=Jr.getTracer(e,t),this._meter=Mr.getMeter(e,t),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(e){void 0===e&&(e={}),this._config=Object.assign({},e)},e.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e}(),Lu=(Cu=function(e,t){return Cu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Cu(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Cu(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Iu=function(e){function t(t,n,r){void 0===r&&(r={});var i=e.call(this,t,n,r)||this;return i._config.enabled&&i.enable(),i}return Lu(t,e),t}(Au);function xu(e,t,n){var r,i;try{i=e()}catch(e){r=e}finally{if(t(r,i),r&&!n)throw r;return i}}function Nu(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}!function(e){e.COMPONENT="component",e.HTTP_ERROR_NAME="http.error_name",e.HTTP_STATUS_TEXT="http.status_text"}(Ru||(Ru={}));var Du,Mu,ju="0.39.1",Uu=(Du=function(e,t){return Du=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Du(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Du(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Bu=function(e){function t(t){var n=e.call(this,"@opentelemetry/instrumentation-fetch",ju,t)||this;return n.component="fetch",n.version=ju,n.moduleName=n.component,n._usedResources=new WeakSet,n._tasksCount=0,n}return Uu(t,e),t.prototype.init=function(){},t.prototype._getConfig=function(){return this._config},t.prototype._addChildSpan=function(e,t){var n=this.tracer.startSpan("CORS Preflight",{startTime:t[Oa.FETCH_START]},Jr.setSpan(Lr.active(),e));this._getConfig().ignoreNetworkEvents||Na(n,t),n.end(t[Oa.RESPONSE_END])},t.prototype._addFinalSpanAttributes=function(e,t){var n=Ma(t.url);e.setAttribute(Bi,t.status),null!=t.statusText&&e.setAttribute(Ru.HTTP_STATUS_TEXT,t.statusText),e.setAttribute(ji,n.host),e.setAttribute(Ui,n.protocol.replace(":","")),e.setAttribute(Hi,navigator.userAgent)},t.prototype._addHeaders=function(e,t){if(!ja(t,this._getConfig().propagateTraceHeaderCorsUrls)){var n={};return Gr.inject(Lr.active(),n),void(Object.keys(n).length>0&&this._diag.debug("headers inject skipped due to CORS policy"))}if(e instanceof Request)Gr.inject(Lr.active(),e.headers,{set:function(e,t,n){return e.set(t,"string"==typeof n?n:String(n))}});else if(e.headers instanceof Headers)Gr.inject(Lr.active(),e.headers,{set:function(e,t,n){return e.set(t,"string"==typeof n?n:String(n))}});else{n={};Gr.inject(Lr.active(),n),e.headers=Object.assign({},n,e.headers||{})}},t.prototype._clearResources=function(){0===this._tasksCount&&this._getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)},t.prototype._createSpan=function(e,t){var n;if(void 0===t&&(t={}),!zo(e,this._getConfig().ignoreUrls)){var r=(t.method||"GET").toUpperCase(),i="HTTP "+r;return this.tracer.startSpan(i,{kind:Or.CLIENT,attributes:(n={},n[Ru.COMPONENT]=this.moduleName,n[Di]=r,n[Mi]=e,n)})}this._diag.debug("ignoring span as url matches ignored url")},t.prototype._findResourceAndAddNetworkEvents=function(e,t,n){var r=t.entries;if(!r.length){if(!performance.getEntriesByType)return;r=performance.getEntriesByType("resource")}var i=Da(t.spanUrl,t.startTime,n,r,this._usedResources,"fetch");if(i.mainRequest){var o=i.mainRequest;this._markResourceAsUsed(o);var a=i.corsPreFlightRequest;a&&(this._addChildSpan(e,a),this._markResourceAsUsed(a)),this._getConfig().ignoreNetworkEvents||Na(e,o)}},t.prototype._markResourceAsUsed=function(e){this._usedResources.add(e)},t.prototype._endSpan=function(e,t,n){var r=this,i=Yi(Date.now()),o=eo();this._addFinalSpanAttributes(e,n),setTimeout((function(){var n;null===(n=t.observer)||void 0===n||n.disconnect(),r._findResourceAndAddNetworkEvents(e,t,o),r._tasksCount--,r._clearResources(),e.end(i)}),300)},t.prototype._patchConstructor=function(){var e=this;return function(t){var n=e;return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=this,o=Ma(e[0]instanceof Request?e[0].url:String(e[0])).href,a=e[0]instanceof Request?e[0]:e[1]||{},s=n._createSpan(o,a);if(!s)return t.apply(this,e);var u=n._prepareSpanData(o);function c(e,t){n._applyAttributesAfterFetch(e,a,t),n._endSpan(e,u,{status:t.status||0,statusText:t.message,url:o})}function l(e,t){n._applyAttributesAfterFetch(e,a,t),t.status>=200&&t.status<400?n._endSpan(e,u,t):n._endSpan(e,u,{status:t.status,statusText:t.statusText,url:o})}function f(e,t,n){try{var r=n.clone(),i=n.clone(),o=r.body;if(o){var a=o.getReader();!function t(){a.read().then((function(n){n.done?l(e,i):t()}),(function(t){c(e,t)}))}()}else l(e,n)}finally{t(n)}}function p(e,t,n){try{c(e,n)}finally{t(n)}}return new Promise((function(e,r){return Lr.with(Jr.setSpan(Lr.active(),s),(function(){return n._addHeaders(a,o),n._tasksCount++,t.apply(i,a instanceof Request?[a]:[o,a]).then(f.bind(i,s,e),p.bind(i,s,r))}))}))}}},t.prototype._applyAttributesAfterFetch=function(e,t,n){var r=this,i=this._getConfig().applyCustomAttributesOnSpan;i&&xu((function(){return i(e,t,n)}),(function(e){e&&r._diag.error("applyCustomAttributesOnSpan",e)}),!0)},t.prototype._prepareSpanData=function(e){var t=eo(),n=[];if("function"!=typeof PerformanceObserver)return{entries:n,startTime:t,spanUrl:e};var r=new PerformanceObserver((function(t){t.getEntries().forEach((function(t){"fetch"===t.initiatorType&&t.name===e&&n.push(t)}))}));return r.observe({entryTypes:["resource"]}),{entries:n,observer:r,startTime:t,spanUrl:e}},t.prototype.enable=function(){Nu(fetch)&&(this._unwrap(fi,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(fi,"fetch",this._patchConstructor())},t.prototype.disable=function(){this._unwrap(fi,"fetch"),this._usedResources=new WeakSet},t}(Iu);!function(e){e.METHOD_OPEN="open",e.METHOD_SEND="send",e.EVENT_ABORT="abort",e.EVENT_ERROR="error",e.EVENT_LOAD="loaded",e.EVENT_TIMEOUT="timeout"}(Mu||(Mu={}));var Hu,zu="0.39.1";!function(e){e.HTTP_STATUS_TEXT="http.status_text"}(Hu||(Hu={}));var Fu,qu=(Fu=function(e,t){return Fu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Fu(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Fu(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Vu=function(e){function t(t){var n=e.call(this,"@opentelemetry/instrumentation-xml-http-request",zu,t)||this;return n.component="xml-http-request",n.version=zu,n.moduleName=n.component,n._tasksCount=0,n._xhrMem=new WeakMap,n._usedResources=new WeakSet,n}return qu(t,e),t.prototype.init=function(){},t.prototype._getConfig=function(){return this._config},t.prototype._addHeaders=function(e,t){if(!ja(Ma(t).href,this._getConfig().propagateTraceHeaderCorsUrls)){var n={};return Gr.inject(Lr.active(),n),void(Object.keys(n).length>0&&this._diag.debug("headers inject skipped due to CORS policy"))}var r={};Gr.inject(Lr.active(),r),Object.keys(r).forEach((function(t){e.setRequestHeader(t,String(r[t]))}))},t.prototype._addChildSpan=function(e,t){var n=this;Lr.with(Jr.setSpan(Lr.active(),e),(function(){var e=n.tracer.startSpan("CORS Preflight",{startTime:t[Oa.FETCH_START]});Na(e,t),e.end(t[Oa.RESPONSE_END])}))},t.prototype._addFinalSpanAttributes=function(e,t,n){if("string"==typeof n){var r=Ma(n);void 0!==t.status&&e.setAttribute(Bi,t.status),void 0!==t.statusText&&e.setAttribute(Hu.HTTP_STATUS_TEXT,t.statusText),e.setAttribute(ji,r.host),e.setAttribute(Ui,r.protocol.replace(":","")),e.setAttribute(Hi,navigator.userAgent)}},t.prototype._applyAttributesAfterXHR=function(e,t){var n=this,r=this._getConfig().applyCustomAttributesOnSpan;"function"==typeof r&&xu((function(){return r(e,t)}),(function(e){e&&n._diag.error("applyCustomAttributesOnSpan",e)}),!0)},t.prototype._addResourceObserver=function(e,t){var n=this._xhrMem.get(e);n&&"function"==typeof PerformanceObserver&&"function"==typeof PerformanceResourceTiming&&(n.createdResources={observer:new PerformanceObserver((function(e){var r=e.getEntries(),i=Ma(t);r.forEach((function(e){"xmlhttprequest"===e.initiatorType&&e.name===i.href&&n.createdResources&&n.createdResources.entries.push(e)}))})),entries:[]},n.createdResources.observer.observe({entryTypes:["resource"]}))},t.prototype._clearResources=function(){0===this._tasksCount&&this._getConfig().clearTimingResources&&(Li.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)},t.prototype._findResourceAndAddNetworkEvents=function(e,t,n,r,i){if(n&&r&&i&&e.createdResources){var o=e.createdResources.entries;o&&o.length||(o=Li.getEntriesByType("resource"));var a=Da(Ma(n).href,r,i,o,this._usedResources);if(a.mainRequest){var s=a.mainRequest;this._markResourceAsUsed(s);var u=a.corsPreFlightRequest;u&&(this._addChildSpan(t,u),this._markResourceAsUsed(u)),Na(t,s)}}},t.prototype._cleanPreviousSpanInformation=function(e){var t=this._xhrMem.get(e);if(t){var n=t.callbackToRemoveEvents;n&&n(),this._xhrMem.delete(e)}},t.prototype._createSpan=function(e,t,n){var r;if(!zo(t,this._getConfig().ignoreUrls)){var i=n.toUpperCase(),o=this.tracer.startSpan(i,{kind:Or.CLIENT,attributes:(r={},r[Di]=n,r[Mi]=Ma(t).toString(),r)});return o.addEvent(Mu.METHOD_OPEN),this._cleanPreviousSpanInformation(e),this._xhrMem.set(e,{span:o,spanUrl:t}),o}this._diag.debug("ignoring span as url matches ignored url")},t.prototype._markResourceAsUsed=function(e){this._usedResources.add(e)},t.prototype._patchOpen=function(){var e=this;return function(t){var n=e;return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=e[0],o=e[1];return n._createSpan(this,o,i),t.apply(this,e)}}},t.prototype._patchSend=function(){var e=this;function t(t,n){var r=e._xhrMem.get(n);if(r){r.status=n.status,r.statusText=n.statusText,e._xhrMem.delete(n),r.span&&e._applyAttributesAfterXHR(r.span,n);var i=eo(),o=Date.now();setTimeout((function(){!function(t,n,r,i){var o=n.callbackToRemoveEvents;"function"==typeof o&&o();var a=n.span,s=n.spanUrl,u=n.sendStartTime;a&&(e._findResourceAndAddNetworkEvents(n,a,s,u,r),a.addEvent(t,i),e._addFinalSpanAttributes(a,n,s),a.end(i),e._tasksCount--),e._clearResources()}(t,r,i,o)}),300)}}function n(){t(Mu.EVENT_ERROR,this)}function r(){t(Mu.EVENT_ABORT,this)}function i(){t(Mu.EVENT_TIMEOUT,this)}function o(){this.status<299?t(Mu.EVENT_LOAD,this):t(Mu.EVENT_ERROR,this)}return function(t){return function(){for(var a=this,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];var c=e._xhrMem.get(this);if(!c)return t.apply(this,s);var l=c.span,f=c.spanUrl;return l&&f&&Lr.with(Jr.setSpan(Lr.active(),l),(function(){e._tasksCount++,c.sendStartTime=eo(),l.addEvent(Mu.METHOD_SEND),a.addEventListener("abort",r),a.addEventListener("error",n),a.addEventListener("load",o),a.addEventListener("timeout",i),c.callbackToRemoveEvents=function(){!function(t){t.removeEventListener("abort",r),t.removeEventListener("error",n),t.removeEventListener("load",o),t.removeEventListener("timeout",i);var a=e._xhrMem.get(t);a&&(a.callbackToRemoveEvents=void 0)}(a),c.createdResources&&c.createdResources.observer.disconnect()},e._addHeaders(a,f),e._addResourceObserver(a,f)})),t.apply(this,s)}}},t.prototype.enable=function(){this._diag.debug("applying patch to",this.moduleName,this.version),Nu(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),Nu(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())},t.prototype.disable=function(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet},t}(Iu),Zu="requestPlugin",Gu={name:Zu,isPluginEnable:function(){return this.options.functionList.includes("fetch")},isPluginRegist:function(){return!!this.requestRegister},destroy:function(){this.duOtelOpentelemetry._requestInstrumentations.forEach((function(e){("xml-http-request"===e.moduleName&&Reflect.has(XMLHttpRequest.prototype.open,"__wrapped")||"fetch"===e.moduleName&&Reflect.has(fetch,"__wrapped"))&&e.disable()})),this.requestRegister=void 0},monitor:function(e){var t=this;if(x&&P.isUndefined(this.requestRegister)){var n=this.options,i=n.corsUrls,o=n.ignoreUrls,a=[].concat(r,_toConsumableArray(i)),s=[].concat(p,_toConsumableArray(o)),u=[];u.push(new Vu({ignoreUrls:s,propagateTraceHeaderCorsUrls:a,clearTimingResources:!0,applyCustomAttributesOnSpan:function(n,r){Xu(n,"xhr");var i=ge(null==r?void 0:r.responseText)||{};200!==r.status||(null==i?void 0:i.length)||Object.keys(i).length||(i=y),Wu(n,i);var o=((null==t?void 0:t.settingConfig)||{}).iworkWhiteList,a=r||{},s=a.body,u=a.responseHeader,c=a.url,l=a.requestHeader,f=t.options,p=f.sendReqHeader,h=f.sendParams,d=f.sendResHeader,v=f.sendResponse,m=f.appId,g=!te(m,null!=o?o:[]);(!t.isInit()||p)&&l&&g&&n.setAttribute("requestHeader",ye(l)),(!t.isInit()||d)&&u&&g&&n.setAttribute("responseHeader",ye(u)),t.isInit()&&!h||!g||(c&&n.setAttribute("params",ye(G(c))),s&&n.setAttribute("data",Qu(ye(s)))),""!==r.responseType&&"text"!==r.responseType||(200!==r.status||t.getUserDone||Ku.call(t,null==r?void 0:r.responseURL,i),t.isInit()&&!v||!g||n.setAttribute("response",Qu(ye(i)))),Ju(n,e)}}),new Bu({ignoreUrls:s,propagateTraceHeaderCorsUrls:a,clearTimingResources:!0,applyCustomAttributesOnSpan:function(n,r,i){return D(t,void 0,void 0,_regeneratorRuntime().mark((function t(){var o,a,s,u,c,l,f,p,h,d,v,m,g,_,b,E;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Xu(n,"fetch"),o={},t.prev=2,t.next=5,i.text();case 5:o=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),o={};case 11:if(a=ge(o)||{},200!==i.status||(null==a?void 0:a.length)||Object.keys(a).length||(a=y),Wu(n,a),s=(null==this?void 0:this.settingConfig)||{},u=s.iworkWhiteList,l=(c=r||{}).headers,f=c.body,p=this.options,h=p.sendReqHeader,d=p.sendParams,v=p.sendResHeader,m=p.sendResponse,g=p.appId,_=!te(g,null!=u?u:[]),(!this.isInit()||h)&&l&&_&&n.setAttribute("requestHeader",ye(l)),this.isInit()&&!d||!_||(n.setAttribute("params",ye(G(null==i?void 0:i.url))),n.setAttribute("data",Qu(f))),b={},i.headers&&i.headers.forEach((function(e,t){b[t]=e})),E=b["content-type"],this.isInit()&&!v||!_||n.setAttribute("responseHeader",ye(b)),E&&(E.includes("json")||E.includes("x-www-form-urlencoded"))){t.next=26;break}return t.abrupt("return");case 26:this.isInit()&&!m&&this.getUserDone||(this.isInit()&&!m||!_||n.setAttribute("response",Qu(ye(a))),200!==i.status||this.getUserDone||Ku.call(this,null==i?void 0:i.url,ge(a))),Ju(n,e);case 28:case"end":return t.stop()}}),t,this,[[2,8]])})))}})),this.duOtelOpentelemetry._requestInstrumentations=u,this.requestRegister=_u({instrumentations:u})}},dataTransform:function(e){return e},dataSend:function(){}};function Xu(e,t){e.setAttribute("onLine",A()),e.setAttribute("requestType",t)}function Wu(e,t){var n=t.code,r=t.msg||t.message;!P.isUndefined(n)&&e.setAttribute("rpc.result.code",Number(n)),!P.isUndefined(r)&&e.setAttribute("rpc.result.msg",r)}function Ju(e,t){t("broadcast",{from:Zu,data:e})}function Ku(e,t){if(this.getUserDone)this.responseMap={};else{var n=this.options.userInfo,r=(null==n?void 0:n.userInfoAPI)&&(null==n?void 0:n.userID)?n:g,i=r.userInfoAPI,o=r.userID,a=r.userName;if(e.includes(i)){var s=J(t,o),u=J(t,a);if(s||u){var c={userId:s,userName:u};this.userResponse(c)}}else this.responseMap[e]=t}}var Qu=function(e){return e&&e.length>16384?"The data size too large, exceeding the maximum 16384":e},Yu=function(){function e(){var t=this;_classCallCheck(this,e),this.dataBuffer=[],this.observerHandler=function(e){var n=e.getEntries();t.dataBuffer=t.dataBuffer.concat(n)},window.PerformanceObserver?this.observer=new PerformanceObserver(this.observerHandler):this.observer=null,this.dataBuffer=[]}return _createClass(e,[{key:"init",value:function(e){if(this.observer)try{this.observer.observe({type:e,buffered:!0})}catch(t){Y.log("performance ".concat(e," is not supported"))}}},{key:"reset",value:function(){var e;this.dataBuffer=[],null===(e=this.observer)||void 0===e||e.disconnect()}},{key:"getLatestEntry",value:function(){return this.dataBuffer[this.dataBuffer.length-1]||{}}},{key:"getEntries",value:function(){return this.dataBuffer}},{key:"getData",value:function(){var e=this.getLatestEntry();return this.reset(),e}}]),e}(),$u=function(e){function t(){var e;return _classCallCheck(this,t),(e=_callSuper(this,t)).onInit(),e}return _inherits(t,e),_createClass(t,[{key:"onInit",value:function(){this.reset(),this.init("largest-contentful-paint")}},{key:"getValue",value:function(){var e,t=this.getData();return{time:(null==t?void 0:t.renderTime)||(null==t?void 0:t.loadTime)||0,outerHtml:(null===(e=null==t?void 0:t.element)||void 0===e?void 0:e.outerHTML)||""}}}]),t}(Yu),ec=function(e){function t(){var e;return _classCallCheck(this,t),(e=_callSuper(this,t)).onInit(),e}return _inherits(t,e),_createClass(t,[{key:"onInit",value:function(){this.reset(),this.init("first-input")}},{key:"getValue",value:function(){var e=this.getData();return Y.log("FID",e),(null==e?void 0:e.processingStart)-(null==e?void 0:e.startTime)||0}}]),t}(Yu),tc=function(e){function t(){var e;return _classCallCheck(this,t),(e=_callSuper(this,t)).onInit(),e}return _inherits(t,e),_createClass(t,[{key:"onInit",value:function(){this.reset(),this.init("navigation")}},{key:"getValue",value:function(){var e=_slicedToArray(this.getEntries(),1)[0];return e&&e.responseStart?e.responseStart:0}}]),t}(Yu),nc=function(){function e(){var t=this;_classCallCheck(this,e),this.firstInput=0,this.handler=function(e){e.isTrusted&&(t.firstInput=0===t.firstInput?Je()?performance.now():0:t.firstInput,document.removeEventListener("touchstart",t.handler,!1),document.removeEventListener("click",t.handler,!1),document.removeEventListener("scroll",t.handler,!1),document.removeEventListener("touch",t.handler,!1))},this.init()}return _createClass(e,[{key:"init",value:function(){document.addEventListener("touchstart",this.handler,!1),document.addEventListener("click",this.handler,!1),document.addEventListener("scroll",this.handler,!1),document.addEventListener("touch",this.handler,!1)}},{key:"getValue",value:function(){return this.firstInput}}]),e}(),rc=["meta","script","style","link","br","body","html","iframe","#app","#root","#__next"],ic=function(){function e(){var t=this;_classCallCheck(this,e),this.timer=null,this.details=[],this.observeDom=null,this.intervalTime=5e3,this.stopObserving=this.stopObserving.bind(this),this.isInFirstScreen=this.isInFirstScreen.bind(this),this.observeMutation=this.observeMutation.bind(this),this.onInit(),window.addEventListener("beforeunload",(function(){t.stopObserving()}))}return _createClass(e,[{key:"isIgnoreElem",value:function(e){var t=Te(e);return rc.includes(t)}},{key:"isInFirstScreen",value:function(e){if(!e||!e.getBoundingClientRect)return!1;var t=e.getBoundingClientRect(),n=window.innerHeight,r=window.innerWidth;return t.left>=0&&t.left<r&&t.top>=0&&t.top<n}},{key:"onInit",value:function(){var e=this;this.details=[],this.stopObserving(),this.observeMutation(),this.timer=setTimeout((function(){e.stopObserving()}),this.intervalTime)}},{key:"observeMutation",value:function(){var e=this;this.observeDom=new MutationObserver((function(t){t&&t.forEach&&t.forEach((function(t){var n;if(t&&(null===(n=null==t?void 0:t.addedNodes)||void 0===n?void 0:n.length)){var r=t.addedNodes[0];e.isIgnoreElem(r)||1===r.nodeType&&e.details.push(r)}}))})),this.observeDom.observe(document,{childList:!0,subtree:!0})}},{key:"stopObserving",value:function(){this.observeDom&&this.observeDom.disconnect(),this.timer&&clearTimeout(this.timer)}},{key:"getValue",value:function(){var e=this;Y.log("jitterRate details",this.details);var t=this.details.filter((function(t){return e.isInFirstScreen(t)})).map((function(e){return e.offsetTop}));if(Y.log("jitterRate hightest",t),null==t?void 0:t.length){var n=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return t}(t);return 100*Ze(n/window.screen.height)}return 0}}]),e}();function oc(){var e,t,n,r=performance.getEntriesByType("navigation")[0],i=window.performance.getEntriesByType("paint"),o=i[0],a=i[1],s=performance.timing,u=r?function(e){var t=Ke(),n=Math.round(t+e.connectEnd),r=Math.round(t+e.connectStart),i=Math.round(t+e.domComplete),o=Math.round(t+e.domContentLoadedEventEnd),a=Math.round(t+e.domContentLoadedEventStart),s=Math.round(t+e.domInteractive),u=Math.round(t+e.domainLookupEnd),c=Math.round(t+e.domainLookupStart),l=Math.round(t+e.fetchStart),f=Math.round(t+e.loadEventEnd),p=Math.round(t+e.loadEventStart),h=Math.round(t+e.requestStart),d=Math.round(t+e.responseEnd),v=Math.round(t+e.responseStart),m=Ze(e.transferSize||0),g=Ze(e.redirectCount),y=Ze(e.redirectEnd||0),_=Ze(e.redirectStart||0);0!==g&&(y=Math.round(t+e.redirectEnd),_=Math.round(t+e.redirectStart));var b=0;return 0!==e.secureConnectionStart&&(b=Math.round(t+e.secureConnectionStart)),Object.assign(Object.assign({connectEnd:n,connectStart:r,domComplete:i,domContentLoadedEventEnd:o,domContentLoadedEventStart:a,domInteractive:s,domainLookupEnd:u,domainLookupStart:c,fetchStart:l,loadEventEnd:f,loadEventStart:p,requestStart:h,responseEnd:d,responseStart:v},b&&{secureConnectionStart:b}),{transferSize:m,redirectCount:g,redirectEnd:y,redirectStart:_,timeOrigin:t})}(r):(t=(e=s).secureConnectionStart,n=N(e,["secureConnectionStart"]),Object.assign(Object.assign({},t&&{secureConnectionStart:t}),n));return Object.assign(Object.assign({},u),{fp:o?Ze(o.startTime):0,fcp:a?Ze(a.startTime):0})}var ac=function(){function e(t){_classCallCheck(this,e),this.config=void 0,this.referDoms=[],this.importantDOMs=[],this.highestWeightScore=0,this.value=0,this.p80Value=0,this.version=he.Viewport,this.sortedTimings=[],this.ingoreCount=0,this.largestDomSelector="",this.fmpDependDom=null,this.resourceTime=0,this.ignoreDomCount=0,this.config=t}return _createClass(e,[{key:"selectMostImportantDOMs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;if(e&&!function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,n=arguments.length>1?arguments[1]:void 0;if(t.clientWidth>=Ie&&t.clientHeight>=Le&&window.getComputedStyle){var r=window.getComputedStyle(t),i=r.position,o=r.zIndex;if(["absolute","fixed","relative"].includes(i)&&Number(o)>1)return Y.warn("fmp warning: 全屏弹窗被忽略:",t),!0}if("function"==typeof(null==n?void 0:n.getFmpIgnoreConfig)){var a=n.getFmpIgnoreConfig();if(a){var s=a.clsList,u=void 0===s?[]:s,c=a.attr;if((null===(e=null==t?void 0:t.dataset)||void 0===e?void 0:e[c])&&Array.isArray(u)&&u.length>0){var l=u.some((function(e){return t.classList.contains(e)}));if(Y.warn("fmp warning: 自定义DOM忽略:",t),l)return!0}}}return!1}(e,this.config)){var t=this.getWeightScore(e);t>Ne?-1===this.referDoms.indexOf(e)&&this.referDoms.push(e):t>=this.highestWeightScore&&-1===this.importantDOMs.indexOf(e)&&(this.importantDOMs.push(e),this.highestWeightScore=t);for(var n=(null==e?void 0:e.children)||[],r=0,i=n.length;r<i;r++)n[r]&&this.selectMostImportantDOMs(n[r])}else this.ignoreDomCount++}},{key:"getFmpDependDom",value:function(){return this.fmpDependDom}},{key:"getLoadingTime",value:function(e,t,n){if(!e)return 0;var r=He(e),i="",o=e.tagName&&e.tagName.toUpperCase?e.tagName.toUpperCase():"";De.indexOf(o)>=0&&(i=Re(e.src));var a=ze(e);Me(a)&&(i=Re(a));var s=t[i],u=s?s.responseEnd:0;return Ze(Math.max(u,r-n))}},{key:"calcValue",value:function(e){var t=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0!==this.importantDOMs.length||0!==this.referDoms.length){var r=this.referDoms.length>=3?this.referDoms:[].concat(_toConsumableArray(this.referDoms),_toConsumableArray(this.importantDOMs.slice(this.referDoms.length-3))),i=0,o=null,a=r.map((function(r){var a=t.getLoadingTime(r,e,n);return a>i&&(i=a,o=r),a}));this.version===he.Viewport&&Y.log("".concat(this.version," fmp context:"),r,a);var s=_toConsumableArray(a).sort((function(e,t){return e-t}));this.sortedTimings=s;var u=function(e){return{value:e[e.length-1],p80Value:e[Math.floor(.8*(e.length-1))]}}(s);this.value=u.value,this.p80Value=u.p80Value,this.fmpDependDom=o}}},{key:"getRenderMetrics",value:function(e){for(var t=0,n=0,r=this.sortedTimings.length;n<r&&!(e<this.sortedTimings[n]);n++)t=n+1;return Ze(t/this.sortedTimings.length)}}]),e}(),sc=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_callSuper(this,t,[e])).version=he.Viewport,n}return _inherits(t,e),_createClass(t,[{key:"getScreenHeight",value:function(){return Le}},{key:"getWeightScoreImpl",value:function(e,t,n){return(Math.min(t.left+t.width,Ie)-Math.max(0,t.left))*(Math.min(t.top+t.height,n)-Math.max(0,t.top))*function(e){var t=Me(ze(e))?"IMG":e.tagName&&e.tagName.toUpperCase?e.tagName.toUpperCase():"";return xe[t]||1}(e)}},{key:"getWeightScore",value:function(e){if(!e||je(e))return 0;var t=Fe(e),n=this.getScreenHeight();return qe(t.top,t.left,t.width,t.height,n)?0:this.getWeightScoreImpl(e,t,n)}}]),t}(ac);function uc(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,i=r.firstInput,o=r.getFmpIgnoreConfig,a=new sc({getFmpIgnoreConfig:o}),s={},u=performance.getEntries()||[],c=performance.now();a.selectMostImportantDOMs(),Y.log("fmp costTime: ",performance.now()-c);for(var l=0,f=u.length;l<f;l++){var p=u[l],h=(e=p.name)?e.indexOf("http")<0?Re(location.protocol+e):Re(e):"";(!t||p.startTime>n)&&null==s[h]&&(s[h]=p)}a.calcValue(s,t,n);var d=a.p80Value,v=a.value,m=v,g=d;g=g>=0?g:0,m=Ve({fmp:m=m>=0?m:0,firstInput:i}),g=Ve({fmp:g,firstInput:i});var y=a.getFmpDependDom(),_=y?Ee(y):"";return Y.log("DUOTEL fmpDependDom",y),Y.log("DUOTEL fmp ".concat(t?"子页面":"首次",":"),n,_,m,v),{fmp:m,fmp_p80:g,ignoreDomCount:a.ignoreDomCount,fmpDependDomXPath:_}}var cc,lc=(cc=!1,"undefined"!=typeof window&&(window.addEventListener("online",(function(){cc=!1})),window.addEventListener("offline",(function(){cc=!0}))),function(){return cc});function fc(){return D(this,void 0,void 0,_regeneratorRuntime().mark((function e(){var t,n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){return new Promise((function(e,t){setTimeout((function(){e(2001)}),2e3)}))},t=function(e){return D(this,void 0,void 0,_regeneratorRuntime().mark((function t(){var n,r,i;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=performance.now(),t.next=3,fetch(e,{cache:"no-cache"});case 3:return r=performance.now(),i=r-n,t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})))},r=Promise.race[(t("https://cdn.poizon.com/node-common/c5365607-13e9-63ac-853b-18a8304edc41-102-102.png"),n())],e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))}function pc(){return D(this,void 0,void 0,_regeneratorRuntime().mark((function e(){var t,n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=navigator.connection,n=lc(),e.next=5,fc();case 5:return r=e.sent,i={connection:t,offlineFLag:n,logFlagImgTime:r},e.abrupt("return",{weakNetInfo:i});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))}var hc=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.mutationTimeQueue=[],this.mutationCount=0,this.timer=null,this.initTime=Ke(),this.startSubTime=0,this.observer=new MutationObserver((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Date.now();r.handleChange(e,t)})),this.lcpInstance=new $u,this.fidInstance=new ec,this.ttfbInstance=new tc,this.jitterRateInstance=new ic,this.firstInputInstance=new nc,this.isDOMLoaded=!1,this.isFirst=!0,this.isClicked=!1,this.firstMarkTime=0,this.isReported=!1,this.notify=t,this.client=n,this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;if(Je()){if(this.firstMarkTime=Ze(performance.now()),document.body)this.startObserver();else var t=setInterval((function(){document.body&&(clearInterval(t),e.startObserver())}),20);q(x,"DOMContentLoaded",(function(){e.isDOMLoaded=!0})),q(x,"click",(function(){e.isClicked=!0})),setTimeout((function(){e.isDOMLoaded=!0}),100),this.doSend()}}},{key:"startObserver",value:function(){document.body&&this.observer.observe(document.body,{childList:!0,subtree:!0}),this.handleChange([])}},{key:"handleChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();if(document.body){var n=this.mutationCount,r=t-(this.isFirst?this.initTime:this.startSubTime),i=n>0?r-this.mutationTimeQueue[n-1]:0;this.isClicked&&i>=1e3&&n>0?this.isReported||(this.timer&&(clearTimeout(this.timer),this.timer=null),this._send()):(!function(e){performance.mark("".concat(Ae).concat(e))}(n),setTimeout((function(){Ue(document.body,n)}),0),this.mutationTimeQueue[this.mutationCount++]=r)}}},{key:"reset",value:function(){this.observer.disconnect(),this.mutationCount=0,this.mutationTimeQueue=[],performance.clearMarks(Ae),this.isClicked=!1,Be(),this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"startSubPage",value:function(){this.isReported=!1,this.startSubTime=Date.now(),this.startObserver(!1),this.lcpInstance&&this.lcpInstance.onInit(),this.fidInstance&&this.fidInstance.onInit(),this.ttfbInstance&&this.ttfbInstance.onInit(),this.jitterRateInstance&&this.jitterRateInstance.onInit(),this.doSend()}},{key:"doSend",value:function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){e.isReported||e._send()}),5e3)}},{key:"_getReportData",value:function(){return D(this,void 0,void 0,_regeneratorRuntime().mark((function e(){var t,n,r,i,o,a,s,u,c,l,f,p,h,d,v,m,g,y,_,b,E,T=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=oc(),n=t.fp,r=t.fcp,i=N(t,["fp","fcp"]),o=this.lcpInstance.getValue(),a=o.time,s=o.outerHtml,u=this.fidInstance.getValue(),c=this.ttfbInstance.getValue(),l=this.jitterRateInstance.getValue(),f=uc(!this.isFirst,this.isFirst?0:this.startSubTime-this.initTime,{firstInput:this.firstInputInstance.getValue(),getFmpIgnoreConfig:function(){var e,t;return null===(t=null===(e=T.client)||void 0===e?void 0:e.settingConfig)||void 0===t?void 0:t.fmpIgnoreConfig}}),p=f.fmp,h=void 0===p?0:p,d=f.ignoreDomCount,v=f.fmpDependDomXPath,m=h>0?Ze(h):0,g=this.isFirst?Ze(a):0,y=0,!this.isFirst){e.next=14;break}return e.next=13,Qe(r);case 13:y=e.sent;case 14:return _=Math.max(m,this.firstMarkTime),!d&&g>_&&(_=g),e.next=18,pc();case 18:return b=e.sent,E=Object.assign({fmp:1e3*_,tti:1e3*Ze(y),ttfb:this.isFirst?1e3*Ze(c):0,lcp:1e3*g,lcpOuterHtml:s,ignoreDomCount:d,fmpDependDomXPath:v,fid:1e3*Ze(u),jitterRate:Ze(l),isFirst:this.isFirst,fp:1e3*n,fcp:1e3*r,flag:ye(b)},i),e.abrupt("return",Promise.resolve(E));case 21:case"end":return e.stop()}}),e,this)})))}},{key:"_send",value:function(){var e,t,n,r,i,o=this;if(this.isDOMLoaded){if(this.isReported=!0,(null===(e=null==x?void 0:x.DuOtelPercollect)||void 0===e?void 0:e.pcPerformanceData)&&!(null===(t=this.client)||void 0===t?void 0:t.pcPerformanceReported)){var a=null===(n=null==x?void 0:x.DuOtelPercollect)||void 0===n?void 0:n.pcPerformanceData;return Qe((null!==(r=null==a?void 0:a.fcp)&&void 0!==r?r:0)/1e3).then((function(e){var t=Object.assign(Object.assign({},a),{tti:1e3*Ze(e)});o.notify("performancePlugin",{type:"performance",data:t})})),this.client.pcPerformanceReported=!0,x.DuOtelPercollect.pcPerformanceData=null,this.isFirst=!1,void this.reset()}if((null===(i=this.client)||void 0===i?void 0:i.pcPerformanceReported)&&this.isFirst)return this.isFirst=!1,void this.reset();this._getReportData().then((function(e){Y.log("performance baseData",e),o.notify("performancePlugin",{type:"performance",data:e}),o.isFirst=!1,o.reset()}))}}},{key:"destroy",value:function(){this.reset(),this.startSubTime=0,this.isFirst=!1,this.isDOMLoaded=!1,this.isReported=!1}}]),e}(),dc=function(){function e(t){var n=this;_classCallCheck(this,e),this.isPlaying=!1,this.isPageActive=!1,this.isClicked=!1,this.activeTimer=null,this.intervalTime=1e4,this.startTime=Date.now(),this.endTime=0,this.notify=t,q(x,"beforeunload",(function(){n.endTime=Date.now(),n._send(),n.clear()})),q(x,"mousemove",this.genActiveFn()),q(x,"mousedown",this.genActiveFn()),q(x,"wheel",this.genActiveFn()),q(x,"keydown",this.genActiveFn()),q(x,"touchstart",this.genActiveFn()),q(x,"play",(function(){return n.isPlaying=!0})),q(x,"playing",(function(){return n.isPlaying=!0})),q(x,"pause",(function(){return n.isPlaying=!0})),q(x,"click",(function(){return n.isPlaying=!0})),this.init()}return _createClass(e,[{key:"genActiveFn",value:function(){var e,t,n=this;return e=function(){n.isPageActive=!0,n.activeTimer&&x.clearTimeout(n.activeTimer),n.activeTimer=x.setTimeout((function(){n.isPageActive=!0}),n.intervalTime)},t=500,function(){var n=arguments;setTimeout((function(){e.apply(null,n)}),t)}}},{key:"init",value:function(){this.clear(),this.isPlaying=!1,this.startTime=Date.now()}},{key:"clear",value:function(){this.isPlaying=!1,this.isPageActive=!1,this.isClicked=!1}},{key:"destroy",value:function(){this.clear(),this.startTime=0,this.endTime=0,this.isPlaying=!1,this.isPageActive=!1,this.isClicked=!1}},{key:"_send",value:function(){(this.isPlaying||this.isPageActive)&&(Y.log("stayTime",this.startTime,this.endTime),this.notify("performancePlugin",{type:"stayTime",data:{isClicked:this.isClicked,startTime:this.startTime,endTime:this.endTime}}))}}]),e}(),vc=["html","body","#app","#root","#__next"],mc=function(){function e(t){_classCallCheck(this,e),this._whiteScreenTimer=null,this._loopIntervalTime=2e3,this.notify=t,this._idleCallback=this._idleCallback.bind(this),this.init()}return _createClass(e,[{key:"init",value:function(){this.destroy(),"complete"===document.readyState?this._idleCallback():q(x,"load",this._idleCallback)}},{key:"_isContainer",value:function(e){var t=Te(e);return vc.includes(t)}},{key:"customElementsFromPoint",value:function(e,t){var n=[];if(e<0||t<0||e>window.innerWidth||t>window.innerHeight||!document.documentElement)return n;var r=document.elementFromPoint(e,t);if(!r)return n;for(;r;)n.includes(r)||n.push(r),r=r.parentElement;var i=document.documentElement;return n[n.length-1]!==i&&n.push(i),n}},{key:"elementsFromPoint",value:function(e,t){return"elementsFromPoint"in document?document.elementsFromPoint(e,t):"msElementsFromPoints"in document?document.msElementsFromPoint(e,t):this.customElementsFromPoint(e,t)}},{key:"sampling",value:function(){for(var e=0,t=1;t<=9;t++){var n=this.elementsFromPoint(window.innerWidth*t/10,window.innerHeight/2),r=this.elementsFromPoint(window.innerWidth/2,window.innerHeight*t/10);this._isContainer(n[0])&&e++,5!=t&&this._isContainer(r[0])&&e++}17!==e?this._whiteScreenTimer&&(clearTimeout(this._whiteScreenTimer),this._whiteScreenTimer=null):this._whiteScreenTimer||this.openWhiteLoop();var i=17===e;this.notify("performancePlugin",{type:"whiteScreen",data:{isWhiteScreen:i}})}},{key:"openWhiteLoop",value:function(){var e=this;this._whiteScreenTimer||(this._whiteScreenTimer=x.setInterval((function(){e._idleCallback()}),this._loopIntervalTime))}},{key:"destroy",value:function(){this._whiteScreenTimer&&x.clearInterval(this._whiteScreenTimer),this._whiteScreenTimer=null}},{key:"_idleCallback",value:function(){var e=this;"requestIdleCallback"in x?requestIdleCallback((function(t){t.timeRemaining()>0&&e.sampling()})):this.sampling()}}]),e}(),gc=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.localPerformance=x.performance,this.hardwareDataBuffer={memory:[],frame:[]},this.remainedTime=e.RECORD_INTERVAL,this.lastFrameTimeStamp=Date.now(),this.frameCountInRecordingCycle=0,this.timer=null,this.monitorMemory=function(){r.localPerformance.memory&&r.hardwareDataBuffer.memory.push({jsHeapSizeLimit:r.localPerformance.memory.jsHeapSizeLimit,usedJSHeapSize:r.localPerformance.memory.usedJSHeapSize,totalJSHeapSize:r.localPerformance.memory.totalJSHeapSize})},this.notify=n,this.intervalTime=t.memoryTime,q(x,"beforeunload",(function(){r._send(),r.clear()})),this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;this.clear(),this.timer=x.setInterval((function(){e._send()}),this.intervalTime)}},{key:"getReportData",value:function(){this.localPerformance.memory&&this.monitorMemory();var e=this.hardwareDataBuffer.memory,t=void 0===e?[]:e,n=t[t.length-1]?t[t.length-1]:null;return Object.assign({},n&&n)}},{key:"clear",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"destroy",value:function(){this.clear()}},{key:"_send",value:function(){this.notify("performancePlugin",{type:"memory",data:this.getReportData()}),this.hardwareDataBuffer.frame=[],this.hardwareDataBuffer.memory=[]}}]),e}();gc.RECORD_INTERVAL=250;var yc=function(e,t){var n=function(e){if(!$())return!1;var t=null==e?void 0:e.preloadStaticCfg;if(t){var n=t.whiteList,r=t.blackList,i=t.isOpen,o=x.location.href,a=r.some((function(e){return!!(e&&e.length>0)&&0===o.indexOf(e)})),s=n.some((function(e){return!!(e&&e.length>0)&&0===o.indexOf(e)}));return!(!i&&!s||a)}return!1}(t);if(n&&(null==t?void 0:t.preloadStaticCfg)){var r=null==t?void 0:t.preloadStaticCfg,i=r.frameUrl,o=r.durationMs;if(i){Y.log("preloadStatic exec, config is:",null==t?void 0:t.preloadStaticCfg);var a=document.createElement("iframe");a.style.display="none",a.src=i,document.body.appendChild(a),setTimeout((function(){document.body.removeChild(a)}),o||3e3)}}},_c={"h5-ssr":"nvwa-ssr"};function bc(e){return P.isNumber(e)?e/1e3:e}function Ec(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(["nvwa-ssr"].indexOf(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")>=0){for(var t=e.split("/"),n=e,r=0,i=t.length;r<i;r++){var o=t[r]||"";24===o.length&&(n=o)}return n}return e}var Tc=function(e){return"[object Object]"===Object.prototype.toString.call(e)};var wc=function(e){!function(e){try{if(!Tc(e))return void Y.log("json must be a plaint object");var t=Object.keys(e).reduce((function(t,n){return"".concat(t,"&").concat(encodeURIComponent(n),"=").concat(Tc(e[n])?encodeURIComponent(JSON.stringify(e[n])):encodeURIComponent(e[n]))}),"https://dw-prd.cn-hangzhou.log.aliyuncs.com/logstores/h5-ssr-client/track?APIVersion=0.6.0");(new Image).src=t}catch(e){Y.error("track error: ",e)}}(e)};var Sc=function(){function e(t){var n=this;_classCallCheck(this,e),this.initLayoutInfo=[],this.shakeInit=function(){var e=n.config.shakeCls;if(e){var t=Array.from(document.querySelectorAll(e)).map((function(e,t){var n=e.getBoundingClientRect().height;return{top:top,height:n,index:t,cls:e.className,id:e.id}}));n.initLayoutInfo=t}},this.calcShakeValue=function(){var e,t,r=n.config.shakeCls;if(r){var i=Array.from(document.querySelectorAll(r)),o=_toConsumableArray(n.initLayoutInfo),a=[];return i.forEach((function(e){var t=e.getBoundingClientRect().height,n=e.className,r=e.id,i=o.find((function(e){return e.cls===n||e.id&&e.id===r}));i?(o=o.filter((function(e){return e!==i})),a.push({heightDiff:Math.floor(Math.abs(t-i.height)),cls:e.className})):a.push({heightDiff:Math.floor(t),cls:e.className})})),o.forEach((function(e){a.push({heightDiff:Math.floor(e.height),cls:e.cls})})),(a=a.filter((function(e){return e.heightDiff>0}))).sort((function(e,t){return e.heightDiff-t.heightDiff>0?-1:1})),Y.log("dom shake: ",a),{shakeValue:(null===(e=a[0])||void 0===e?void 0:e.heightDiff)||0,shakeDomCls:(null===(t=a[0])||void 0===t?void 0:t.cls)||""}}return{shakeValue:0,shakeDomCls:""}},this.config=t,this.shakeInit()}return _createClass(e,[{key:"sendData",value:function(e,t){if(x.Jockey&&P.isObject(e)){var n=function(e,t,n){var r=_c[t]||t,i=oc();return Object.assign({h5_section:r,url:window.location.href,title:document.title,uniqUrl:Ec(x.location.pathname,r),fmp:bc(e.fmp),lcp:bc(e.lcp),fcp:bc(e.fcp),fp:bc(e.fp),tti:bc(e.tti),ttfb:bc(e.ttfb),largestDomSelector:e.fmpDependDomXPath,dns_cost:bc(e.dnsCost),doc_request_start:e.requestStart,doc_request_cost:e.responseStart-e.requestStart,doc_response_cost:e.responseEnd-e.responseStart,doc_transfer_size:e.transferSize,dom_complete:e.domComplete,dom_interactive:e.domInteractive,dom_ready:e.domReady,docNetCost:e.responseEnd-i.timeOrigin,connectEnd:e.connectEnd,connectStart:e.connectStart,requestStart:e.requestStart,responseEnd:e.responseEnd,ignoreDomCount:e.ignoreDomCount,flag:e.flag,lcpOuterHtml:e.lcpOuterHtml,version:"apm_".concat(ou),ua:navigator.userAgent||""},n||{})}(e,t,this.calcShakeValue());Y.log("sendAppData: ",e,n),wc(n),x.Jockey.send("h5-performance",n)}}}]),e}();var Oc=function(e,t,n){var r=function(e,t){if(!$())return!1;var n=null==e?void 0:e.sendDataToAppCfg;if(n&&t){var r=n.whiteAppList;return(void 0===r?[]:r).includes(t)}return!1}(t,n);if(r&&n){var i=function(e,t){var n=null==e?void 0:e.sendDataToAppCfg;if(n){var r=n.appConfig,i=null==r?void 0:r[t];if(i)return i}return{}}(t,n);if(i){var o=new Sc(i);null==o||o.sendData(e,n)}}},kc=null,Cc=null,Rc=null,Pc="performancePlugin",Ac={name:Pc,isPluginEnable:function(){return this.options.sendPerformance},isPluginRegist:function(){return!!(kc&&Rc&&Cc)},destroy:function(){kc&&(kc.destroy(),kc=null),Cc&&(Cc.destroy(),Cc=null),Rc&&(Rc.destroy(),Rc=null)},monitor:function(e){var t,n,r,i=this;if(x){if(null===(t=null==x?void 0:x.DuOtelPercollect)||void 0===t?void 0:t.pcPerformanceData){var o=null===(n=null==x?void 0:x.DuOtelPercollect)||void 0===n?void 0:n.pcPerformanceData;Qe((null!==(r=null==o?void 0:o.fcp)&&void 0!==r?r:0)/1e3).then((function(t){var n=Object.assign(Object.assign({},o),{tti:1e3*Ze(t)});e(Pc,{type:"performance",data:n}),i.pcPerformanceReported=!0,x.DuOtelPercollect.pcPerformanceData=null}))}kc&&Rc&&Cc||(kc=new dc(e),Rc=new hc(e,this),function(){try{return x.self!==x.top}catch(e){return!0}}()||(Cc=new mc(e)))}},receiveBroadcast:function(e,t){var n=_slicedToArray(t,1)[0],r=n.isUpdate;"routePlugin"===n.from&&r&&(kc&&kc.init(),Cc&&Cc.init(),Rc&&Rc.startSubPage())},dataTransform:function(e){return e},dataSend:function(e,t){var n=t.type,r=t.data;"performance"===n&&(this.performanceData=r,yc(0,this.settingConfig),Oc(r,this.settingConfig,this.options.appId)),this.duOtelOpentelemetry.startNewPerformanceSpan(n,Object.assign(Object.assign({},r),{type:n})),this.notify(n,r)}},Lc=null,Ic={name:"memoryPlugin",isPluginEnable:function(){return this.options.sendMemory},isPluginRegist:function(){return!!Lc},destroy:function(){Lc&&(Lc.destroy(),Lc=null)},monitor:function(e){if(x&&!Lc){var t=this.options.memoryTime;Lc=new gc({memoryTime:t},e)}},receiveBroadcast:function(e,t){var n=_slicedToArray(t,1)[0],r=n.isUpdate;"routePlugin"===n.from&&r&&Lc&&Lc.init()},dataTransform:function(e){return e},dataSend:function(e,t){var n=t.type,r=t.data;this.duOtelOpentelemetry.startNewPerformanceSpan(n,Object.assign(Object.assign({},r),{type:n}))}},xc=!1,Nc="errorPlugin",Dc={name:Nc,isPluginEnable:function(){return this.options.functionList.includes("jsError")},isPluginRegist:function(){return xc},destroy:function(){$t&&V(x,"error",$t,!1),en&&V(x,"unhandledrejection",en,!1),console.error=tn,xc=!1},monitor:function(e){if(x&&!xc){if(x.DuOtelPercollect&&x.DuOtelPercollect.pcData){var t,n=_createForOfIteratorHelper(x.DuOtelPercollect.pcData);try{var r=function(){var n=t.value,r={};"error"===n.errorType?r=Qt(n.errorEvent):"unhandledrejection"===n.errorType&&(r=Yt(n.errorEvent)),setTimeout((function(){e(Nc,r)}),16.8)};for(n.s();!(t=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}}var i;i=function(t){t&&e(Nc,t)},q(x,"error",$t=function(e){var t=Qt(e);i(t)},!0),q(x,"unhandledrejection",en=function(e){var t=Yt(e);i(t)},!0),console.error=function(){for(var e,t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=[].concat(r).find((function(e){return xt(e)}));if(a){var s=null===(t=null===(e=Jt({error:a,message:null==a?void 0:a.message}))||void 0===e?void 0:e.exception)||void 0===t?void 0:t.values[0],u=s.type,c=s.value,l=s.stacktrace,f=(null==l?void 0:l.frames)||[],p=(null==f?void 0:f.length)>0?f[f.length-1]:{},h=p.lineno,d=p.filename,v=p.colno,m={message:c,stack:null==a?void 0:a.stack,type:u,source:d,lineno:h,colno:v,frames:JSON.stringify(f),errorLevel:de.CONSOLE_ERROR_LEVEL};Y.log("ConsoleError",m),i({type:"ConsoleError",params:m,name:"consoleError"})}return tn.call.apply(tn,[console].concat(r))},xc=!0}},dataTransform:function(e){return this.errorTransform(e)},dataSend:function(e,t){e("broadcast",{from:Nc,data:t})}},Mc=null,jc=null,Uc="recordPlugin",Bc={name:Uc,isPluginEnable:function(){var e;return D(this,void 0,void 0,_regeneratorRuntime().mark((function t(){var n,r,i,o,a,s,u,c,l;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.options,r=n.type,i=n.enableRecord,o=n.area,a=n.env,s=n.appId,!i||"B"!==r||"cn"!==o){t.next=13;break}if(jc){t.next=10;break}return jc={},u=["xdw","pre","prod"].includes(a)?"du-record-default":"du-record-test",t.next=7,_e("https://cdn-config.dewu.com/node-common/configCenter/du-record/".concat(u,".json"));case 7:c=t.sent,l=c.data,jc=ge(l)||{};case 10:if(null===(e=null==jc?void 0:jc.whiteList)||void 0===e?void 0:e.some((function(e){return e.appId===s}))){t.next=12;break}return t.abrupt("return",!1);case 12:return t.abrupt("return",!0);case 13:return t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,this)})))},isPluginRegist:function(){return!!Mc},destroy:function(){Mc=null},monitor:function(){var e=this;if(x&&!Mc){var t,n=this.options,r=n.env,i=n.area,o=n.type,a=n.appId;Mc={},(t="https://cdn-jumper.dewu.com/sdk-linker/du-record.js",new Promise((function(e,n){var r=document.createElement("script");function i(){e(),a()}function o(e){n(e||new Error("loadScriptError,URL:".concat(t))),a()}function a(){r.removeEventListener("load",i),r.removeEventListener("error",o)}r.type="text/javascript",r.readyState?r.onreadystatechange=function(){"loaded"===r.readyState||"complete"===r.readyState?e():n(new Error("loadScriptError,URL:".concat(t))),r.onreadystatechange=null}:(r.addEventListener("load",i),r.addEventListener("error",o)),r.src=t,document.head&&document.getElementsByTagName("head")[0].appendChild(r)}))).then((function(){var e;if(!(null===(e=null==x?void 0:x.DuRecord)||void 0===e?void 0:e.DuRecord))throw new Error("loadDuRecordError");(Mc=new x.DuRecord.DuRecord({recordMode:"fragment",env:r,area:i,appType:o,inApp:$(),appId:a,whiteConfig:jc})).start()})).catch((function(){e.send("loadDuRecordError")}))}},receiveBroadcast:function(e,t){var n,r=_slicedToArray(t,1)[0],i=r.data,o=r.from;if("errorPlugin"===o&&i&&e(Uc,i),"routePlugin"===o){var a=_slicedToArray(t,1)[0],s=a.type,u=a.prePage;null===(n=null==Mc?void 0:Mc.onRouterChange)||void 0===n||n.call(Mc,{type:s,prePage:u})}},dataTransform:function(e){return e},dataSend:function(e,t){var n,r=t.params,i=t.errorSpan,o=t.name;"assetsError"!==o&&(null===(n=null==Mc?void 0:Mc.actionUpload)||void 0===n||n.call(Mc,{traceId:i._spanContext.traceId,frames:(null==r?void 0:r.frames)||"",errorMsg:(null==r?void 0:r.message)||"",otelSessionId:this.sessionId||"",userId:this.options.userId||"",userName:this.options.userName||"",otelParams:Object.assign(Object.assign({},r||{}),{scope:o})}))}},Hc=!1,zc=null,Fc="resourcePlugin",qc={name:Fc,isPluginEnable:function(){return!0},isPluginRegist:function(){return Hc},destroy:function(){zc&&(zc.disconnect(),zc=null)},monitor:function(e){if(x){Hc=!0;try{zc=new PerformanceObserver((function(t){var n=t.getEntries().filter((function(e){var t;return!["fetch","xmlhttprequest","beacon"].includes(null===(t=e)||void 0===t?void 0:t.initiatorType)}));!n||n.length<=0||e(Fc,n)})),zc.observe({entryTypes:["resource"],buffered:!0})}catch(e){}}},dataTransform:function(e){return e},dataSend:function(e,t){var n=this;t.forEach((function(e){n.duOtelOpentelemetry.startResourceSpan(e.toJSON())}))}},Vc=!1,Zc=null,Gc="longtaskPlugin",Xc={name:Gc,isPluginEnable:function(){return!0},isPluginRegist:function(){return Vc},destroy:function(){Zc&&(Zc.disconnect(),Zc=null)},monitor:function(e){var t=this;if(x){if(x.DUOTEL_LONG_TASK&&x.DUOTEL_LONG_TASK.entries){var n=x.DUOTEL_LONG_TASK.entries;setTimeout((function(){Wc.call(t,n,e)}),16.8)}try{Zc=new PerformanceObserver((function(n){var r=n.getEntries();!r||r.length<=0||Wc.call(t,r,e)})),Zc.observe({type:"longtask",buffered:!0})}catch(e){}Vc=!0}},dataTransform:function(e){return e},dataSend:function(e,t){var n,r=(null===(n=this.settingConfig)||void 0===n?void 0:n.longtask)||{};I(null==r?void 0:r.sample,null==r?void 0:r.percentage)&&this.duOtelOpentelemetry.startLongTaskSpan(t)}};function Wc(e,t){var n=this,r=e.map((function(e){var t=null==e?void 0:e.attribution.map((function(e){return e.toJSON()})),n=e.toJSON();return Object.assign(Object.assign({},n),{attribution:t})})),i=function(e){var t,n=e[0].duration+1e3,r=e.filter((function(e){return e.startTime<=n})),i=0,o=_createForOfIteratorHelper(r);try{for(o.s();!(t=o.n()).done;)i+=t.value.duration}catch(e){o.e(e)}finally{o.f()}return{isLagging:i>=600,entries:r}}(r);i.isLagging&&t(Gc,{isOneSecondLagging:i.isLagging,data:ye(i.entries)}),r.forEach((function(e){var r=function(e){return e.duration>200}(e),i=Object.assign(Object.assign({},e),{attribution:ye(e.attribution),isLagging:r,relatedClick:r&&n.currentClick?ye(n.currentClick):""});t(Gc,i)}))}var Jc=new Error("资源图片URL未设置尺寸处理参数"),Kc=!1,Qc={name:"largeImage",isPluginEnable:function(){return!0},isPluginRegist:function(){return Kc},monitor:function(e){if(x){Kc=!0;try{var t=new PerformanceObserver((function(t){var n=t.getEntries().filter((function(e){var t;return["img"].includes(null===(t=e)||void 0===t?void 0:t.initiatorType)}));!n||n.length<=0||e("largeImage",n)}));t.observe({entryTypes:["resource"]})}catch(e){}}},dataTransform:function(e){var t=this,n=I(this.options.largeImgSample);return"C"===this.options.type&&n?(e||[]).map((function(e){var n=e.name;return Yc(n)&&!$c(n)?{appId:t.options.appId,url:n,size:e.transferSize}:null})).filter((function(e){return e})):[]},dataSend:function(e,t){var n=this;(null==t?void 0:t.length)&&t.forEach((function(e){n.exception(Jc,e)}))}},Yc=function(e){try{if(!e)return!1;var t=new URL(e).pathname;if(!t||!s.test(t))return!1;var n=(r=t.match(o))&&r.length>=3?{width:+r[1],height:+r[2]}:null;return!!n&&(!(n.width<1500||n.height<1500)&&O.some((function(e){return t.includes(e)})))}catch(e){return!1}var r},$c=function(e){return a.some((function(t){return t.test(e)}))},el=new Error("请求入参包含不合规数据"),tl=!1,nl={name:"compliance",isPluginEnable:function(){return!0},isPluginRegist:function(){return tl},monitor:function(){tl=!0},receiveBroadcast:function(e,t){var n=_slicedToArray(t,1)[0],r=n.from,i=n.data;"request"===r&&i&&e("compliance",i)},dataTransform:function(e){if("C"===this.options.type){var t=e.attributes.requestType;if(t&&("xhr"===t||"fetch"===t)){var n=I(this.options.compliantSample,1e4),r=ee(),i=!1;if($()?ne(r,"5.10.0")>0&&n&&(i=!0):i=n,i){var o=e.attributes.requestHeader,a=e.attributes.originUrl,s=e.attributes.data,u=G(a),c=ol(o,u,s);return c?{appId:this.options.appId,url:a,msg:"".concat(c.msg,"中包含不合规数据字段").concat(c.fields)}:null}return null}}},dataSend:function(e,t){t&&this.exception(el,t)}},rl=["uuid","oaid","idfa"],il=function(e){return!!e&&rl.map((function(t){return e[t]?t:""})).filter((function(e){return e})).toString()},ol=function(e,t,n){return il(e)?{msg:"Request Header",fields:il(e)}:il(t)?{msg:"Url Query",fields:il(t)}:il(n)?{msg:"Request Body",fields:il(n)}:null},al=new Error("URL Query中包含关键字（undefined）"),sl=!1,ul={name:"undefinedInQuery",isPluginEnable:function(){return!0},isPluginRegist:function(){return sl},monitor:function(e){if(x){sl=!0;var t=I(this.options.hasUndefInQuerySample);if(this.options.appId&&t){var n=cl();n.length&&e("undefinedInQuery",n)}}},dataTransform:function(e){return{appId:this.options.appId,utl:F(),keys:e.toString()}},dataSend:function(e,t){this.exception(al,t)}},cl=function(){var e=G(F());return Object.keys(e).filter((function(t){return"undefined"===e[t]}))},ll=function(t){function n(e){var t;return _classCallCheck(this,n),(t=_callSuper(this,n,[e])).configCenterUserInfo=null,t.pcPerformanceReported=!1,t.microApp={},t.settingConfig=null,t.scheduleStack=[],t.pageInNotSample=!1,t.ignoreErrors=$()?[].concat(m,v):[].concat(m),t.currentClick=null,t.clearPercollect(),t.getSettingConfig(),t.options=new nn(Object.assign(e||{},x.DU_OTEL_CONFIG||{})),t.duOtelOpentelemetry=new au(_assertThisInitialized(t),e),t.init(),t.setConfig=t.setConfig.bind(_assertThisInitialized(t)),t.setPage=t.setPage.bind(_assertThisInitialized(t)),t.exception=t.exception.bind(_assertThisInitialized(t)),t.send=t.send.bind(_assertThisInitialized(t)),t.info=t.info.bind(_assertThisInitialized(t)),t.warning=t.warning.bind(_assertThisInitialized(t)),t.setMicroApp=t.setMicroApp.bind(_assertThisInitialized(t)),t.setActiveApp=t.setActiveApp.bind(_assertThisInitialized(t)),t.on=t.on.bind(_assertThisInitialized(t)),t.off=t.off.bind(_assertThisInitialized(t)),t}return _inherits(n,t),_createClass(n,[{key:"clearPercollect",value:function(){"removeEventListener"in x&&(x.DuOtelPercollect&&x.DuOtelPercollect.pcErr&&x.removeEventListener("error",x.DuOtelPercollect.pcErr,!0),x.DuOtelPercollect&&x.DuOtelPercollect.pcRej&&x.removeEventListener("unhandledrejection",x.DuOtelPercollect.pcRej,!0)),x.DUOTEL_LONG_TASK&&x.DUOTEL_LONG_TASK.observer&&x.DUOTEL_LONG_TASK.observer.disconnect()}},{key:"mergeConfig",value:function(e){this.options.mergeOptions(e);var t=this.options,n=t.appId,r=t.env,i=t.area,o=t.userId,a=t.userName,s=t.email,u=t.departmentId;this.initMetrics({appId:n,env:M(r,i),globalTags:Object.assign(Object.assign(_defineProperty({userid:o?String(o):void 0,username:a},b,i),s&&{email:s}),u&&{departmentId:u})}),this.duOtelOpentelemetry.mergeResource(this.options)}},{key:"registPlugins",value:function(){this.use([Xc,qc,mu,cu,Dc,Gu,Ac,Ic,Qc,nl,ul,Bc])}},{key:"getSettingConfig",value:function(){return D(this,void 0,void 0,_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.settingConfig||this.settingConfigReqInst){e.next=6;break}return this.settingConfigReqInst=_e("https://cdn-config.dewu.com/node-common/configCenter/duotel-trace/setting.json").then((function(e){var t=e.data;return ge(t)})),e.next=4,this.settingConfigReqInst;case 4:this.settingConfig=e.sent,this.pkgIgnoreError();case 6:this.isPageNotInSample();case 7:case"end":return e.stop()}}),e,this)})))}},{key:"isPageNotInSample",value:function(){var e,t,n;if(!this.settingConfig)return!1;for(var r=F(),i=(null!==(e=this.settingConfig)&&void 0!==e?e:{}).pageConfig,o=void 0===i?{}:i,a=!1,s=0,u=Object.keys(o);s<u.length;s++){var c=u[s];if(r.includes(c)&&!I(null===(t=o[c])||void 0===t?void 0:t.sample,null===(n=o[c])||void 0===n?void 0:n.percentage)){a=!0;break}}this.pageInNotSample=a}},{key:"init",value:function(){return D(this,void 0,void 0,_regeneratorRuntime().mark((function e(){var t,n,r,i,o,a,s,u,c,l,f,p=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.registPlugins(),t=this.options,n=t.appId,r=t.env,i=t.area,o=t.userId,a=t.userName,s=t.appVersion,u=t.release,c=t.type,n&&this.initMetrics({appId:n,env:M(r,i),globalTags:_defineProperty({userid:o?String(o):void 0,username:a},b,i)}),this.pkgIgnoreError(),this.duOtelOpentelemetry.exporter.completeSpans(),this.getConfigCenter(),o){e.next=11;break}return e.next=9,oe();case 9:l=e.sent,this.mergeConfig({userName:"C"===c?l:a});case 11:if(s){e.next=19;break}return e.next=14,ie();case 14:if(e.t0=e.sent,e.t0){e.next=17;break}e.t0=u;case 17:f=e.t0,this.mergeConfig({appVersion:f});case 19:x.setTimeout((function(){p.configCenterUserInfo||(p.getUserDone=!0,p.responseMap={})}),5e3);case 20:case"end":return e.stop()}}),e,this)})))}},{key:"initMetrics",value:function(e){var t,n,r=e.env,i=e.globalTags;if(this.metricsInstance){var o=null===(t=this.metricsInstance)||void 0===t?void 0:t.options,a=o.globalTags,s=o.appName,u=o.env;null===(n=this.metricsInstance)||void 0===n||n.merge({appName:this.getActiveApp()||s,env:r||u,globalTags:Object.assign(Object.assign({},a),i)})}else this.metricsInstance=new at(this,{appName:this.getActiveApp(),env:r,globalTags:i})}},{key:"pkgIgnoreError",value:function(){var e,t=this.options,n=t.ignoreErrors,r=t.appId;this.ignoreErrors=X([].concat(_toConsumableArray(this.ignoreErrors),_toConsumableArray(n),_toConsumableArray((null===(e=this.settingConfig)||void 0===e?void 0:e.ignoreErrors)||[]))),h.includes(r)&&(this.ignoreErrors=X([].concat(_toConsumableArray(this.ignoreErrors),d))),Y.log("要忽略的错误",this.ignoreErrors)}},{key:"getConfigCenter",value:function(){var t=this;x.setTimeout((function(){return D(t,void 0,void 0,_regeneratorRuntime().mark((function t(){var n,r,i,o,a,s,u,c,l,f,p,h,d,v,m,y,_,b,E=this;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Y.log("isInit",this.isInit(),this.options,this.settingConfig),!this.isInit()||this.options.dynamic){t.next=3;break}return t.abrupt("return");case 3:if(this.SERVICE_NAME){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,et(this.SERVICE_NAME);case 8:if(i=t.sent,o=i.debug,a=i.appVersion,s=i.userInfo,Y.bindOptions(o),u=(null===(n=null==i?void 0:i.ignoreErrors)||void 0===n?void 0:n.map((function(e){return null==e?void 0:e.message})))||[],c=(null===(r=null==i?void 0:i.ignoreUrls)||void 0===r?void 0:r.map((function(e){return null==e?void 0:e.url})))||[],t.t0=a,t.t0){t.next=18;break}return t.next=17,ie();case 17:t.t0=t.sent;case 18:l=t.t0,this.mergeConfig(Object.assign(Object.assign({},i),{ignoreErrors:[].concat(_toConsumableArray(this.ignoreErrors),_toConsumableArray(u)),ignoreUrls:[].concat(_toConsumableArray(this.options.ignoreUrls),_toConsumableArray(c)),appVersion:l})),f=s.userInfoAPI,p=s.userID,h=f&&p?s:g,this.getUserByUrl(h,(function(e){Y.log("getConfigCenter getUserByUrl success:",e,E)})),this.registPlugins(),this.pkgIgnoreError(),this.duOtelOpentelemetry.exporter.completeSpans(),t.next=35;break;case 28:t.prev=28,t.t1=t.catch(5),d=this.options,v=d.appId,m=d.env,y=d.area,_=v||this.SERVICE_NAME.replace(e,""),b=m||j(),this.mergeConfig({appId:_,env:M(b,y)}),this.getUserByUrl(g,(function(e){Y.log("getConfigCenter getUserByUrl error:",e,E)}));case 35:case"end":return t.stop()}}),t,this,[[5,28]])})))}),2e3)}},{key:"getUserByUrl",value:function(e,t){var n=e||{},r=n.userInfoAPI,i=n.userID,o=n.userName;for(var a in Y.log("getUserByUrl:",e,this.responseMap),this.responseMap){var s=this.responseMap[a];if(a.includes(r)&&s){var u=J(s,i),c=J(s,o);if(Y.log("getUserByUrl userInfo: userId -> ".concat(u,", userName -> ").concat(c)),u||c){var l={userId:u,userName:c};this.userResponse(l,t);break}}}}},{key:"userResponse",value:function(e,t){Y.log("userResponse:",e),t&&t(e),this.mergeConfig(e),localStorage.setItem("DUOTELCACHE",JSON.stringify(e)),this.getUserDone=!0,this.responseMap={}}},{key:"setConfig",value:function(e){return D(this,void 0,void 0,_regeneratorRuntime().mark((function t(){var n,r,i,o,a,s,u,c;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Y.bindOptions(e.debug),Y.log("setConfig",e,this.settingConfig),n=e.release,r=e.userId,i=e.appId,o=e.type,a=e.userName,s=e.appVersion,t.t1=s,t.t1){t.next=8;break}return t.next=7,ie();case 7:t.t1=t.sent;case 8:if(t.t0=t.t1,t.t0){t.next=11;break}t.t0=n;case 11:if(u=t.t0,!r){t.next=16;break}t.t2=String(r),t.next=19;break;case 16:return t.next=18,oe();case 18:t.t2=t.sent;case 19:c=t.t2,i&&(this.SERVICE_NAME=i),this.mergeConfig(Object.assign(Object.assign({},e),{appVersion:u,userName:"C"===o?c:a})),this.registPlugins(),this.pkgIgnoreError(),this.duOtelOpentelemetry.exporter.completeSpans();case 25:case"end":return t.stop()}}),t,this)})))}},{key:"errorTransform",value:function(e){var t=e.type,n=e.params,r=t,o=this.options,a=o.consoleError,s=o.transformConsoleError2Error,u=o.onError;if("customError"!==t&&i.test(n.frames))return null;if("ConsoleError"===t&&!a)return null;if(P.isString(n.message)&&W(n.message,this.ignoreErrors))return null;if(u&&u(n.message,n))return null;s&&"ConsoleError"===t&&(r="error");var c=Object.assign(Object.assign({},e),{type:r}),l=this.duOtelOpentelemetry.startErrorSpan(c);return Object.assign(Object.assign({},c),{errorSpan:l})}},{key:"exception",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Y.log("exception",n),function(e,t,n){var r,i,o=null===(i=null===(r=Jt({error:e,message:null==e?void 0:e.message,filename:null==t?void 0:t.filename,lineno:null==t?void 0:t.lineno,colno:null==t?void 0:t.colno}))||void 0===r?void 0:r.exception)||void 0===i?void 0:i.values[0],a=o.type,s=o.value,u=o.stacktrace,c=(null==u?void 0:u.frames)||[],l=(null==c?void 0:c.length)>0?c[c.length-1]:{},f=l.lineno,p=l.filename,h=l.colno;if("waring"!==a){var d={extra:JSON.stringify(xt(t)?{name:t.name,message:t.message,stack:t.stack}:t),message:s,stack:null==e?void 0:e.stack,type:a,source:p,lineno:f,colno:h,frames:JSON.stringify(c),errorLevel:de.CUSTOM_ERROR_LEVEL};Y.log("customError",d),n({type:"customError",params:d,name:"exception"})}}(e,n,(function(e){t.errorTransform(e)}))}},{key:"setPage",value:function(e){this.duOtelOpentelemetry.startRouteSpan({type:"setPage",prePage:e})}},{key:"send",value:function(e,t,n){Y.log("自定义埋点 send:",e,t,n),this.metricsInstance&&this.metricsInstance.send(e,t,n)}},{key:"info",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this.duOtelOpentelemetry.startMsgSpan("info",t,e)}},{key:"warning",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this.duOtelOpentelemetry.startMsgSpan("warning",t,e)}},{key:"setMicroApp",value:function(e){var t=e.name,n=e.release,r=e.prefix,i=e.combo,o=e.env,a=N(e,["name","release","prefix","combo","env"]);Y.log("setMicroApp:",e),this.microApp[t]=Object.assign(Object.assign(Object.assign({},this.microApp[t]),{release:n,prefix:r,combo:i,env:o}),a),this.mergeMicroApp()}},{key:"setActiveApp",value:function(e){e&&e!==this.options.appId&&(this.microApp[e]=Object.assign(Object.assign({},this.microApp[e]),{active:!0}));for(var t=0,n=Object.entries(this.microApp);t<n.length;t++){var r=_slicedToArray(n[t],2),i=r[0],o=r[1];this.microApp[i]=Object.assign(Object.assign({},o),{active:e===i})}this.mergeMicroApp()}},{key:"mergeMicroApp",value:function(){this.options.mergeOptions({microApp:JSON.stringify(this.microApp,(function(e,t){return t instanceof RegExp?t.toString():t}))}),this.duOtelOpentelemetry.mergeResource(this.options)}},{key:"getActiveApp",value:function(){var e=this.options,t=e.appId,n=e.routeAppId;if(n)return n;if(!Object.keys(this.microApp).length)return t;for(var r=0,i=Object.entries(this.microApp);r<i.length;r++){var o=_slicedToArray(i[r],2),a=o[0];if(o[1].active)return a}return t}},{key:"getActiveAppEnv",value:function(){var e,t=this.options,n=t.env,r=t.routeAppId;if(r&&(null===(e=this.microApp[r])||void 0===e?void 0:e.env))return this.microApp[r].env;if(!Object.keys(this.microApp).length)return n;for(var i=0,o=Object.entries(this.microApp);i<o.length;i++){var a=_slicedToArray(o[i],2),s=(a[0],a[1]);if(s.active&&s.env)return s.env}return n}},{key:"on",value:function(e,t){this.subscribe.watch(e,t)}},{key:"off",value:function(e){this.subscribe.offWatch(e)}},{key:"notify",value:function(e,t){this.subscribe.notify(e,t)}}]),n}(rt);"undefined"!=typeof window&&"undefined"!=typeof document&&(x.DUOTEL=x.DUOTEL||new ll({}))}();
